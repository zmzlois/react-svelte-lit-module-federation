(self.webpackChunk_rsdoctor_client=self.webpackChunk_rsdoctor_client||[]).push([["310"],{43305:function(e,t,i){"use strict";i.d(t,{H:function(){return a}});var n,s=i("7875"),o=i("25460");let r=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("defaultWorkerFactory",{createScriptURL:e=>e});class l{constructor(e,t,i,n,o){this.id=t;let l=function(e){if(s.li.MonacoEnvironment){if("function"==typeof s.li.MonacoEnvironment.getWorker)return s.li.MonacoEnvironment.getWorker("workerMain.js",e);if("function"==typeof s.li.MonacoEnvironment.getWorkerUrl){let t=s.li.MonacoEnvironment.getWorkerUrl("workerMain.js",e);return new Worker(r?r.createScriptURL(t):t,{name:e})}}throw Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(i);if("function"==typeof l.then?0:1)this.worker=Promise.resolve(l);else this.worker=l;this.postMessage(e,[]),this.worker.then(e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){var i;null===(i=this.worker)||void 0===i||i.then(i=>i.postMessage(e,t))}dispose(){var e;null===(e=this.worker)||void 0===e||e.then(e=>e.terminate()),this.worker=null}}class a{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++a.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new l(e,n,this._label||"anonymous"+n,t,e=>{(0,o.HZ)(e),this._webWorkerFailedBeforeError=e,i(e)})}}a.LAST_WORKER_ID=0},70758:function(e,t,i){"use strict";i.d(t,{X:function(){return o},Z:function(){return n}});class n{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){let t=s(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=s(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=s(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=s(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=s(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=s(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=s(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=s(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=s(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=s(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function s(e){return"number"==typeof e?`${e}px`:e}function o(e){return new n(e)}},98153:function(e,t,i){"use strict";i.d(t,{Ry:function(){return c},bK:function(){return h}});var n,s,o=i("72646"),r=i("9737"),l=i("19527"),a=i("7875"),d=i("64618");function h(e,t,i){let n=i.mode===s.ALIGN?i.offset:i.offset+i.size,o=i.mode===s.ALIGN?i.offset+i.size:i.offset;if(0===i.position)return t<=e-n?n:t<=o?o-t:Math.max(e-t,0);return t<=o?o-t:t<=e-n?n:0}i("63751"),(n=s||(s={}))[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN";class c extends l.JT{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=l.JT.None,this.toDisposeOnSetContainer=l.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=r.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,r.Cp(this.view),this.setContainer(e,t),this._register((0,l.OF)(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(i=this.shadowRootHostElement)||void 0===i||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=r.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});let e=document.createElement("style");e.textContent=u,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(r.$("slot"))}else this.container.appendChild(this.view);let i=new l.SL;c.BUBBLE_UP_EVENTS.forEach(e=>{i.add(r.mu(this.container,e,e=>{this.onDOMEvent(e,!1)}))}),c.BUBBLE_DOWN_EVENTS.forEach(e=>{i.add(r.mu(this.container,e,e=>{this.onDOMEvent(e,!0)},!0))}),this.toDisposeOnSetContainer=i}}show(e){var t,i;this.isVisible()&&this.hide(),r.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",r.$Z(this.view),this.toDisposeOnClean=e.render(this.view)||l.JT.None,this.delegate=e,this.doLayout(),null===(i=(t=this.delegate).focus)||void 0===i||i.call(t)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!1===this.delegate.canRelayout&&!(a.gn&&o.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){let e,t,i;if(!this.isVisible())return;let n=this.delegate.getAnchor();if(r.Re(n)){let t=r.i(n),i=r.I8(n);e={top:t.top*i,left:t.left*i,width:t.width*i,height:t.height*i}}else e={top:n.y,left:n.x,width:n.width||1,height:n.height||2};let o=r.w(this.view),l=r.wn(this.view),a=this.delegate.anchorPosition||0,c=this.delegate.anchorAlignment||0;if(0===(this.delegate.anchorAxisAlignment||0)){let n={offset:e.top-window.pageYOffset,size:e.height,position:0===a?0:1},r={offset:e.left,size:e.width,position:0===c?0:1,mode:s.ALIGN};t=h(window.innerHeight,l,n)+window.pageYOffset,d.e.intersects({start:t,end:t+l},{start:n.offset,end:n.offset+n.size})&&(r.mode=s.AVOID),i=h(window.innerWidth,o,r)}else{let n={offset:e.left,size:e.width,position:0===c?0:1},r={offset:e.top,size:e.height,position:0===a?0:1,mode:s.ALIGN};i=h(window.innerWidth,o,n),d.e.intersects({start:i,end:i+o},{start:n.offset,end:n.offset+n.size})&&(r.mode=s.AVOID),t=h(window.innerHeight,l,r)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===a?"bottom":"top"),this.view.classList.add(0===c?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);let u=r.i(this.container);this.view.style.top=`${t-(this.useFixedPosition?r.i(this.view).top:u.top)}px`,this.view.style.left=`${i-(this.useFixedPosition?r.i(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(e){let t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),r.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!r.jg(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}c.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],c.BUBBLE_DOWN_EVENTS=["click"];let u=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`},47975:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var n=i("9737"),s=i("35271"),o=i("777"),r=i("66763");i("5906");let l={badgeBackground:s.Il.fromHex("#4D4D4D"),badgeForeground:s.Il.fromHex("#FFFFFF")};class a{constructor(e,t){this.count=0,this.options=t||Object.create(null),(0,o.jB)(this.options,l,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,n.R3)(e,(0,n.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=(0,r.WU)(this.countFormat,this.count),this.element.title=(0,r.WU)(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){let e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}},53689:function(e,t,i){"use strict";i.d(t,{A:function(){return n}});class n extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}},49482:function(e,t,i){"use strict";i.d(t,{AA:function(){return o},Zo:function(){return B},aV:function(){return X},cK:function(){return O},hD:function(){return D},iK:function(){return function e(t){return!!("A"===t.tagName&&t.classList.contains("monaco-button")||"DIV"===t.tagName&&t.classList.contains("monaco-button-dropdown"))||!t.classList.contains("monaco-list")&&!!t.parentElement&&e(t.parentElement)}},sx:function(){return U},wD:function(){return H},wn:function(){return V}});var n,s,o,r,l=i("9737"),a=i("53376"),d=i("85763"),h=i("66569"),c=i("94555"),u=i("70820"),g=i("3868"),f=i("67518"),m=i("35271"),p=i("49714"),_=i("16904"),v=i("75024"),C=i("19527"),S=i("68308"),w=i("777"),E=i("7875"),T=i("44138");i("98465");var b=i("53689"),I=i("38367"),x=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},N=function(e,t,i,n){return new(i||(i=Promise))(function(s,o){function r(e){try{a(n.next(e))}catch(e){o(e)}}function l(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,l)}a((n=n.apply(e,t||[])).next())})};class y{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){let n=this.renderedElements.findIndex(e=>e.templateData===i);if(n>=0){let e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else this.renderedElements.push({index:t,templateData:i});this.trait.renderIndex(t,i)}splice(e,t,i){let n=[];for(let s of this.renderedElements)s.index<e?n.push(s):s.index>=e+t&&n.push({index:s.index+i-t,templateData:s.templateData});this.renderedElements=n}renderIndexes(e){for(let{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){let t=this.renderedElements.findIndex(t=>t.templateData===e);!(t<0)&&this.renderedElements.splice(t,1)}}class R{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new _.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new y(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));let s=i.length-t,o=e+t,r=[...this.sortedIndexes.filter(t=>t<e),...i.map((t,i)=>t?i+e:-1).filter(e=>-1!==e),...this.sortedIndexes.filter(e=>e>=o).map(e=>e+s)],l=this.length+s;if(this.sortedIndexes.length>0&&0===r.length&&l>0){let t=null!==(n=this.sortedIndexes.find(t=>t>=e))&&void 0!==n?n:l-1;r.push(Math.min(t,l-1))}this.renderer.splice(e,t,i.length),this._set(r,r),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort($),t)}_set(e,t,i){let n=this.indexes,s=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let o=K(s,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return(0,g.ry)(this.sortedIndexes,e,$)>=0}dispose(){(0,C.B9)(this._onChange)}}x([p.H],R.prototype,"renderer",null);class A extends R{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class L{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));let n=this.trait.get().map(e=>this.identityProvider.getId(this.view.element(e)).toString()),s=i.map(e=>n.indexOf(this.identityProvider.getId(e).toString())>-1);this.trait.splice(e,t,s)}}function O(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function D(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&!!e.parentElement&&D(e.parentElement)}class k{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new C.SL,this.multipleSelectionDisposables=new C.SL,this.onKeyDown.filter(e=>3===e.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(e=>16===e.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(e=>18===e.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(e=>11===e.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(e=>12===e.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(e=>9===e.keyCode).on(this.onEscape,this,this.disposables),!1!==i.multipleSelectionSupport&&this.onKeyDown.filter(e=>(E.dz?e.metaKey:e.ctrlKey)&&31===e.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(_.ju.chain(this.disposables.add(new a.Y(this.view.domNode,"keydown")).event).filter(e=>!O(e.target)).map(e=>new d.y(e)))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(e=>(E.dz?e.metaKey:e.ctrlKey)&&31===e.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection((0,g.w6)(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}x([p.H],k.prototype,"onKeyDown",null),(n=o||(o={}))[n.Automatic=0]="Automatic",n[n.Trigger=1]="Trigger",(s=r||(r={}))[s.Idle=0]="Idle",s[s.Typing=1]="Typing";let P=new class{mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&!e.altKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class M{constructor(e,t,i,n,s){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=n,this.delegate=s,this.enabled=!1,this.state=r.Idle,this.mode=o.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new C.SL,this.disposables=new C.SL,this.updateOptions(e.options)}updateOptions(e){var t,i;null===(t=e.typeNavigationEnabled)||void 0===t||t?this.enable():this.disable(),this.mode=null!==(i=e.typeNavigationMode)&&void 0!==i?i:o.Automatic}enable(){if(this.enabled)return;let e=!1,t=this.enabledDisposables.add(_.ju.chain(this.enabledDisposables.add(new a.Y(this.view.domNode,"keydown")).event)).filter(e=>!O(e.target)).filter(()=>this.mode===o.Automatic||this.triggered).map(e=>new d.y(e)).filter(t=>e||this.keyboardNavigationEventFilter(t)).filter(e=>this.delegate.mightProducePrintableCharacter(e)).forEach(a.p).map(e=>e.browserEvent.key).event,i=_.ju.debounce(t,()=>null,800,void 0,void 0,this.enabledDisposables);_.ju.reduce(_.ju.any(t,i),(e,t)=>null===t?null:(e||"")+t,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;let t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){let i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&(0,c.Z9)(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=r.Idle,this.triggered=!1;return}let t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===r.Idle?1:0;this.state=r.Typing;for(let t=0;t<this.list.length;t++){let s=(i+t+n)%this.list.length,o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),r=o&&o.toString();if(void 0===r||(0,v.Ji)(e,r)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class F{constructor(e,t){this.list=e,this.view=t,this.disposables=new C.SL,this.disposables.add(_.ju.chain(this.disposables.add(new a.Y(t.domNode,"keydown")).event)).filter(e=>!O(e.target)).map(e=>new d.y(e)).filter(e=>2===e.keyCode&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(0===t.length)return;let i=this.view.domElement(t[0]);if(!i)return;let n=i.querySelector("[tabIndex]");if(!n||!(n instanceof HTMLElement)||-1===n.tabIndex)return;let s=window.getComputedStyle(n);"hidden"!==s.visibility&&"none"!==s.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function B(e){return E.dz?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function V(e){return e.browserEvent.shiftKey}let W={isSelectionSingleChangeEvent:B,isSelectionRangeChangeEvent:V};class U{constructor(e){this.list=e,this.disposables=new C.SL,this._onPointer=new _.Q5,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||W),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(h.o.addTarget(e.getHTMLElement()))),_.ju.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||W))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){!D(e.browserEvent.target)&&document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(D(e.browserEvent.target))return;let t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){var t;if(!this.mouseSupport||O(e.browserEvent.target)||D(e.browserEvent.target))return;let i=e.index;if(void 0===i){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(e)||this.isSelectionChangeEvent(e))return this.changeSelection(e);if(this.list.setFocus([i],e.browserEvent),this.list.setAnchor(i),!((t=e.browserEvent)instanceof MouseEvent&&2===t.button))this.list.setSelection([i],e.browserEvent);this._onPointer.fire(e)}onDoubleClick(e){if(O(e.browserEvent.target)||D(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===i){let e=this.list.getFocus()[0];i=null!=e?e:t,this.list.setAnchor(i)}let n=Math.min(i,t),s=Math.max(i,t),o=(0,g.w6)(n,s+1),r=this.list.getSelection(),l=function(e,t){let i=e.indexOf(t);if(-1===i)return[];let n=[],s=i-1;for(;s>=0&&e[s]===t-(i-s);)n.push(e[s--]);for(n.reverse(),s=i;s<e.length&&e[s]===t+(s-i);)n.push(e[s++]);return n}(K(r,[i]),i);if(0===l.length)return;let a=K(o,function(e,t){let i=[],n=0,s=0;for(;n<e.length||s<t.length;)if(n>=e.length)i.push(t[s++]);else if(s>=t.length)i.push(e[n++]);else if(e[n]===t[s]){n++,s++;continue}else e[n]<t[s]?i.push(e[n++]):s++;return i}(r,l));this.list.setSelection(a,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let i=this.list.getSelection(),n=i.filter(e=>e!==t);this.list.setFocus([t]),this.list.setAnchor(t),i.length===n.length?this.list.setSelection([...n,t],e.browserEvent):this.list.setSelection(n,e.browserEvent)}}dispose(){this.disposables.dispose()}}class H{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):!E.dz&&console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionOutline&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { outline-color: ${e.listFocusAndSelectionOutline} !important; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.tableColumnsBorder&&i.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
			}`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join("\n")}}let G={listFocusBackground:m.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:m.Il.fromHex("#0E639C"),listActiveSelectionForeground:m.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:m.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:m.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:m.Il.fromHex("#094771"),listFocusAndSelectionForeground:m.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:m.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:m.Il.fromHex("#FFFFFF"),listHoverBackground:m.Il.fromHex("#2A2D2E"),listDropBackground:m.Il.fromHex("#383B3D"),treeIndentGuidesStroke:m.Il.fromHex("#a9a9a9"),tableColumnsBorder:m.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:m.Il.fromHex("#cccccc").transparent(.04)},j={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function K(e,t){let i=[],n=0,s=0;for(;n<e.length||s<t.length;)if(n>=e.length)i.push(t[s++]);else if(s>=t.length)i.push(e[n++]);else if(e[n]===t[s]){i.push(e[n]),n++,s++;continue}else e[n]<t[s]?i.push(e[n++]):i.push(t[s++]);return i}let $=(e,t)=>e-t;class z{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let s=0;for(let o of this.renderers)o.renderElement(e,t,i[s++],n)}disposeElement(e,t,i,n){var s;let o=0;for(let r of this.renderers)null===(s=r.disposeElement)||void 0===s||s.call(r,e,t,i[o],n),o+=1}disposeTemplate(e){let t=0;for(let i of this.renderers)i.disposeTemplate(e[t++])}}class Y{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){let n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");let s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof s?i.setAttribute("aria-level",`${s}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class q{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var s,o;null===(o=(s=this.dnd).onDragLeave)||void 0===o||o.call(s,e,t,i,n)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class X{constructor(e,t,i,n,s=j){var o,r,a,d;this.user=e,this._options=s,this.focus=new R("focused"),this.anchor=new R("anchor"),this.eventBufferer=new _.E7,this._ariaLabel="",this.disposables=new C.SL,this._onDidDispose=new _.Q5,this.onDidDispose=this._onDidDispose.event;let h=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(o=this._options.accessibilityProvider)||void 0===o?void 0:o.getWidgetRole():"list";this.selection=new A("listbox"!==h),(0,w.jB)(s,G,!1);let c=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(c.push(new Y(this.accessibilityProvider)),null===(a=(r=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===a||a.call(r,this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(e=>new z(e.templateId,[...c,e]));let g=Object.assign(Object.assign({},s),{dnd:s.dnd&&new q(this,s.dnd)});if(this.view=new I.Bv(t,i,n,g),this.view.domNode.setAttribute("role",h),s.styleController)this.styleController=s.styleController(this.view.domId);else{let e=(0,l.dS)(this.view.domNode);this.styleController=new H(e,this.view.domId)}if(this.spliceable=new u.J([new L(this.focus,this.view,s.identityProvider),new L(this.selection,this.view,s.identityProvider),new L(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new F(this,this.view)),("boolean"!=typeof s.keyboardSupport||s.keyboardSupport)&&(this.keyboardController=new k(this,this.view,s),this.disposables.add(this.keyboardController)),s.keyboardNavigationLabelProvider){let e=s.keyboardNavigationDelegate||P;this.typeNavigationController=new M(this,this.view,s.keyboardNavigationLabelProvider,null!==(d=s.keyboardNavigationEventFilter)&&void 0!==d?d:()=>!0,e),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return _.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return _.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=this.disposables.add(_.ju.chain(this.disposables.add(new a.Y(this.view.domNode,"keydown")).event)).map(e=>new d.y(e)).filter(t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode).map(a.p).filter(()=>!1).event,i=this.disposables.add(_.ju.chain(this.disposables.add(new a.Y(this.view.domNode,"keyup")).event)).forEach(()=>e=!1).map(e=>new d.y(e)).filter(e=>58===e.keyCode||e.shiftKey&&68===e.keyCode).map(a.p).map(({browserEvent:e})=>{let t=this.getFocus(),i=t.length?t[0]:void 0,n=void 0!==i?this.view.element(i):void 0,s=void 0!==i?this.view.domElement(i):this.view.domNode;return{index:i,element:n,anchor:s,browserEvent:e}}).event,n=this.disposables.add(_.ju.chain(this.view.onContextMenu)).filter(t=>!e).map(({element:e,index:t,browserEvent:i})=>({element:e,index:t,anchor:{x:i.pageX+1,y:i.pageY},browserEvent:i})).event;return _.ju.any(t,i,n)}get onKeyDown(){return this.disposables.add(new a.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return _.ju.signal(this.disposables.add(new a.Y(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new U(this)}updateOptions(e={}){var t,i;this._options=Object.assign(Object.assign({},this._options),e),null===(t=this.typeNavigationController)||void 0===t||t.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(i=this.keyboardController)||void 0===i||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new b.A(this.user,`Invalid start index: ${e}`);if(t<0)throw new b.A(this.user,`Invalid delete count: ${t}`);(0!==t||0!==i.length)&&this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(let t of e)if(t<0||t>=this.length)throw new b.A(this.user,`Invalid index ${t}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(void 0===e){this.anchor.set([]);return}if(e<0||e>=this.length)throw new b.A(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return(0,g.Xh)(this.anchor.get(),void 0)}getAnchorElement(){let e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(let t of e)if(t<0||t>=this.length)throw new b.A(this.user,`Invalid index ${t}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(0===this.length)return;let s=this.focus.get(),o=this.findNextIndex(s.length>0?s[0]+e:0,t,n);o>-1&&this.setFocus([o],i)}focusPrevious(e=1,t=!1,i,n){if(0===this.length)return;let s=this.focus.get(),o=this.findPreviousIndex(s.length>0?s[0]-e:0,t,n);o>-1&&this.setFocus([o],i)}focusNextPage(e,t){return N(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;let n=this.getFocus()[0];if(n!==i&&(void 0===n||i>n)){let s=this.findPreviousIndex(i,!1,t);s>-1&&n!==s?this.setFocus([s],e):this.setFocus([i],e)}else{let s=this.view.getScrollTop(),o=s+this.view.renderHeight;i>n&&(o-=this.view.elementHeight(i)),this.view.setScrollTop(o),this.view.getScrollTop()!==s&&(this.setFocus([]),yield(0,f.Vs)(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return N(this,void 0,void 0,function*(){let i;let n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);let s=this.getFocus()[0];if(s!==i&&(void 0===s||s>=i)){let n=this.findNextIndex(i,!1,t);n>-1&&s!==n?this.setFocus([n],e):this.setFocus([i],e)}else this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==n&&(this.setFocus([]),yield(0,f.Vs)(0),yield this.focusPreviousPage(e,t))})}focusLast(e,t){if(0===this.length)return;let i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;let n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length&&(!(e>=this.length)||t);n++){;if(e%=this.length,!i||i(this.element(e)))return e;e++}return -1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length&&(!(e<0)||t);n++){;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return -1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new b.A(this.user,`Invalid index ${e}`);let i=this.view.getScrollTop(),n=this.view.elementTop(e),s=this.view.elementHeight(e);if((0,T.hj)(t)){let e=s-this.view.renderHeight;this.view.setScrollTop(e*(0,S.uZ)(t,0,1)+n)}else{let e=n+s,t=i+this.view.renderHeight;n<i&&e>=t||(n<i||e>=t&&s>=this.view.renderHeight?this.view.setScrollTop(n):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(e){return this.view.getElementDomId(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(e=>this.view.element(e)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;let t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}x([p.H],X.prototype,"onDidChangeFocus",null),x([p.H],X.prototype,"onDidChangeSelection",null),x([p.H],X.prototype,"onContextMenu",null),x([p.H],X.prototype,"onKeyDown",null),x([p.H],X.prototype,"onDidFocus",null)},52877:function(e,t,i){"use strict";i.d(t,{Y:function(){return o}});var n=i("67518"),s=i("19527");class o extends s.JT{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new n._F)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){!this._isVisible&&(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;null===(e=this._domNode)||void 0===e||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(t=this._domNode)||void 0===t||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}},862:function(e,t,i){"use strict";i.d(t,{A:function(){return a},T:function(){return s}});var n,s,o=i("16904");let r=Object.freeze(function(e,t){let i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}});(n=s||(s={})).isCancellationToken=function(e){return e===n.None||e===n.Cancelled||e instanceof l||!!e&&"object"==typeof e&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.ju.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r});class l{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){!this._isCancelled&&(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?r:(!this._emitter&&(this._emitter=new o.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class a{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return!this._token&&(this._token=new l),this._token}cancel(){this._token?this._token instanceof l&&this._token.cancel():this._token=s.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof l&&this._token.dispose():this._token=s.None}}},75516:function(e,t,i){"use strict";i.d(t,{J:function(){return n}});class n{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}},3751:function(e,t,i){"use strict";i.d(t,{Q:function(){return o}});var n=i("70843"),s=i("38505");function o(e){let t=JSON.parse(e);return t=function e(t,i=0){if(!t||i>200)return t;if("object"==typeof t){switch(t.$mid){case 1:return s.o.revive(t);case 2:return new RegExp(t.source,t.flags);case 14:return new Date(t.source)}if(t instanceof n.KN||t instanceof Uint8Array)return t;if(Array.isArray(t))for(let n=0;n<t.length;++n)t[n]=e(t[n],i+1);else for(let n in t)Object.hasOwnProperty.call(t,n)&&(t[n]=e(t[n],i+1))}return t}(t)}},40841:function(e,t,i){"use strict";var n=i("54606");(0,n.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"63611")).then(e=>e.TagAutoInterpolationDollar)}),(0,n.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"63611")).then(e=>e.TagAngleInterpolationDollar)}),(0,n.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"63611")).then(e=>e.TagBracketInterpolationDollar)}),(0,n.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"63611")).then(e=>e.TagAngleInterpolationBracket)}),(0,n.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"63611")).then(e=>e.TagBracketInterpolationBracket)}),(0,n.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"63611")).then(e=>e.TagAutoInterpolationDollar)}),(0,n.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"63611")).then(e=>e.TagAutoInterpolationBracket)})},52513:function(e,t,i){"use strict";i.r(t),i.d(t,{conf:function(){return n},language:function(){return s}});var n={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},s={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NUMERIC","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","REAL","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],operators:["AND","BETWEEN","IN","LIKE","NOT","OR","IS","NULL","INTERSECT","UNION","INNER","JOIN","LEFT","OUTER","RIGHT"],builtinFunctions:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","Area","AsBinary","AsWKB","ASCII","ASIN","AsText","AsWKT","ASYMMETRIC_DECRYPT","ASYMMETRIC_DERIVE","ASYMMETRIC_ENCRYPT","ASYMMETRIC_SIGN","ASYMMETRIC_VERIFY","ATAN","ATAN2","ATAN","AVG","BENCHMARK","BIN","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","Buffer","CAST","CEIL","CEILING","Centroid","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","Contains","CONV","CONVERT","CONVERT_TZ","ConvexHull","COS","COT","COUNT","CRC32","CREATE_ASYMMETRIC_PRIV_KEY","CREATE_ASYMMETRIC_PUB_KEY","CREATE_DH_PARAMETERS","CREATE_DIGEST","Crosses","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DES_DECRYPT","DES_ENCRYPT","DENSE_RANK","Dimension","Disjoint","Distance","ELT","ENCODE","ENCRYPT","EndPoint","Envelope","Equals","EXP","EXPORT_SET","ExteriorRing","EXTRACT","ExtractValue","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEN_RANGE","GEN_RND_EMAIL","GEN_RND_PAN","GEN_RND_SSN","GEN_RND_US_PHONE","GeomCollection","GeomCollFromText","GeometryCollectionFromText","GeomCollFromWKB","GeometryCollectionFromWKB","GeometryCollection","GeometryN","GeometryType","GeomFromText","GeometryFromText","GeomFromWKB","GeometryFromWKB","GET_FORMAT","GET_LOCK","GLength","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","InteriorRingN","Intersects","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","IsClosed","IsEmpty","ISNULL","IsSimple","JSON_APPEND","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LineFromText","LineStringFromText","LineFromWKB","LineStringFromWKB","LineString","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASK_INNER","MASK_OUTER","MASK_PAN","MASK_PAN_RELAXED","MASK_SSN","MASTER_POS_WAIT","MAX","MBRContains","MBRCoveredBy","MBRCovers","MBRDisjoint","MBREqual","MBREquals","MBRIntersects","MBROverlaps","MBRTouches","MBRWithin","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MLineFromText","MultiLineStringFromText","MLineFromWKB","MultiLineStringFromWKB","MOD","MONTH","MONTHNAME","MPointFromText","MultiPointFromText","MPointFromWKB","MultiPointFromWKB","MPolyFromText","MultiPolygonFromText","MPolyFromWKB","MultiPolygonFromWKB","MultiLineString","MultiPoint","MultiPolygon","NAME_CONST","NOT IN","NOW","NTH_VALUE","NTILE","NULLIF","NumGeometries","NumInteriorRings","NumPoints","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","Overlaps","PASSWORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","Point","PointFromText","PointFromWKB","PointN","PolyFromText","PolygonFromText","PolyFromWKB","PolygonFromWKB","Polygon","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","PROCEDURE ANALYSE","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_REPLACE","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOURCE_POS_WAIT","SPACE","SQRT","SRID","ST_Area","ST_AsBinary","ST_AsWKB","ST_AsGeoJSON","ST_AsText","ST_AsWKT","ST_Buffer","ST_Buffer_Strategy","ST_Centroid","ST_Collect","ST_Contains","ST_ConvexHull","ST_Crosses","ST_Difference","ST_Dimension","ST_Disjoint","ST_Distance","ST_Distance_Sphere","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_FrechetDistance","ST_GeoHash","ST_GeomCollFromText","ST_GeometryCollectionFromText","ST_GeomCollFromTxt","ST_GeomCollFromWKB","ST_GeometryCollectionFromWKB","ST_GeometryN","ST_GeometryType","ST_GeomFromGeoJSON","ST_GeomFromText","ST_GeometryFromText","ST_GeomFromWKB","ST_GeometryFromWKB","ST_HausdorffDistance","ST_InteriorRingN","ST_Intersection","ST_Intersects","ST_IsClosed","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_LatFromGeoHash","ST_Length","ST_LineFromText","ST_LineStringFromText","ST_LineFromWKB","ST_LineStringFromWKB","ST_LineInterpolatePoint","ST_LineInterpolatePoints","ST_LongFromGeoHash","ST_Longitude","ST_MakeEnvelope","ST_MLineFromText","ST_MultiLineStringFromText","ST_MLineFromWKB","ST_MultiLineStringFromWKB","ST_MPointFromText","ST_MultiPointFromText","ST_MPointFromWKB","ST_MultiPointFromWKB","ST_MPolyFromText","ST_MultiPolygonFromText","ST_MPolyFromWKB","ST_MultiPolygonFromWKB","ST_NumGeometries","ST_NumInteriorRing","ST_NumInteriorRings","ST_NumPoints","ST_Overlaps","ST_PointAtDistance","ST_PointFromGeoHash","ST_PointFromText","ST_PointFromWKB","ST_PointN","ST_PolyFromText","ST_PolygonFromText","ST_PolyFromWKB","ST_PolygonFromWKB","ST_Simplify","ST_SRID","ST_StartPoint","ST_SwapXY","ST_SymDifference","ST_Touches","ST_Transform","ST_Union","ST_Validate","ST_Within","ST_X","ST_Y","StartPoint","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","Touches","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UpdateXML","UPPER","USER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","Within","X","Y","YEAR","YEARWEEK"],builtinVariables:[],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@]+/,{cases:{"@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/#+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/'/,{token:"string",next:"@string"}],[/"/,{token:"string.double",next:"@stringDouble"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],stringDouble:[[/[^"]+/,"string.double"],[/""/,"string.double"],[/"/,{token:"string.double",next:"@pop"}]],complexIdentifiers:[[/`/,{token:"identifier.quote",next:"@quotedIdentifier"}]],quotedIdentifier:[[/[^`]+/,"identifier"],[/``/,"identifier"],[/`/,{token:"identifier.quote",next:"@pop"}]],scopes:[]}}},14673:function(e,t,i){"use strict";i.r(t),i.d(t,{conf:function(){return n},language:function(){return s}});var n={comments:{lineComment:"//",blockComment:["(*","*)"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"}]},s={defaultToken:"",tokenPostfix:".pascaligo",ignoreCase:!0,brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],keywords:["begin","block","case","const","else","end","fail","for","from","function","if","is","nil","of","remove","return","skip","then","type","var","while","with","option","None","transaction"],typeKeywords:["bool","int","list","map","nat","record","string","unit","address","map","mtz","xtz"],operators:["=",">","<","<=",">=","<>",":",":=","and","mod","or","+","-","*","/","@","&","^","%"],symbols:/[=><:@\^&|+\-*\/\^%]+/,tokenizer:{root:[[/[a-zA-Z_][\w]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\$[0-9a-fA-F]{1,16}/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,"string","@string"],[/'[^\\']'/,"string"],[/'/,"string.invalid"],[/\#\d+/,"string"]],comment:[[/[^\(\*]+/,"comment"],[/\*\)/,"comment","@pop"],[/\(\*/,"comment"]],string:[[/[^\\']+/,"string"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\(\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}}},62199:function(e,t,i){"use strict";i.r(t),i.d(t,{conf:function(){return n},language:function(){return s}});var n={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}]},s={defaultToken:"",tokenPostfix:".r",roxygen:["@alias","@aliases","@assignee","@author","@backref","@callGraph","@callGraphDepth","@callGraphPrimitives","@concept","@describeIn","@description","@details","@docType","@encoding","@evalNamespace","@evalRd","@example","@examples","@export","@exportClass","@exportMethod","@exportPattern","@family","@field","@formals","@format","@import","@importClassesFrom","@importFrom","@importMethodsFrom","@include","@inherit","@inheritDotParams","@inheritParams","@inheritSection","@keywords","@md","@method","@name","@noMd","@noRd","@note","@param","@rawNamespace","@rawRd","@rdname","@references","@return","@S3method","@section","@seealso","@setClass","@slot","@source","@template","@templateVar","@title","@TODO","@usage","@useDynLib"],constants:["NULL","FALSE","TRUE","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","T","F","LETTERS","letters","month.abb","month.name","pi","R.version.string"],keywords:["break","next","return","if","else","for","in","repeat","while","array","category","character","complex","double","function","integer","list","logical","matrix","numeric","vector","data.frame","factor","library","require","attach","detach","source"],special:["\\n","\\r","\\t","\\b","\\a","\\f","\\v","\\'",'\\"',"\\\\"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@numbers"},{include:"@strings"},[/[{}\[\]()]/,"@brackets"],{include:"@operators"},[/#'$/,"comment.doc"],[/#'/,"comment.doc","@roxygen"],[/(^#.*$)/,"comment"],[/\s+/,"white"],[/[,:;]/,"delimiter"],[/@[a-zA-Z]\w*/,"tag"],[/[a-zA-Z]\w*/,{cases:{"@keywords":"keyword","@constants":"constant","@default":"identifier"}}]],roxygen:[[/@\w+/,{cases:{"@roxygen":"tag","@eos":{token:"comment.doc",next:"@pop"},"@default":"comment.doc"}}],[/\s+/,{cases:{"@eos":{token:"comment.doc",next:"@pop"},"@default":"comment.doc"}}],[/.*/,{token:"comment.doc",next:"@pop"}]],numbers:[[/0[xX][0-9a-fA-F]+/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?/,"number"]],operators:[[/<{1,2}-/,"operator"],[/->{1,2}/,"operator"],[/%[^%\s]+%/,"operator"],[/\*\*/,"operator"],[/%%/,"operator"],[/&&/,"operator"],[/\|\|/,"operator"],[/<</,"operator"],[/>>/,"operator"],[/[-+=&|!<>^~*/:$]/,"operator"]],strings:[[/'/,"string.escape","@stringBody"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/\\./,{cases:{"@special":"string","@default":"error-token"}}],[/'/,"string.escape","@popall"],[/./,"string"]],dblStringBody:[[/\\./,{cases:{"@special":"string","@default":"error-token"}}],[/"/,"string.escape","@popall"],[/./,"string"]]}}},61387:function(e,t,i){"use strict";let n,s;i.r(t),i.d(t,{conf:function(){return g},language:function(){return f}});var o=i("99334"),r=Object.defineProperty,l=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,h=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))!d.call(e,s)&&s!==i&&r(e,s,{get:()=>t[s],enumerable:!(n=l(t,s))||n.enumerable});return e},c={};h(c,n=o,"default"),s&&h(s,n,"default");var u=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],g={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,comments:{blockComment:["\x3c!--","--\x3e"]},brackets:[["\x3c!--","--\x3e"],["<",">"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],onEnterRules:[{beforeText:RegExp(`<(?!(?:${u.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/(\w[\w\d]*)\s*>$/i,action:{indentAction:c.languages.IndentAction.IndentOutdent}},{beforeText:RegExp(`<(?!(?:${u.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:c.languages.IndentAction.Indent}}]},f={defaultToken:"",tokenPostfix:"",tokenizer:{root:[[/@@@@/],[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.root"}],[/<!DOCTYPE/,"metatag.html","@doctype"],[/<!--/,"comment.html","@comment"],[/(<)([\w\-]+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)(script)/,["delimiter.html",{token:"tag.html",next:"@script"}]],[/(<)(style)/,["delimiter.html",{token:"tag.html",next:"@style"}]],[/(<)([:\w\-]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/(<\/)([\w\-]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/</,"delimiter.html"],[/[ \t\r\n]+/],[/[^<@]+/]],doctype:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.comment"}],[/[^>]+/,"metatag.content.html"],[/>/,"metatag.html","@pop"]],comment:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.comment"}],[/-->/,"comment.html","@pop"],[/[^-]+/,"comment.content.html"],[/./,"comment.content.html"]],otherTag:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.otherTag"}],[/\/?>/,"delimiter.html","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.script"}],[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],scriptAfterType:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.scriptAfterType"}],[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.scriptAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.scriptWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInEmbeddedState.scriptEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],style:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.style"}],[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],styleAfterType:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.styleAfterType"}],[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.styleAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.styleWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInEmbeddedState.styleEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],razorInSimpleState:[[/@\*/,"comment.cs","@razorBlockCommentTopLevel"],[/@[{(]/,"metatag.cs","@razorRootTopLevel"],[/(@)(\s*[\w]+)/,["metatag.cs",{token:"identifier.cs",switchTo:"@$S2.$S3"}]],[/[})]/,{token:"metatag.cs",switchTo:"@$S2.$S3"}],[/\*@/,{token:"comment.cs",switchTo:"@$S2.$S3"}]],razorInEmbeddedState:[[/@\*/,"comment.cs","@razorBlockCommentTopLevel"],[/@[{(]/,"metatag.cs","@razorRootTopLevel"],[/(@)(\s*[\w]+)/,["metatag.cs",{token:"identifier.cs",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}]],[/[})]/,{token:"metatag.cs",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}],[/\*@/,{token:"comment.cs",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}]],razorBlockCommentTopLevel:[[/\*@/,"@rematch","@pop"],[/[^*]+/,"comment.cs"],[/./,"comment.cs"]],razorBlockComment:[[/\*@/,"comment.cs","@pop"],[/[^*]+/,"comment.cs"],[/./,"comment.cs"]],razorRootTopLevel:[[/\{/,"delimiter.bracket.cs","@razorRoot"],[/\(/,"delimiter.parenthesis.cs","@razorRoot"],[/[})]/,"@rematch","@pop"],{include:"razorCommon"}],razorRoot:[[/\{/,"delimiter.bracket.cs","@razorRoot"],[/\(/,"delimiter.parenthesis.cs","@razorRoot"],[/\}/,"delimiter.bracket.cs","@pop"],[/\)/,"delimiter.parenthesis.cs","@pop"],{include:"razorCommon"}],razorCommon:[[/[a-zA-Z_]\w*/,{cases:{"@razorKeywords":{token:"keyword.cs"},"@default":"identifier.cs"}}],[/[\[\]]/,"delimiter.array.cs"],[/[ \t\r\n]+/],[/\/\/.*$/,"comment.cs"],[/@\*/,"comment.cs","@razorBlockComment"],[/"([^"]*)"/,"string.cs"],[/'([^']*)'/,"string.cs"],[/(<)([\w\-]+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)([\w\-]+)(>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<\/)([\w\-]+)(>)/,["delimiter.html","tag.html","delimiter.html"]],[/[\+\-\*\%\&\|\^\~\!\=\<\>\/\?\;\:\.\,]/,"delimiter.cs"],[/\d*\d+[eE]([\-+]?\d+)?/,"number.float.cs"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float.cs"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F]/,"number.hex.cs"],[/0[0-7']*[0-7]/,"number.octal.cs"],[/0[bB][0-1']*[0-1]/,"number.binary.cs"],[/\d[\d']*/,"number.cs"],[/\d/,"number.cs"]]},razorKeywords:["abstract","as","async","await","base","bool","break","by","byte","case","catch","char","checked","class","const","continue","decimal","default","delegate","do","double","descending","explicit","event","extern","else","enum","false","finally","fixed","float","for","foreach","from","goto","group","if","implicit","in","int","interface","internal","into","is","lock","long","nameof","new","null","namespace","object","operator","out","override","orderby","params","private","protected","public","readonly","ref","return","switch","struct","sbyte","sealed","short","sizeof","stackalloc","static","string","select","this","throw","true","try","typeof","uint","ulong","unchecked","unsafe","ushort","using","var","virtual","volatile","void","when","while","where","yield","model","inject"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/}},72043:function(e,t,i){"use strict";(0,i("54606").H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"21772"))})},13259:function(e,t,i){"use strict";(0,i("54606").H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"5690"))})},53120:function(e,t,i){"use strict";i.d(t,{N:function(){return s}});var n=i("70758");function s(e,t){e instanceof n.Z?(e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)):(e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px")}},18022:function(e,t,i){"use strict";i.d(t,{I:function(){return o}});var n=i("19527"),s=i("16904");class o extends n.JT{constructor(e,t){super(),this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,n=this._referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),(this._width!==i||this._height!==n)&&(this._width=i,this._height=n,e&&this._onDidChange.fire())}}},78594:function(e,t,i){"use strict";i.d(t,{i:function(){return d}});var n,s,o=i("16904"),r=i("19527"),l=i("62300"),a=i("39703");let d=class extends r.JT{constructor(e){super(),this._themeService=e,this._onCodeEditorAdd=this._register(new o.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new o.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new o.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new o.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new l.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){(delete this._codeEditors[e.getId()])&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){(delete this._diffEditors[e.getId()])&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;for(let t of this.listCodeEditors()){if(t.hasTextFocus())return t;t.hasWidgetFocus()&&(e=t)}return e}removeDecorationType(e){let t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(t=>t.removeDecorationsByType(e))))}setModelProperty(e,t,i){let n;let s=e.toString();this._modelProperties.has(s)?n=this._modelProperties.get(s):(n=new Map,this._modelProperties.set(s,n)),n.set(t,i)}getModelProperty(e,t){let i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}openCodeEditor(e,t,i){var n,s,o,r;return n=this,s=void 0,o=void 0,r=function*(){for(let n of this._codeEditorOpenHandlers){let s=yield n(e,t,i);if(null!==s)return s}return null},new(o||(o=Promise))(function(e,t){function i(e){try{a(r.next(e))}catch(e){t(e)}}function l(e){try{a(r.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(i,l)}a((r=r.apply(n,s||[])).next())})}registerCodeEditorOpenHandler(e){let t=this._codeEditorOpenHandlers.unshift(e);return(0,r.OF)(t)}};d=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([(n=0,s=a.XE,function(e,t){s(e,t,0)})],d)},5478:function(e,t,i){"use strict";i.d(t,{Gl:function(){return a},fo:function(){return l},vu:function(){return r}});var n=i("6301"),s=i("38505"),o=i("44138");let r=(0,n.yh)("IWorkspaceEditService");class l{constructor(e){this.metadata=e}static convert(e){return e.edits.map(e=>{if(a.is(e))return a.lift(e);if(d.is(e))return d.lift(e);throw Error("Unsupported edit")})}}class a extends l{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}static is(e){return e instanceof a||(0,o.Kn)(e)&&s.o.isUri(e.resource)&&(0,o.Kn)(e.textEdit)}static lift(e){return e instanceof a?e:new a(e.resource,e.textEdit,e.versionId,e.metadata)}}class d extends l{constructor(e,t,i={},n){super(n),this.oldResource=e,this.newResource=t,this.options=i}static is(e){return e instanceof d||(0,o.Kn)(e)&&(!!e.newResource||!!e.oldResource)}static lift(e){return e instanceof d?e:new d(e.oldResource,e.newResource,e.options,e.metadata)}}},20730:function(e,t,i){"use strict";i.d(t,{G:function(){return H}});var n=i("9737"),s=i("61065"),o=i("70758"),r=i("61111"),l=i("94019"),a=i("75060"),d=i("25578"),h=i("91140"),c=i("71282"),u=i("71956"),g=i("82711"),f=i("66731"),m=i("91915"),p=i("31382"),_=i("11428"),v=i("11699"),C=i("93427"),S=i("13841"),w=i("61493"),E=i("85273"),T=i("69273"),b=i("18740"),I=i("99397"),x=i("70360"),N=i("60075"),y=i("39713"),R=i("26036"),A=i("12880"),L=i("94614"),O=i("62208"),D=i("57938"),k=i("61045"),P=i("81468"),M=i("49487"),F=i("41638"),B=i("48331"),V=i("39703"),W=i("47388"),U=i("36727");class H extends B.O{constructor(e,t,i,n,r,h){super(),this._selections=[new s.Y(1,1,1,1)],this._renderAnimationFrame=null;let N=new d.N(t,n,r,e);this._context=new M.A(t,i,n),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new a.H(this._context,N,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,o.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,o.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,o.X)(document.createElement("div")),u.K.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new p.E(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new S.U(this._context,this._linesContent),this._viewZones=new O.q(this._context),this._viewParts.push(this._viewZones);let D=new x.p(this._context);this._viewParts.push(D);let k=new R.X(this._context);this._viewParts.push(k);let P=new c.Ip(this._context);this._viewParts.push(P),P.addDynamicOverlay(new f.BX(this._context)),P.addDynamicOverlay(new A.K(this._context)),P.addDynamicOverlay(new v.R(this._context)),P.addDynamicOverlay(new m.r(this._context));let F=new c.Ib(this._context);this._viewParts.push(F),F.addDynamicOverlay(new f.gM(this._context)),F.addDynamicOverlay(new _.c4(this._context)),F.addDynamicOverlay(new T.X(this._context)),F.addDynamicOverlay(new w.U(this._context)),F.addDynamicOverlay(new C.x(this._context));let B=new E.Z(this._context);B.getDomNode().appendChild(this._viewZones.marginDomNode),B.getDomNode().appendChild(F.getDomNode()),this._viewParts.push(B),this._contentWidgets=new g.Y(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new L.o(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new I.c(this._context),this._viewParts.push(this._overlayWidgets);let V=new y.b(this._context);this._viewParts.push(V);let W=new U.z(this._context);this._viewParts.push(W);let H=new b.N(this._context);if(this._viewParts.push(H),D){let e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(D.getDomNode(),e.insertBefore)}this._linesContent.appendChild(P.getDomNode()),this._linesContent.appendChild(V.domNode),this._linesContent.appendChild(W.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(B.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(k.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(H.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),h?h.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new l.a(this._context,N,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{let e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new W.sB(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new D.L(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){let e=this._context.configuration.options.get(133);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){let e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,V.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){for(let e of(null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose(),this._viewParts))e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=n.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){(function(e){try{e()}catch(e){(0,r.dL)(e)}})(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(let i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!n.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;let t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);let i=new F.x(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());let s=new P.xh(this._context.viewLayout,i,this._viewLines);for(let t of e)t.prepareRender(s);for(let t of e)t.render(s),t.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){let i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();let s=this._viewLines.visibleRangeForPosition(new D.L(n.lineNumber,n.column));return s?s.left:-1}getTargetAtClientPoint(e,t){let i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?h.q.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new N.V(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t)for(let e of(this._viewLines.forceShouldRender(),this._viewParts))e.forceShouldRender();e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i;let n=e.position&&e.position.range||null;if(null===n){let t=e.position?e.position.position:null;null!==t&&(n=new k.e(t.lineNumber,t.column,t.lineNumber,t.column))}let s=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,n,s,null!==(i=null===(t=e.position)||void 0===t?void 0:t.positionAffinity)&&void 0!==i?i:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){let t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}},91140:function(e,t,i){"use strict";i.d(t,{q:function(){return n}});class n{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;null===(t=this.onKeyDown)||void 0===t||t.call(this,e)}emitKeyUp(e){var t;null===(t=this.onKeyUp)||void 0===t||t.call(this,e)}emitContextMenu(e){var t;null===(t=this.onContextMenu)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;null===(t=this.onMouseMove)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;null===(t=this.onMouseLeave)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;null===(t=this.onMouseDown)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;null===(t=this.onMouseUp)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;null===(t=this.onMouseDrag)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;null===(t=this.onMouseDrop)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;null===(e=this.onMouseDropCanceled)||void 0===e||e.call(this)}emitMouseWheel(e){var t;null===(t=this.onMouseWheel)||void 0===t||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return n.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){let i=Object.assign({},e);return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),i}}},67268:function(e,t,i){"use strict";i.d(t,{Nt:function(){return p},ZE:function(){return f},ob:function(){return m}});var n=i("59527"),s=i("70758"),o=i("7875"),r=i("60788"),l=i("81468"),a=i("30751"),d=i("81161"),h=i("74697"),c=i("16637");let u=!!o.tY||!o.IJ&&!n.isFirefox&&!n.isSafari&&!0,g=!0;class f{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=t}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;let e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return!this._clientRectRead&&this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return!this._clientRectRead&&this.readClientRect(),this._clientRectScale}}class m{constructor(e,t){this.themeType=t;let i=e.options,n=i.get(46);this.renderWhitespace=i.get(90),this.renderControlCharacters=i.get(85),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(61),this.stopRenderingLineAfter=i.get(107),this.fontLigatures=i.get(47)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class p{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,s.X)(e);else throw Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(!!(0,h.c3)(this._options.themeType)||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;let s=i.getViewLineRenderingData(e),o=this._options,r=a.Kp.filter(s.inlineDecorations,e,s.minColumn,s.maxColumn),l=null;if((0,h.c3)(o.themeType)||"selection"===this._options.renderWhitespace)for(let t of i.selections){if(t.endLineNumber<e||t.startLineNumber>e)continue;let i=t.startLineNumber===e?t.startColumn:s.minColumn,n=t.endLineNumber===e?t.endColumn:s.maxColumn;i<n&&((0,h.c3)(o.themeType)||"selection"!==this._options.renderWhitespace?r.push(new a.Kp(i,n,"inline-selected-text",0)):(!l&&(l=[]),l.push(new d.zG(i-1,n-1))))}let f=new d.IJ(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,s.minColumn-1,s.tokens,r,s.tabSize,s.startVisibleColumn,o.spaceWidth,o.middotWidth,o.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==c.n0.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(f))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(p.CLASS_NAME),n.appendASCIIString('">');let m=(0,d.d1)(f,n);n.appendASCIIString("</div>");let v=null;return g&&u&&s.isBasicASCII&&o.useMonospaceOptimizations&&0===m.containsForeignElements&&s.content.length<300&&100>f.lineTokens.getCount()&&(v=new _(this._renderedViewLine?this._renderedViewLine.domNode:null,f,m.characterMapping)),!v&&(v=S(this._renderedViewLine?this._renderedViewLine.domNode:null,f,m.characterMapping,m.containsRTL,m.containsForeignElements)),this._renderedViewLine=v,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof _}monospaceAssumptionsAreValid(){return this._renderedViewLine?this._renderedViewLine instanceof _?this._renderedViewLine.monospaceAssumptionsAreValid():g:g}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof _&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));let s=this._renderedViewLine.input.stopRenderingLineAfter,o=!1;-1!==s&&t>s+1&&i>s+1&&(o=!0),-1!==s&&t>s+1&&(t=s+1),-1!==s&&i>s+1&&(i=s+1);let r=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return r&&r.length>0?new l.CH(o,r):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}p.CLASS_NAME="view-line";class _{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return g;let e=this.getWidth();return Math.abs(e-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),g=!1),g}toSlowRenderedLine(){return S(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){let s=this._getCharPosition(t),o=this._getCharPosition(i);return[new l.CR(s,o-s)]}_getCharPosition(e){let t=this._characterMapping.getHorizontalOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){let n=t.textContent.length,s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.getColumn(new d.Nd(s,i),n)}}class v{constructor(e,t,i,n,s){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=s,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return -1!==this._cachedWidth&&!0}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){let s=this._readPixelOffset(this.domNode,e,t,n);if(-1===s)return null;let o=this._readPixelOffset(this.domNode,e,i,n);return -1===o?null:[new l.CR(s,o-s)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,s){if(i!==n)return this._readRawVisibleRangesForRange(e,i,n,s);{let n=this._readPixelOffset(e,t,i,s);return -1===n?null:[new l.CR(n,0)]}}_readPixelOffset(e,t,i,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();let t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){let s=this._pixelOffsetCache[i];if(-1!==s)return s;let o=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=o,o}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(0===this._characterMapping.length){let t=r.h.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);return t&&0!==t.length?t[0].left:-1}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();let s=this._characterMapping.getDomPosition(i),o=r.h.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,s.partIndex,s.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);if(!o||0===o.length)return -1;let l=o[0].left;if(this.input.isBasicASCII){let e=this._characterMapping.getHorizontalOffset(i),t=Math.round(this.input.spaceWidth*e);if(1>=Math.abs(t-l))return t}return l}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new l.CR(0,this.getWidth())];let s=this._characterMapping.getDomPosition(t),o=this._characterMapping.getDomPosition(i);return r.h.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,o.partIndex,o.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode)}getColumnOfNodeOffset(e,t,i){let n=t.textContent.length,s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.getColumn(new d.Nd(s,i),n)}}class C extends v{_readVisibleRangesForRange(e,t,i,n,s){let o=super._readVisibleRangesForRange(e,t,i,n,s);if(!o||0===o.length||i===n||1===i&&n===this._characterMapping.length)return o;if(!this.input.containsRTL){let i=this._readPixelOffset(e,t,n,s);if(-1!==i){let e=o[o.length-1];e.left<i&&(e.width=i-e.left)}}return o}}let S=n.isWebKit?w:E;function w(e,t,i,n,s){return new C(e,t,i,n,s)}function E(e,t,i,n,s){return new v(e,t,i,n,s)}},98649:function(e,t,i){"use strict";i.d(t,{j:function(){return D}}),i("60155");var n,s,o,r=i("8339"),l=i("9737"),a=i("70758"),d=i("62880"),h=i("42401"),c=i("31453"),u=i("19527"),g=i("53120"),f=i("59923"),m=i("83368"),p=i("16637"),_=i("15776"),v=i("57938"),C=i("26939"),S=i("81161"),w=i("38643"),E=i("49436"),T=i("97085"),b=i("39703"),I=i("71628"),x=i("38842"),N=i("10870");class y{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class R{constructor(e){this.entries=e}}let A=(0,x.q5)("diff-review-insert",I.lA.add,r.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),L=(0,x.q5)("diff-review-remove",I.lA.remove,r.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),O=(0,x.q5)("diff-review-close",I.lA.close,r.NC("diffReviewCloseIcon","Icon for 'Close' in diff review.")),D=class e extends u.JT{constructor(e,t){super(),this._languageService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=(0,a.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,a.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new d.o(this.actionBarContainer.domNode)),this._actionBar.push(new c.aU("diffreview.close",r.NC("label.close","Close"),"close-diff-review "+b.kS.asClassName(O),!0,()=>{var e,t,i,n;return e=this,t=void 0,n=function*(){return this.hide()},new(i=void 0,i=Promise)(function(s,o){function r(e){try{a(n.next(e))}catch(e){o(e)}}function l(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,l)}a((n=n.apply(e,t||[])).next())})}),{label:!1,icon:!0}),this.domNode=(0,a.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,a.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new h.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(l.mu(this.domNode.domNode,"click",e=>{e.preventDefault();let t=l.Fx(e.target,"diff-review-row");t&&this._goToRow(t)})),this._register(l.mu(this.domNode.domNode,"keydown",e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(!this._isVisible&&(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;let t=this._diffs[e].entries;this._diffEditor.setPosition(new v.L(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(!this._isVisible&&(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;let t=this._diffs[e].entries;this._diffEditor.setPosition(new v.L(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);!isNaN(i)&&(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new v.L(e,1)),this._diffEditor.revealPosition(new v.L(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){let t=this._diffEditor.getLineChanges();if(!t||0===t.length)return[];let i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return i&&n?e._mergeAdjacent(t,i.getLineCount(),n.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];let n=[],s=0;for(let o=0,r=e.length;o<r;o++){let l=e[o],a=l.originalStartLineNumber,d=l.originalEndLineNumber,h=l.modifiedStartLineNumber,c=l.modifiedEndLineNumber,u=[],g=0;{let t=0===d?a:a-1,i=0===c?h:h-1,n=1,s=1;if(o>0){let t=e[o-1];n=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,s=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let r=t-3+1,l=i-3+1;if(r<n){let e=n-r;r+=e,l+=e}if(l<s){let e=s-l;r+=e,l+=e}u[g++]=new y(r,t,l,i)}0!==d&&(u[g++]=new y(a,d,0,0)),0!==c&&(u[g++]=new y(0,0,h,c));{let n=0===d?a+1:d+1,s=0===c?h+1:c+1,l=t,f=i;if(o+1<r){let t=e[o+1];l=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,f=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let m=n+3-1,p=s+3-1;if(m>l){let e=l-m;m+=e,p+=e}if(p>f){let e=f-p;m+=e,p+=e}u[g++]=new y(n,m,s,p)}n[s++]=new R(u)}let o=n[0].entries,r=[],l=0;for(let e=1,t=n.length;e<t;e++){let t=n[e].entries,i=o[o.length-1],s=t[0];if(0===i.getType()&&0===s.getType()&&s.originalLineStart<=i.originalLineEnd){o[o.length-1]=new y(i.originalLineStart,s.originalLineEnd,i.modifiedLineStart,s.modifiedLineEnd),o=o.concat(t.slice(1));continue}r[l++]=new R(o),o=t}return r[l++]=new R(o),r}_findDiffIndex(e){let t=e.lineNumber;for(let e=0,i=this._diffs.length;e<i;e++){let i=this._diffs[e].entries;if(t<=i[i.length-1].modifiedLineEnd)return e}return 0}_render(){let t=this._diffEditor.getOriginalEditor().getOptions(),i=this._diffEditor.getModifiedEditor().getOptions(),n=this._diffEditor.getOriginalEditor().getModel(),s=this._diffEditor.getModifiedEditor().getModel(),o=n.getOptions(),a=s.getOptions();if(!this._isVisible||!n||!s){l.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});let d=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[d]===this._currentDiff)return;this._currentDiff=this._diffs[d];let h=this._diffs[d].entries,c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,g.N)(c,i.get(46));let u=0,f=0,m=0,p=0;for(let e=0,t=h.length;e<t;e++){let t=h[e],i=t.originalLineStart,n=t.originalLineEnd,s=t.modifiedLineStart,o=t.modifiedLineEnd;0!==i&&(0===u||i<u)&&(u=i),0!==n&&(0===f||n>f)&&(f=n),0!==s&&(0===m||s<m)&&(m=s),0!==o&&(0===p||o>p)&&(p=o)}let _=document.createElement("div");_.className="diff-review-row";let v=document.createElement("div");v.className="diff-review-cell diff-review-summary";let C=f-u+1,S=p-m+1;v.appendChild(document.createTextNode(`${d+1}/${this._diffs.length}: @@ -${u},${C} +${m},${S} @@`)),_.setAttribute("data-line",String(m));let w=e=>0===e?r.NC("no_lines_changed","no lines changed"):1===e?r.NC("one_line_changed","1 line changed"):r.NC("more_lines_changed","{0} lines changed",e),E=w(C),T=w(S);_.setAttribute("aria-label",r.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",d+1,this._diffs.length,u,E,m,T)),_.appendChild(v),_.setAttribute("role","listitem"),c.appendChild(_);let b=i.get(61),I=m;for(let r=0,l=h.length;r<l;r++){let l=h[r];e._renderSection(c,l,I,b,this._width,t,n,o,i,s,a,this._languageService.languageIdCodec),0!==l.modifiedLineStart&&(I=l.modifiedLineEnd)}l.PO(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(t,i,n,s,o,l,a,d,h,c,u,g){let f=i.getType(),m="diff-review-row",p="",_=null;switch(f){case 1:m="diff-review-row line-insert",p=" char-insert",_=A;break;case 2:m="diff-review-row line-delete",p=" char-delete",_=L}let v=i.originalLineStart,C=i.originalLineEnd,S=i.modifiedLineStart,w=Math.max(i.modifiedLineEnd-S,C-v),E=l.get(133),T=E.glyphMarginWidth+E.lineNumbersWidth,I=h.get(133),x=10+I.glyphMarginWidth+I.lineNumbersWidth;for(let i=0;i<=w;i++){let C;let w=0===v?0:v+i,E=0===S?0:S+i,I=document.createElement("div");I.style.minWidth=o+"px",I.className=m,I.setAttribute("role","listitem"),0!==E&&(n=E),I.setAttribute("data-line",String(n));let N=document.createElement("div");N.className="diff-review-cell",N.style.height=`${s}px`,I.appendChild(N);let y=document.createElement("span");y.style.width=T+"px",y.style.minWidth=T+"px",y.className="diff-review-line-number"+p,0!==w?y.appendChild(document.createTextNode(String(w))):y.innerText="\xa0",N.appendChild(y);let R=document.createElement("span");R.style.width=x+"px",R.style.minWidth=x+"px",R.style.paddingRight="10px",R.className="diff-review-line-number"+p,0!==E?R.appendChild(document.createTextNode(String(E))):R.innerText="\xa0",N.appendChild(R);let A=document.createElement("span");if(A.className="diff-review-spacer",_){let e=document.createElement("span");e.className=b.kS.asClassName(_),e.innerText="\xa0\xa0",A.appendChild(e)}else A.innerText="\xa0\xa0";if(N.appendChild(A),0!==E){let t=this._renderLine(c,h,u.tabSize,E,g);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),N.insertAdjacentHTML("beforeend",t),C=c.getLineContent(E)}else{let t=this._renderLine(a,l,d.tabSize,w,g);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),N.insertAdjacentHTML("beforeend",t),C=a.getLineContent(w)}0===C.length&&(C=r.NC("blankLine","blank"));let L="";switch(f){case 0:L=w===E?r.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",C,w):r.NC("equalLine","{0} original line {1} modified line {2}",C,w,E);break;case 1:L=r.NC("insertLine","+ {0} modified line {1}",C,E);break;case 2:L=r.NC("deleteLine","- {0} original line {1}",C,w)}I.setAttribute("aria-label",L),t.appendChild(I)}}static _renderLine(e,t,i,n,s){let o=e.getLineContent(n),r=t.get(46),l=_.A.createEmpty(o,s),a=w.wA.isBasicASCII(o,e.mightContainNonBasicASCII()),d=w.wA.containsRTL(o,a,e.mightContainRTL());return(0,S.tF)(new S.IJ(r.isMonospace&&!t.get(29),r.canUseHalfwidthRightwardsArrow,o,!1,a,d,0,l,[],i,0,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,t.get(107),t.get(90),t.get(85),t.get(47)!==p.n0.OFF,null)).html}};D._ttPolicy=null===(o=window.trustedTypes)||void 0===o?void 0:o.createPolicy("diffReview",{createHTML:e=>e}),D=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([(n=1,s=N.O,function(e,t){s(e,t,1)})],D),(0,b.Ic)((e,t)=>{let i=e.getColor(C.hw);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);let n=e.getColor(T._wn);n&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)});class k extends f.R6{constructor(){super({id:"editor.action.diffReview.next",label:r.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:E.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){let i=M(e);i&&i.diffReviewNext()}}class P extends f.R6{constructor(){super({id:"editor.action.diffReview.prev",label:r.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:E.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){let i=M(e);i&&i.diffReviewPrev()}}function M(e){let t=e.get(m.$),i=t.listDiffEditors(),n=t.getActiveCodeEditor();if(!n)return null;for(let e=0,t=i.length;e<t;e++){let t=i[e];if(t.getModifiedEditor().getId()===n.getId()||t.getOriginalEditor().getId()===n.getId())return t}return null}(0,f.Qr)(k),(0,f.Qr)(P)},38846:function(e,t,i){"use strict";i.d(t,{OY:function(){return o},Sj:function(){return r},T4:function(){return s},Uo:function(){return l},hP:function(){return a}});var n=i("61065");class s{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return n.Y.fromPositions(i.getEndPosition())}}class o{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return n.Y.fromRange(i,0)}}class r{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return n.Y.fromPositions(i.getStartPosition())}}class l{constructor(e,t,i,n,s=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=s}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return n.Y.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class a{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}},65972:function(e,t,i){"use strict";i.d(t,{x:function(){return o}});var n=i("66763"),s=i("89626");function o(e,t,i){let o=n.LC(e);return -1===o&&(o=e.length),function(e,t,i){let n=0;for(let i=0;i<e.length;i++)"	"===e.charAt(i)?n=s.i.nextIndentTabStop(n,t):n++;let o="";if(!i){let e=Math.floor(n/t);n%=t;for(let t=0;t<e;t++)o+="	"}for(let e=0;e<n;e++)o+=" ";return o}(e.substring(0,o),t,i)+e.substring(o)}},22272:function(e,t,i){"use strict";i.d(t,{b:function(){return l},q:function(){return r}});var n=i("70843"),s=i("34630");function o(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class r{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${o(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${o(this.oldText)}")`:`(replace@${this.oldPosition} "${o(this.oldText)}" with "${o(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){let s=t.length;n.T4(e,s,i),i+=4;for(let o=0;o<s;o++)n.oq(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){let i=n.Ag(e,t);return t+=4,(0,s.kH)(e,t,i)}writeSize(){return 8+r._writeStringSize(this.oldText)+r._writeStringSize(this.newText)}write(e,t){return n.T4(e,this.oldPosition,t),t+=4,n.T4(e,this.newPosition,t),t+=4,t=r._writeString(e,this.oldText,t),t=r._writeString(e,this.newText,t)}static read(e,t,i){let s=n.Ag(e,t);t+=4;let o=n.Ag(e,t);t+=4;let l=r._readString(e,t);t+=r._writeStringSize(l);let a=r._readString(e,t);return t+=r._writeStringSize(a),i.push(new r(s,l,o,a)),t}}function l(e,t){return null===e||0===e.length?t:new a(e,t).compress()}class a{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){let s,o;if(null===i){this._acceptCurr(n),n=this._getCurr(++t);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){let[e,t]=a._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(e),n=t;continue}if(i.newPosition<n.oldPosition){let[e,t]=a._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(e),i=t;continue}if(n.oldEnd===i.newEnd)s=i,o=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){let[e,r]=a._splitPrev(i,n.oldLength);s=e,o=n,i=r,n=this._getCurr(++t)}else{let[t,r]=a._splitCurr(n,i.newLength);s=i,o=t,i=this._getPrev(++e),n=r}this._result[this._resultLen++]=new r(s.oldPosition,s.oldText,o.newPosition,o.newText),this._prevDeltaOffset+=s.newLength-s.oldLength,this._currDeltaOffset+=o.newLength-o.oldLength}let s=a._merge(this._result);return a._removeNoOps(s)}_acceptCurr(e){this._result[this._resultLen++]=a._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=a._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new r(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new r(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){let i=e.newText.substr(0,t),n=e.newText.substr(t);return[new r(e.oldPosition,e.oldText,e.newPosition,i),new r(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){let i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new r(e.oldPosition,i,e.newPosition,e.newText),new r(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],i=0,n=e[0];for(let s=1;s<e.length;s++){let o=e[s];n.oldEnd===o.oldPosition?n=new r(n.oldPosition,n.oldText+o.oldText,n.newPosition,n.newText+o.newText):(t[i++]=n,n=o)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],i=0;for(let n=0;n<e.length;n++){let s=e[n];s.oldText!==s.newText&&(t[i++]=s)}return t}}},61209:function(e,t,i){"use strict";i.d(t,{U:function(){return p}});var n=i("61111"),s=i("66763"),o=i("18156"),r=i("7910"),l=i("42075"),a=i("52862"),d=i("12952"),h=i("61045"),c=i("61065"),u=i("86043"),g=i("13638"),f=i("19527"),m=i("14322");class p extends f.JT{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new l.z(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new o.s(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,f.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new l.z(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){let i=this._autoClosedActions[t];!i.isValid(e)&&(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let s=!1;null!==n&&n.length>p.MAX_CURSOR_COUNT&&(n=n.slice(0,p.MAX_CURSOR_COUNT),s=!0);let o=_.from(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,o,s)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n,s,o){let r=this._cursors.getViewPositions(),l=null,a=null;r.length>1?a=this._cursors.getViewSelections():l=h.e.fromPositions(r[0],r[0]),e.emitViewEvent(new g.Qb(t,i,l,a,n,s,o))}saveState(){let e=[],t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){let n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){let i=[];for(let e=0,n=t.length;e<n;e++){let n=t[e],s=1,o=1;n.position&&n.position.lineNumber&&(s=n.position.lineNumber),n.position&&n.position.column&&(o=n.position.column);let r=s,l=o;n.selectionStart&&n.selectionStart.lineNumber&&(r=n.selectionStart.lineNumber),n.selectionStart&&n.selectionStart.column&&(l=n.selectionStart.column),i.push({selectionStartLineNumber:r,selectionStartColumn:l,positionLineNumber:s,positionColumn:o})}this.setStates(e,"restoreState",0,r.Vi.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof u.D8){if(!this._isHandling){this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}}else{let i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;let n=i.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new o.s(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){let t=r.Vi.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,t)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{let t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,r.Vi.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;let e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,r.Vi.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let s=0,o=e.length;s<o;s++)i.push({range:e[s],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[s],options:{description:"auto-closed-enclosing",stickiness:1}});let s=this._model.deltaDecorations([],i),o=this._model.deltaDecorations([],n);this._autoClosedActions.push(new v(this._model,s,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();let t=C.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let t=0;t<e.commands.length;t++){let s=e.commands[t];s instanceof d.g_&&s.enclosingRange&&s.closeCharacterRange&&(i.push(s.closeCharacterRange),n.push(s.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||0===e.length)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,s){let o=_.from(this._model,this);if(o.equals(n))return!1;let r=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new g.e$(l,r)),!n||n.cursorState.length!==o.cursorState.length||o.cursorState.some((e,t)=>!e.modelState.equals(n.cursorState[t].modelState))){let l=n?n.cursorState.map(e=>e.modelState.selection):null,a=n?n.modelVersionId:0;e.emitOutgoingEvent(new m.H6(l,r,a,o.modelVersionId,t||"keyboard",i,s))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){let n=e[i];if(!n.text||n.text.indexOf("\n")>=0)return null;let s=n.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!s)return null;let o=s[1],r=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(o);if(!r||1!==r.length)return null;let l=r[0].open,a=n.text.length-s[2].length-1,d=n.text.lastIndexOf(l,a-1);if(-1===d)return null;t.push([d,a])}return t}executeEdits(e,t,i,n){let s=null;"snippet"===t&&(s=this._findAutoClosingPairs(i)),s&&(i[0]._isTracked=!0);let o=[],r=[],l=this._model.pushEditOperations(this.getSelections(),i,e=>{if(s)for(let t=0,i=s.length;t<i;t++){let[i,n]=s[t],l=e[t],a=l.range.startLineNumber,d=l.range.startColumn-1+i,c=l.range.startColumn-1+n;o.push(new h.e(a,c+1,a,c+2)),r.push(new h.e(a,d+1,a,c+2))}let t=n(e);return t&&(this._isHandling=!0),t});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),o.length>0&&this._pushAutoClosedAction(o,r)}_executeEdit(e,t,i,s=0){if(this.context.cursorConfig.readOnly)return;let o=_.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(e){(0,n.dL)(e)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,s,o,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return v.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new w(this._model,this.getSelections())}endComposition(e,t){let i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{"keyboard"===t&&this._executeEditOperation(d.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if("keyboard"===i){let e=t.length,i=0;for(;i<e;){let e=s.vH(t,i),n=t.substr(i,e);this._executeEditOperation(d.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),n)),i+=e}}else this._executeEditOperation(d.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,n,s,o){if(0===t.length&&0===i&&0===n){if(0!==s){let t=this.getSelections().map(e=>{let t=e.getPosition();return new c.Y(t.lineNumber,t.column+s,t.lineNumber,t.column+s)});this.setSelections(e,o,t,0)}return}this._executeEdit(()=>{this._executeEditOperation(d.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,s))},e,o)}paste(e,t,i,n,s){this._executeEdit(()=>{this._executeEditOperation(d.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))},e,s,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(a.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new r.Tp(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new r.Tp(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}p.MAX_CURSOR_COUNT=1e4;class _{constructor(e,t){this.modelVersionId=e,this.cursorState=t}static from(e,t){return new _(e.getVersionId(),t.getCursorStates())}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class v{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(let i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){let i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let e=0;e<this._autoClosedEnclosingDecorations.length;e++){let i=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[e]);if(i&&(t.push(i),i.startLineNumber!==i.endLineNumber))return!1}t.sort(h.e.compareRangesUsingStarts),e.sort(h.e.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class C{static executeCommands(e,t,i){let n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},s=this._innerExecuteCommands(n,i);for(let e=0,t=n.trackedRanges.length;e<t;e++)n.model._setTrackedRange(n.trackedRanges[e],null,0);return s}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;let i=this._getEditOperations(e,t);if(0===i.operations.length)return null;let n=i.operations,s=this._getLoserCursorMap(n);if(s.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let o=[];for(let e=0,t=n.length;e<t;e++)!s.hasOwnProperty(n[e].identifier.major.toString())&&o.push(n[e]);i.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let r=e.model.pushEditOperations(e.selectionsBefore,o,i=>{let n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(let e of i)e.identifier&&n[e.identifier.major].push(e);let s=(e,t)=>e.identifier.minor-t.identifier.minor,o=[];for(let i=0;i<e.selectionsBefore.length;i++)n[i].length>0?(n[i].sort(s),o[i]=t[i].computeCursorState(e.model,{getInverseEditOperations:()=>n[i],getTrackedSelection:t=>{let i=parseInt(t,10),n=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new c.Y(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new c.Y(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}})):o[i]=e.selectionsBefore[i];return o});!r&&(r=e.selectionsBefore);let l=[];for(let e in s)s.hasOwnProperty(e)&&l.push(parseInt(e,10));for(let e of(l.sort((e,t)=>t-e),l))r.splice(e,1);return r}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let s=0,o=t.length;s<o;s++){let o=t[s];if(o){let t=this._getEditOperationsFromCommand(e,s,o);i=i.concat(t.operations),n=n||t.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let s=[],o=0,r=(e,n,r=!1)=>{(!h.e.isEmpty(e)||""!==n)&&s.push({identifier:{major:t,minor:o++},range:e,text:n,forceMoveMarkers:r,isAutoWhitespaceEdit:i.insertsAutoWhitespace})},l=!1;try{i.getEditOperations(e.model,{addEditOperation:r,addTrackedEditOperation:(e,t,i)=>{l=!0,r(e,t,i)},trackSelection:(t,i)=>{let n;let s=c.Y.liftSelection(t);if(s.isEmpty()){if("boolean"==typeof i)n=i?2:3;else{let t=e.model.getLineMaxColumn(s.startLineNumber);n=s.startColumn===t?2:3}}else n=1;let o=e.trackedRanges.length,r=e.model._setTrackedRange(null,s,n);return e.trackedRanges[o]=r,e.trackedRangesDirection[o]=s.getDirection(),o.toString()}})}catch(e){return(0,n.dL)(e),{operations:[],hadTrackedEditOperation:!1}}return{operations:s,hadTrackedEditOperation:l}}static _getLoserCursorMap(e){(e=e.slice(0)).sort((e,t)=>-h.e.compareRangesUsingEnds(e.range,t.range));let t={};for(let i=1;i<e.length;i++){let n=e[i-1],s=e[i];if(h.e.getStartPosition(n.range).isBefore(h.e.getEndPosition(s.range))){let o;t[(o=n.identifier.major>s.identifier.major?n.identifier.major:s.identifier.major).toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===o&&(e.splice(t,1),t<i&&i--,t--);i>0&&i--}}return t}}class S{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class w{constructor(e,t){this._original=w._capture(e,t)}static _capture(e,t){let i=[];for(let n of t){if(n.startLineNumber!==n.endLineNumber)return null;i.push(new S(e.getLineContent(n.startLineNumber),n.startColumn-1,n.endColumn-1))}return i}deduceOutcome(e,t){if(!this._original)return null;let i=w._capture(e,t);if(!i||this._original.length!==i.length)return null;let n=[];for(let e=0,t=this._original.length;e<t;e++)n.push(w._deduceOutcome(this._original[e],i[e]));return n}static _deduceOutcome(e,t){let i=Math.min(e.startSelection,t.startSelection,s.Mh(e.text,t.text)),n=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,s.P1(e.text,t.text)),o=e.text.substring(i,e.text.length-n),r=t.text.substring(i,t.text.length-n);return new d.Nu(o,e.startSelection-i,e.endSelection-i,r,t.startSelection-i,t.endSelection-i)}}},55699:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});class n{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return(1024&e)!=0}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(16744448&e)>>>15}static getBackground(e){return(4278190080&e)>>>24}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),i=this.getFontStyle(e);return 1&i&&(t+=" mtki"),2&i&&(t+=" mtkb"),4&i&&(t+=" mtku"),8&i&&(t+=" mtks"),t}static getInlineStyleFromMetadata(e,t){let i=this.getForeground(e),n=this.getFontStyle(e),s=`color: ${t[i]};`;1&n&&(s+="font-style: italic;"),2&n&&(s+="font-weight: bold;");let o="";return 4&n&&(o+=" underline"),8&n&&(o+=" line-through"),o&&(s+=`text-decoration:${o};`),s}static getPresentationFromMetadata(e){let t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:!!(1&i),bold:!!(2&i),underline:!!(4&i),strikethrough:!!(8&i)}}}},45477:function(e,t,i){"use strict";i.d(t,{$9:function(){return h},UF:function(){return d},n8:function(){return a},r7:function(){return l},tI:function(){return c}});var n=i("66763"),s=i("49286"),o=i("65633"),r=i("62785");function l(e,t,i,o=!0,r){if(e<4)return null;let l=r.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!l)return null;if(i<=1)return{indentation:"",action:null};let a=function(e,t,i){let n=e.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let s;let o=-1;for(s=t-1;s>=1;s--){if(e.tokenization.getLanguageIdAtPosition(s,0)!==n)return o;let t=e.getLineContent(s);if(i.shouldIgnore(t)||/^\s+$/.test(t)||""===t){o=s;continue}return s}}return -1}(t,i,l);if(a<0)return null;if(a<1)return{indentation:"",action:null};let d=t.getLineContent(a);if(l.shouldIncrease(d)||l.shouldIndentNextLine(d))return{indentation:n.V8(d),action:s.wU.Indent,line:a};{if(l.shouldDecrease(d))return{indentation:n.V8(d),action:null,line:a};if(1===a)return{indentation:n.V8(t.getLineContent(a)),action:null,line:a};let e=a-1,i=l.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!l.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:n.V8(t.getLineContent(i+1)),action:null,line:i+1}}if(o)return{indentation:n.V8(t.getLineContent(a)),action:null,line:a};for(let e=a;e>0;e--){let i=t.getLineContent(e);if(l.shouldIncrease(i))return{indentation:n.V8(i),action:s.wU.Indent,line:e};if(l.shouldIndentNextLine(i)){let i=0;for(let n=e-1;n>0;n--)if(!l.shouldIndentNextLine(t.getLineContent(e))){i=n;break}return{indentation:n.V8(t.getLineContent(i+1)),action:null,line:i+1}}else if(l.shouldDecrease(i))return{indentation:n.V8(i),action:null,line:e}}return{indentation:n.V8(t.getLineContent(1)),action:null,line:1}}}function a(e,t,i,o,r,a){if(e<4)return null;let d=a.getLanguageConfiguration(i);if(!d)return null;let h=a.getLanguageConfiguration(i).indentRulesSupport;if(!h)return null;let c=l(e,t,o,void 0,a),u=t.getLineContent(o);if(c){let i=c.line;if(void 0!==i){let o=d.onEnter(e,"",t.getLineContent(i),"");if(o){let e=n.V8(t.getLineContent(i));return o.removeText&&(e=e.substring(0,e.length-o.removeText)),o.indentAction===s.wU.Indent||o.indentAction===s.wU.IndentOutdent?e=r.shiftIndent(e):o.indentAction===s.wU.Outdent&&(e=r.unshiftIndent(e)),h.shouldDecrease(u)&&(e=r.unshiftIndent(e)),o.appendText&&(e+=o.appendText),n.V8(e)}}if(h.shouldDecrease(u))return c.action===s.wU.Indent?c.indentation:r.unshiftIndent(c.indentation);return c.action===s.wU.Indent?r.shiftIndent(c.indentation):c.indentation}return null}function d(e,t,i,a,d){let h,c;if(e<4)return null;t.tokenization.forceTokenization(i.startLineNumber);let u=t.tokenization.getLineTokens(i.startLineNumber),g=(0,o.wH)(u,i.startColumn-1),f=g.getLineContent(),m=!1;g.firstCharOffset>0&&u.getLanguageId(0)!==g.languageId?(m=!0,h=f.substr(0,i.startColumn-1-g.firstCharOffset)):h=u.getLineContent().substring(0,i.startColumn-1),c=i.isEmpty()?f.substr(i.startColumn-1-g.firstCharOffset):(0,r.n2)(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-g.firstCharOffset);let p=d.getLanguageConfiguration(g.languageId).indentRulesSupport;if(!p)return null;let _=h,v=n.V8(h),C=n.V8(u.getLineContent()),S=l(e,{tokenization:{getLineTokens:e=>t.tokenization.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i)},getLineContent:e=>e===i.startLineNumber?_:t.getLineContent(e)},i.startLineNumber+1,void 0,d);if(!S){let e=m?C:v;return{beforeEnter:e,afterEnter:e}}let w=m?C:S.indentation;return S.action===s.wU.Indent&&(w=a.shiftIndent(w)),p.shouldDecrease(c)&&(w=a.unshiftIndent(w)),{beforeEnter:m?C:v,afterEnter:w}}function h(e,t,i,n,o,a){let d;if(e<4)return null;let h=(0,r.n2)(t,i.startLineNumber,i.startColumn);if(h.firstCharOffset)return null;let c=a.getLanguageConfiguration(h.languageId).indentRulesSupport;if(!c)return null;let u=h.getLineContent(),g=u.substr(0,i.startColumn-1-h.firstCharOffset);if(d=i.isEmpty()?u.substr(i.startColumn-1-h.firstCharOffset):(0,r.n2)(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-h.firstCharOffset),!c.shouldDecrease(g+d)&&c.shouldDecrease(g+n+d)){let n=l(e,t,i.startLineNumber,!1,a);if(!n)return null;let r=n.indentation;return n.action!==s.wU.Indent&&(r=o.unshiftIndent(r)),r}return null}function c(e,t,i){let n=i.getLanguageConfiguration(e.getLanguageId()).indentRulesSupport;return!n||t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t))}},96717:function(e,t,i){"use strict";i.d(t,{S:function(){return s}});var n=i("49286");class s{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(e=>new n.V6(e)):e.brackets?this._autoClosingPairs=e.brackets.map(e=>new n.V6({open:e[0],close:e[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){let t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new n.V6({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:s.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}s.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n	"},26148:function(e,t,i){"use strict";i.d(t,{Q:function(){return h}});var n=i("16904"),s=i("19527"),o=i("61045"),r=i("57507"),l=i("65633"),a=i("23865"),d=i("3868");class h extends s.JT{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new s.XK),this.onDidChangeEmitter=new n.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(e=>{var t;(!e.languageId||(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return 5e6>=this.textModel.getValueLength()}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){let e=new s.SL;this.bracketPairsTree.value=function(e,t){return{object:e,dispose:()=>null==t?void 0:t.dispose()}}(e.add(new r.W(this.textModel,e=>this.languageConfigurationService.getLanguageConfiguration(e))),e),e.add(this.bracketPairsTree.value.object.onDidChange(e=>this.onDidChangeEmitter.fire(e))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketsInRange(e))||[]}findMatchingBracketUp(e,t,i){let n=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(n.lineNumber,n.column);if(this.canBuildAST){let i=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(e);if(!i)return null;let n=(0,d.dF)(this.getBracketPairsInRange(o.e.fromPositions(t,t))||[],e=>i.closes(e.openingBracketInfo));return n?n.openingBracketRange:null}{let t=e.toLowerCase(),o=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!o)return null;let r=o.textIsBracket[t];return r?g(this._findMatchingBracketUp(r,n,c(i))):null}}matchBracket(e,t){if(this.canBuildAST){let t=(0,d.jV)(this.getBracketPairsInRange(o.e.fromPositions(e,e)).filter(t=>void 0!==t.closingBracketRange&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e))),(0,d.tT)(t=>t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange,o.e.compareRangesUsingStarts));return t?[t.openingBracketRange,t.closingBracketRange]:null}{let i=c(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,n){let s=t.getCount(),o=t.getLanguageId(n),r=Math.max(0,e.column-1-i.maxBracketLength);for(let e=n-1;e>=0;e--){let i=t.getEndOffset(e);if(i<=r)break;if((0,l.Bu)(t.getStandardTokenType(e))||t.getLanguageId(e)!==o){r=i;break}}let a=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let e=n+1;e<s;e++){let i=t.getStartOffset(e);if(i>=a)break;if((0,l.Bu)(t.getStandardTokenType(e))||t.getLanguageId(e)!==o){a=i;break}}return{searchStartOffset:r,searchEndOffset:a}}_matchBracket(e,t){let i=e.lineNumber,n=this.textModel.tokenization.getLineTokens(i),s=this.textModel.getLineContent(i),o=n.findTokenIndexAtOffset(e.column-1);if(o<0)return null;let r=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(o)).brackets;if(r&&!(0,l.Bu)(n.getStandardTokenType(o))){let{searchStartOffset:l,searchEndOffset:d}=this._establishBracketSearchOffsets(e,n,r,o),h=null;for(;;){let n=a.Vr.findNextBracketInRange(r.forwardRegex,i,s,l,d);if(!n)break;if(n.startColumn<=e.column&&e.column<=n.endColumn){let e=s.substring(n.startColumn-1,n.endColumn-1).toLowerCase(),i=this._matchFoundBracket(n,r.textIsBracket[e],r.textIsOpenBracket[e],t);if(i){if(i instanceof u)return null;h=i}}l=n.endColumn-1}if(h)return h}if(o>0&&n.getStartOffset(o)===e.column-1){let r=o-1,d=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(r)).brackets;if(d&&!(0,l.Bu)(n.getStandardTokenType(r))){let{searchStartOffset:o,searchEndOffset:l}=this._establishBracketSearchOffsets(e,n,d,r),h=a.Vr.findPrevBracketInRange(d.reversedRegex,i,s,o,l);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn){let e=s.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),i=this._matchFoundBracket(h,d.textIsBracket[e],d.textIsOpenBracket[e],t);if(i)return i instanceof u?null:i}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;let s=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return s?s instanceof u?s:[e,s]:null}_findMatchingBracketUp(e,t,i){let n=e.languageId,s=e.reversedRegex,o=-1,r=0,d=(t,n,l,d)=>{for(;;){if(i&&++r%100==0&&!i())return u.INSTANCE;let h=a.Vr.findPrevBracketInRange(s,t,n,l,d);if(!h)break;let c=n.substring(h.startColumn-1,h.endColumn-1).toLowerCase();if(e.isOpen(c)?o++:e.isClose(c)&&o--,0===o)return h;d=h.startColumn-1}return null};for(let e=t.lineNumber;e>=1;e--){let i=this.textModel.tokenization.getLineTokens(e),s=i.getCount(),o=this.textModel.getLineContent(e),r=s-1,a=o.length,h=o.length;e===t.lineNumber&&(r=i.findTokenIndexAtOffset(t.column-1),a=t.column-1,h=t.column-1);let c=!0;for(;r>=0;r--){let t=i.getLanguageId(r)===n&&!(0,l.Bu)(i.getStandardTokenType(r));if(t)c?a=i.getStartOffset(r):(a=i.getStartOffset(r),h=i.getEndOffset(r));else if(c&&a!==h){let t=d(e,o,a,h);if(t)return t}c=t}if(c&&a!==h){let t=d(e,o,a,h);if(t)return t}}return null}_findMatchingBracketDown(e,t,i){let n=e.languageId,s=e.forwardRegex,o=1,r=0,d=(t,n,l,d)=>{for(;;){if(i&&++r%100==0&&!i())return u.INSTANCE;let h=a.Vr.findNextBracketInRange(s,t,n,l,d);if(!h)break;let c=n.substring(h.startColumn-1,h.endColumn-1).toLowerCase();if(e.isOpen(c)?o++:e.isClose(c)&&o--,0===o)return h;l=h.endColumn-1}return null},h=this.textModel.getLineCount();for(let e=t.lineNumber;e<=h;e++){let i=this.textModel.tokenization.getLineTokens(e),s=i.getCount(),o=this.textModel.getLineContent(e),r=0,a=0,h=0;e===t.lineNumber&&(r=i.findTokenIndexAtOffset(t.column-1),a=t.column-1,h=t.column-1);let c=!0;for(;r<s;r++){let t=i.getLanguageId(r)===n&&!(0,l.Bu)(i.getStandardTokenType(r));if(t)c||(a=i.getStartOffset(r)),h=i.getEndOffset(r);else if(c&&a!==h){let t=d(e,o,a,h);if(t)return t}c=t}if(c&&a!==h){let t=d(e,o,a,h);if(t)return t}}return null}findPrevBracket(e){var t;let i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketBefore(i))||null;let n=null,s=null,o=null;for(let e=i.lineNumber;e>=1;e--){let t=this.textModel.tokenization.getLineTokens(e),r=t.getCount(),d=this.textModel.getLineContent(e),h=r-1,c=d.length,u=d.length;if(e===i.lineNumber){h=t.findTokenIndexAtOffset(i.column-1),c=i.column-1,u=i.column-1;let e=t.getLanguageId(h);n!==e&&(n=e,s=this.languageConfigurationService.getLanguageConfiguration(n).brackets,o=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew)}let g=!0;for(;h>=0;h--){let i=t.getLanguageId(h);if(n!==i){if(s&&o&&g&&c!==u){let t=a.Vr.findPrevBracketInRange(s.reversedRegex,e,d,c,u);if(t)return this._toFoundBracket(o,t);g=!1}n=i,s=this.languageConfigurationService.getLanguageConfiguration(n).brackets,o=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}let r=!!s&&!(0,l.Bu)(t.getStandardTokenType(h));if(r)g?c=t.getStartOffset(h):(c=t.getStartOffset(h),u=t.getEndOffset(h));else if(o&&s&&g&&c!==u){let t=a.Vr.findPrevBracketInRange(s.reversedRegex,e,d,c,u);if(t)return this._toFoundBracket(o,t)}g=r}if(o&&s&&g&&c!==u){let t=a.Vr.findPrevBracketInRange(s.reversedRegex,e,d,c,u);if(t)return this._toFoundBracket(o,t)}}return null}findNextBracket(e){var t;let i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketAfter(i))||null;let n=this.textModel.getLineCount(),s=null,o=null,r=null;for(let e=i.lineNumber;e<=n;e++){let t=this.textModel.tokenization.getLineTokens(e),n=t.getCount(),d=this.textModel.getLineContent(e),h=0,c=0,u=0;if(e===i.lineNumber){h=t.findTokenIndexAtOffset(i.column-1),c=i.column-1,u=i.column-1;let e=t.getLanguageId(h);s!==e&&(s=e,o=this.languageConfigurationService.getLanguageConfiguration(s).brackets,r=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let g=!0;for(;h<n;h++){let i=t.getLanguageId(h);if(s!==i){if(r&&o&&g&&c!==u){let t=a.Vr.findNextBracketInRange(o.forwardRegex,e,d,c,u);if(t)return this._toFoundBracket(r,t);g=!1}s=i,o=this.languageConfigurationService.getLanguageConfiguration(s).brackets,r=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}let n=!!o&&!(0,l.Bu)(t.getStandardTokenType(h));if(n)g||(c=t.getStartOffset(h)),u=t.getEndOffset(h);else if(r&&o&&g&&c!==u){let t=a.Vr.findNextBracketInRange(o.forwardRegex,e,d,c,u);if(t)return this._toFoundBracket(r,t)}g=n}if(r&&o&&g&&c!==u){let t=a.Vr.findNextBracketInRange(o.forwardRegex,e,d,c,u);if(t)return this._toFoundBracket(r,t)}}return null}findEnclosingBrackets(e,t){let i=this.textModel.validatePosition(e);if(this.canBuildAST){let e=o.e.fromPositions(i),t=(0,d.dF)(this.getBracketPairsInRange(o.e.fromPositions(i,i)),t=>void 0!==t.closingBracketRange&&t.range.strictContainsRange(e));return t?[t.openingBracketRange,t.closingBracketRange]:null}let n=c(t),s=this.textModel.getLineCount(),r=new Map,h=[],f=(e,t)=>{if(!r.has(e)){let i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;r.set(e,i)}h=r.get(e)},m=0,p=(e,t,i,s,o)=>{for(;;){if(n&&++m%100==0&&!n())return u.INSTANCE;let r=a.Vr.findNextBracketInRange(e.forwardRegex,t,i,s,o);if(!r)break;let l=i.substring(r.startColumn-1,r.endColumn-1).toLowerCase(),d=e.textIsBracket[l];if(d&&(d.isOpen(l)?h[d.index]++:d.isClose(l)&&h[d.index]--,-1===h[d.index]))return this._matchFoundBracket(r,d,!1,n);s=r.endColumn-1}return null},_=null,v=null;for(let e=i.lineNumber;e<=s;e++){let t=this.textModel.tokenization.getLineTokens(e),n=t.getCount(),s=this.textModel.getLineContent(e),o=0,r=0,a=0;if(e===i.lineNumber){o=t.findTokenIndexAtOffset(i.column-1),r=i.column-1,a=i.column-1;let e=t.getLanguageId(o);_!==e&&(_=e,v=this.languageConfigurationService.getLanguageConfiguration(_).brackets,f(_,v))}let d=!0;for(;o<n;o++){let i=t.getLanguageId(o);if(_!==i){if(v&&d&&r!==a){let t=p(v,e,s,r,a);if(t)return g(t);d=!1}_=i,v=this.languageConfigurationService.getLanguageConfiguration(_).brackets,f(_,v)}let n=!!v&&!(0,l.Bu)(t.getStandardTokenType(o));if(n)d||(r=t.getStartOffset(o)),a=t.getEndOffset(o);else if(v&&d&&r!==a){let t=p(v,e,s,r,a);if(t)return g(t)}d=n}if(v&&d&&r!==a){let t=p(v,e,s,r,a);if(t)return g(t)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();let n=e.getBracketInfo(i);return n?{range:t,bracketInfo:n}:null}}function c(e){if(void 0===e)return()=>!0;{let t=Date.now();return()=>Date.now()-t<=e}}class u{constructor(){this._searchCanceledBrand=void 0}}function g(e){return e instanceof u?null:e}u.INSTANCE=new u},5601:function(e,t,i){"use strict";i.d(t,{gD:function(){return r}});var n=i("44138"),s=i("57938"),o=i("63681");class r{constructor(e,t,i,n,s){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){let t=e>0?this.breakOffsets[e-1]:0,i=this.breakOffsets[e]-t;return e>0&&(i+=this.wrappedTextIndentLength),i}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let i=0===e?t:this.breakOffsets[e-1]+t;if(null!==this.injectionOffsets)for(let e=0;e<this.injectionOffsets.length&&i>this.injectionOffsets[e];e++)i<this.injectionOffsets[e]+this.injectionOptions[e].content.length?i=this.injectionOffsets[e]:i-=this.injectionOptions[e].content.length;return i}translateToOutputPosition(e,t=2){let i=e;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n])&&(1===t||e!==this.injectionOffsets[n]);n++){;i+=this.injectionOptions[n].content.length}return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,n=this.breakOffsets.length-1,s=0,o=0;for(;i<=n;){s=i+(n-i)/2|0;let r=this.breakOffsets[s];if(o=s>0?this.breakOffsets[s-1]:0,0===t){if(e<=o)n=s-1;else if(e>r)i=s+1;else break}else if(e<o)n=s-1;else if(e>=r)i=s+1;else break}let r=e-o;return s>0&&(r+=this.wrappedTextIndentLength),new d(s,r)}normalizeOutputPosition(e,t,i){if(null!==this.injectionOffsets){let n=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,i);if(s!==n)return this.offsetInInputWithInjectionsToOutputPosition(s,i)}if(0===i){if(e>0&&t===this.getMinOutputOffset(e))return new d(e-1,this.getMaxOutputOffset(e-1))}else if(1===i&&e<this.getOutputLineCount()-1&&t===this.getMaxOutputOffset(e))return new d(e+1,this.getMinOutputOffset(e+1));return new d(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){let i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t){if(e===i.offsetInInputWithInjections+i.length&&l(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let e=i.offsetInInputWithInjections;if(a(this.injectionOptions[i.injectedTextIndex].cursorStops))return e;let t=i.injectedTextIndex-1;for(;t>=0&&this.injectionOffsets[t]===this.injectionOffsets[i.injectedTextIndex]&&!l(this.injectionOptions[t].cursorStops);){;if(e-=this.injectionOptions[t].content.length,a(this.injectionOptions[t].cursorStops))break;t--}return e}}if(1===t||4===t){let e=i.offsetInInputWithInjections+i.length,t=i.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}if(0===t||3===t){let e=i.offsetInInputWithInjections,t=i.injectedTextIndex;for(;t-1>=0&&this.injectionOffsets[t-1]===this.injectionOffsets[t];)e-=this.injectionOptions[t-1].content.length,t--;return e}(0,n.vE)(t)}getInjectedText(e,t){let i=this.outputPositionToOffsetInInputWithInjections(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){let t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let n=0;for(let s=0;s<t.length;s++){let o=i[s].content.length,r=t[s]+n,l=t[s]+n+o;if(r>e)break;if(e<=l)return{injectedTextIndex:s,offsetInInputWithInjections:r,length:o};n+=o}}}}function l(e){return null==e||e===o.RM.Right||e===o.RM.Both}function a(e){return null==e||e===o.RM.Left||e===o.RM.Both}class d{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new s.L(e+this.outputLineIndex,this.outputOffset+1)}}},70241:function(e,t,i){"use strict";i.d(t,{s:function(){return n}});class n{constructor(e,t){this._startLineNumber=e,this._tokens=t}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}},79550:function(e,t,i){"use strict";var n=i("59923"),s=i("14362");i("27879"),(0,n._K)(s.pY.ID,s.pY),(0,n.Qr)(s.E7),(0,n.Qr)(s.Eb),(0,n.Qr)(s.UG),(0,n.Qr)(s.VQ),(0,n.Qr)(s.o$),(0,n.Qr)(s.S5),(0,n.Qr)(s.Hv),(0,n.fK)(new s.dW)},24971:function(e,t,i){"use strict";var n=i("862"),s=i("44138"),o=i("38505"),r=i("78936"),l=i("32633"),a=i("21095");a.P0.registerCommand("_executeDocumentSymbolProvider",function(e,...t){var i,a,d,h;return i=this,a=void 0,d=void 0,h=function*(){let[i]=t;(0,s.p_)(o.o.isUri(i));let a=e.get(l.Je),d=e.get(r.S),h=yield d.createModelReference(i);try{return(yield a.getOrCreate(h.object.textEditorModel,n.T.None)).getTopLevelSymbols()}finally{h.dispose()}},new(d||(d=Promise))(function(e,t){function n(e){try{o(h.next(e))}catch(e){t(e)}}function s(e){try{o(h.throw(e))}catch(e){t(e)}}function o(t){var i;t.done?e(t.value):((i=t.value)instanceof d?i:new d(function(e){e(i)})).then(n,s)}o((h=h.apply(i,a||[])).next())})})},56332:function(e,t,i){"use strict";i.d(t,{P:function(){return a}});var n=i("16904"),s=i("19527"),o=i("61045"),r=i("99742");function l(e,t){return 1===e||2!==e&&t}class a extends s.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new n.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return l(this._isRegexOverride,this._isRegex)}get wholeWord(){return l(this._wholeWordOverride,this._wholeWord)}get matchCase(){return l(this._matchCaseOverride,this._matchCase)}get preserveCase(){return l(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},s=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,s=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,s=!0),void 0!==i&&!o.e.equalsRange(this._currentMatch,i)&&(this._currentMatch=i,n.currentMatch=!0,s=!0),s&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;let s={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},r=!1,l=this.isRegex,a=this.wholeWord,d=this.matchCase,h=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,s.searchString=!0,r=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,s.replaceString=!0,r=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,s.isRevealed=!0,r=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,s.isReplaceRevealed=!0,r=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&!(null===(n=e.searchScope)||void 0===n?void 0:n.every(e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some(t=>!o.e.equalsRange(t,e))}))&&(this._searchScope=e.searchScope,s.searchScope=!0,r=!0),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,s.loop=!0,r=!0),void 0!==e.isSearching&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,s.isSearching=!0,r=!0),void 0!==e.filters&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,s.filters=!0,r=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,l!==this.isRegex&&(r=!0,s.isRegex=!0),a!==this.wholeWord&&(r=!0,s.wholeWord=!0),d!==this.matchCase&&(r=!0,s.matchCase=!0),h!==this.preserveCase&&(r=!0,s.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=r.nD}}},74719:function(e,t,i){"use strict";i.d(t,{Iy:function(){return a},W:function(){return h},bO:function(){return c},f5:function(){return d},fF:function(){return u}});var n=i("71628"),s=i("99599"),o=i("8339"),r=i("38842"),l=i("39703");let a=(0,r.q5)("folding-expanded",n.lA.chevronDown,(0,o.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),d=(0,r.q5)("folding-collapsed",n.lA.chevronRight,(0,o.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),h=(0,r.q5)("folding-manual-collapsed",d,(0,o.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),c=(0,r.q5)("folding-manual-expanded",a,(0,o.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class u{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t||"never"===this.showFoldingControls?u.HIDDEN_RANGE_DECORATION:e?i?this.showFoldingHighlights?u.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:u.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?u.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:u.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?i?u.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:u.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?u.MANUALLY_EXPANDED_VISUAL_DECORATION:u.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}u.COLLAPSED_VISUAL_DECORATION=s.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:l.kS.asClassName(d)}),u.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=s.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:l.kS.asClassName(d)}),u.MANUALLY_COLLAPSED_VISUAL_DECORATION=s.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+l.kS.asClassName(a)}),u.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=s.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:l.kS.asClassName(h)}),u.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=s.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:l.kS.asClassName(a)}),u.EXPANDED_VISUAL_DECORATION=s.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+l.kS.asClassName(a)}),u.MANUALLY_EXPANDED_VISUAL_DECORATION=s.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+l.kS.asClassName(c)}),u.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=s.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:l.kS.asClassName(c)}),u.HIDDEN_RANGE_DECORATION=s.qx.register({description:"folding-hidden-range-decoration",stickiness:1})},63827:function(e,t,i){"use strict";i.d(t,{ex:function(){return l}});var n=i("61111"),s=i("19527"),o=i("65761");let r={};class l{constructor(e,t,i,n){for(let o of(this.editorModel=e,this.providers=t,this.limit=n,this.id="syntax",t))"function"==typeof o.onDidChange&&(!this.disposables&&(this.disposables=new s.SL),this.disposables.add(o.onDidChange(i)))}compute(e,t){return(function(e,t,i){let s=null;return Promise.all(e.map((e,o)=>Promise.resolve(e.provideFoldingRanges(t,r,i)).then(e=>{if(!i.isCancellationRequested&&Array.isArray(e)){!Array.isArray(s)&&(s=[]);let i=t.getLineCount();for(let t of e)t.start>0&&t.end>t.start&&t.end<=i&&s.push({start:t.start,end:t.end,rank:o,kind:t.kind})}},n.Cp))).then(e=>s)})(this.providers,this.editorModel,e).then(e=>e?function(e,t,i){let n,s=e.sort((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i}),o=new a(t,i);let r=[];for(let e of s)if(n){if(e.start>n.start){if(e.end<=n.end)r.push(n),n=e,o.add(e.start,e.end,e.kind&&e.kind.value,r.length);else{if(e.start>n.end){do n=r.pop();while(n&&e.start>n.end);n&&r.push(n),n=e}o.add(e.start,e.end,e.kind&&e.kind.value,r.length)}}}else n=e,o.add(e.start,e.end,e.kind&&e.kind.value,r.length);return o.toIndentRanges()}(e,this.limit,t):null)}dispose(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}class a{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>o.Xl||t>o.Xl)return;let s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._nestingLevels[s]=n,this._types[s]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){var e;if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new o.MN(e,t,this._types)}{null===(e=this._notifyTooManyRegions)||void 0===e||e.call(this,this._foldingRangesLimit);let t=0,i=this._nestingLevelCounts.length;for(let e=0;e<this._nestingLevelCounts.length;e++){let n=this._nestingLevelCounts[e];if(n){if(n+t>this._foldingRangesLimit){i=e;break}t+=n}}let n=new Uint32Array(this._foldingRangesLimit),s=new Uint32Array(this._foldingRangesLimit),r=[];for(let e=0,o=0;e<this._length;e++){let l=this._nestingLevels[e];(l<i||l===i&&t++<this._foldingRangesLimit)&&(n[o]=this._startIndexes[e],s[o]=this._endIndexes[e],r[o]=this._types[e],o++)}return new o.MN(n,s,r)}}}},80583:function(e,t,i){"use strict";i.d(t,{J:function(){return I}});var n=i("67518"),s=i("61111"),o=i("88980"),r=i("19527"),l=i("83368"),a=i("57938"),d=i("61045"),h=i("52607"),c=i("8339"),u=i("21095"),g=i("53861"),f=i("49436"),m=i("6301"),p=i("87528"),_=i("82997"),v=i("97669"),C=i("43692"),S=i("93603"),w=i("25457"),E=function(e,t){return function(i,n){t(i,n,e)}},T=function(e,t,i,n){return new(i||(i=Promise))(function(s,o){function r(e){try{a(n.next(e))}catch(e){o(e)}}function l(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,l)}a((n=n.apply(e,t||[])).next())})};let b=new f.uy("referenceSearchVisible",!1,c.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),I=class e{constructor(e,t,i,n,s,o,l,a){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=s,this._instantiationService=o,this._storageService=l,this._configurationService=a,this._disposables=new r.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=b.bindTo(i)}static get(t){return t.getContribution(e.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{!this._ignoreModelChangeEvent&&this.closeWidget()}));let s="peekViewLayout",o=w.J.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(w.d,this._editor,this._defaultTreeKeyboardSupport,o),this._widget.setTitle(c.NC("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(e=>{let{element:t,kind:n}=e;if(t)switch(n){case"open":("editor"!==e.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(t,!1,!1);break;case"side":this.openReference(t,!0,!1);break;case"goto":i?this._gotoReference(t):this.openReference(t,!1,!0)}}));let r=++this._requestIdPool;t.then(t=>{var i;if(r!==this._requestIdPool||!this._widget){t.dispose();return}return null===(i=this._model)||void 0===i||i.dispose(),this._model=t,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(c.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let t=this._editor.getModel().uri,i=new a.L(e.startLineNumber,e.startColumn),n=this._model.nearestReference(t,i);if(n)return this._widget.setSelection(n).then(()=>{this._widget&&"editor"===this._editor.getOption(79)&&this._widget.focusOnPreviewEditor()})}})},e=>{this._notificationService.error(e)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return T(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;let t=this._widget.position;if(!t)return;let i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;let n=this._model.nextOrPreviousReference(i,e),s=this._editor.hasTextFocus(),o=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n),s?this._editor.focus():this._widget&&o&&this._widget.focusOnPreviewEditor()})}revealReference(e){return T(this,void 0,void 0,function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,i;null===(t=this._widget)||void 0===t||t.dispose(),null===(i=this._model)||void 0===i||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;let i=d.e.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i,selectionSource:"code.jump"}},this._editor).then(t=>{var s;if(this._ignoreModelChangeEvent=!1,!t||!this._widget){this.closeWidget();return}if(this._editor===t)this._widget.show(i),this._widget.focusOnReferenceTree();else{let o=e.get(t),r=this._model.clone();this.closeWidget(),t.focus(),null==o||o.toggleWidget(i,(0,n.PG)(e=>Promise.resolve(r)),null!==(s=this._peekMode)&&void 0!==s&&s)}},e=>{this._ignoreModelChangeEvent=!1,(0,s.dL)(e)})}openReference(e,t,i){!t&&this.closeWidget();let{uri:n,range:s}=e;this._editorService.openCodeEditor({resource:n,options:{selection:s,selectionSource:"code.jump",pinned:i}},this._editor,t)}};function x(e,t){let i=(0,h.rc)(e);if(!i)return;let n=I.get(i);n&&t(n)}I.ID="editor.contrib.referencesController",I=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([E(2,f.i6),E(3,l.$),E(4,v.lT),E(5,m.TG),E(6,C.Uy),E(7,g.Ui)],I),p.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,o.gx)(2089,60),when:f.Ao.or(b,h.Jy.inPeekEditor),handler(e){x(e,e=>{e.changeFocusBetweenPreviewAndReferences()})}}),p.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:f.Ao.or(b,h.Jy.inPeekEditor),handler(e){x(e,e=>{e.goToNextOrPreviousReference(!0)})}}),p.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:f.Ao.or(b,h.Jy.inPeekEditor),handler(e){x(e,e=>{e.goToNextOrPreviousReference(!1)})}}),u.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),u.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),u.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),u.P0.registerCommand("closeReferenceSearch",e=>x(e,e=>e.closeWidget())),p.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:f.Ao.and(h.Jy.inPeekEditor,f.Ao.not("config.editor.stablePeek"))}),p.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:f.Ao.and(b,f.Ao.not("config.editor.stablePeek"))}),p.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:f.Ao.and(b,_.CQ,_.PS.negate(),_.uJ.negate()),handler(e){var t;let i=null===(t=e.get(_.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof S.WX&&x(e,e=>e.revealReference(i[0]))}}),p.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:f.Ao.and(b,_.CQ,_.PS.negate(),_.uJ.negate()),handler(e){var t;let i=null===(t=e.get(_.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof S.WX&&x(e,e=>e.openReference(i[0],!0,!0))}}),u.P0.registerCommand("openReference",e=>{var t;let i=null===(t=e.get(_.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof S.WX&&x(e,e=>e.openReference(i[0],!1,!0))})},41708:function(e,t,i){"use strict";i.d(t,{EZ:function(){return T},QC:function(){return y},U$:function(){return I},bu:function(){return w},o2:function(){return S},vn:function(){return E},vr:function(){return N}});var n=i("9737"),s=i("47975"),o=i("94861"),r=i("96479"),l=i("75024"),a=i("19527"),d=i("37454"),h=i("78936"),c=i("8339"),u=i("6301"),g=i("34752"),f=i("68031"),m=i("17882"),p=i("39703"),_=i("93603"),v=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},C=function(e,t){return function(i,n){t(i,n,e)}};let S=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof _.oQ||e instanceof _.F2||!1}getChildren(e){if(e instanceof _.oQ)return e.groups;if(e instanceof _.F2)return e.resolve(this._resolverService).then(e=>e.children);throw Error("bad tree")}};S=v([C(0,h.S)],S);class w{getHeight(){return 23}getTemplateId(e){return e instanceof _.F2?I.id:N.id}}let E=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof _.WX){let i=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(i)return i.value}return(0,d.EZ)(e.uri)}};E=v([C(0,g.d)],E);class T{getId(e){return e instanceof _.WX?e.id:e.uri}}let b=class extends a.JT{constructor(e,t,i){super(),this._labelService=t;let o=document.createElement("div");o.classList.add("reference-file"),this.file=this._register(new r.g(o,{supportHighlights:!0})),this.badge=new s.Z(n.R3(o,n.$(".count"))),this._register((0,m.WZ)(this.badge,i)),e.appendChild(o)}set(e,t){let i=(0,d.XX)(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});let n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat((0,c.NC)("referencesCount","{0} references",n)):this.badge.setTitleFormat((0,c.NC)("referenceCount","{0} reference",n))}};b=v([C(1,f.e),C(2,p.XE)],b);let I=class e{constructor(t){this._instantiationService=t,this.templateId=e.id}renderTemplate(e){return this._instantiationService.createInstance(b,e)}renderElement(e,t,i){i.set(e.element,(0,l.mB)(e.filterData))}disposeTemplate(e){e.dispose()}};I.id="FileReferencesRenderer",I=v([C(0,u.TG)],I);class x{constructor(e){this.label=new o.q(e)}set(e,t){var i;let n=null===(i=e.parent.getPreview(e))||void 0===i?void 0:i.preview(e.range);if(n&&n.value){let{value:e,highlight:i}=n;t&&!l.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,(0,l.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[i]))}else this.label.set(`${(0,d.EZ)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class N{constructor(){this.templateId=N.id}renderTemplate(e){return new x(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}N.id="OneReferenceRenderer";class y{getWidgetAriaLabel(){return(0,c.NC)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}},40172:function(e,t,i){"use strict";i.d(t,{G:function(){return b}});var n=i("67518"),s=i("70691"),o=i("57938"),r=i("99599"),l=i("88936"),a=i("10870"),d=i("78936"),h=i("80267"),c=i("43048"),u=i("68383"),g=i("53861"),f=i("80204"),m=i("78540"),p=i("8339"),_=i("7875"),v=i("23218"),C=i("3868"),S=function(e,t){return function(i,n){t(i,n,e)}},w=function(e,t,i,n){return new(i||(i=Promise))(function(s,o){function r(e){try{a(n.next(e))}catch(e){o(e)}}function l(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,l)}a((n=n.apply(e,t||[])).next())})},E=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,s){(function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)})(n,s,(t=e[i](t)).done,t.value)})}}};class T extends l.YM{constructor(e,t){super(10,t,e.item.anchor.range),this.part=e}}let b=class extends c.D5{constructor(e,t,i,n,s,o){super(e,t,i,n,o),this._resolverService=s,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!u.K.get(this._editor)||6!==e.target.type)return null;let i=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return i instanceof r.HS&&i.attachedData instanceof u.f?new T(i.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof T?new n.Aq(t=>w(this,void 0,void 0,function*(){let n,o;let{part:r}=e;if(yield r.item.resolve(i),i.isCancellationRequested)return;if("string"==typeof r.item.hint.tooltip?n=new s.W5().appendText(r.item.hint.tooltip):r.item.hint.tooltip&&(n=r.item.hint.tooltip),n&&t.emitOne(new c.hU(this,e.range,[n],0)),(0,C.Of)(r.item.hint.textEdits)&&t.emitOne(new c.hU(this,e.range,[new s.W5().appendText((0,p.NC)("hint.dbl","Double click to insert"))],10001)),"string"==typeof r.part.tooltip?o=new s.W5().appendText(r.part.tooltip):r.part.tooltip&&(o=r.part.tooltip),o&&t.emitOne(new c.hU(this,e.range,[o],1)),r.part.location||r.part.command){let i;let n="altKey"===this._editor.getOption(72)?_.dz?(0,p.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,p.NC)("links.navigate.kb.meta","ctrl + click"):_.dz?(0,p.NC)("links.navigate.kb.alt.mac","option + click"):(0,p.NC)("links.navigate.kb.alt","alt + click");r.part.location&&r.part.command?i=new s.W5().appendText((0,p.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",n)):r.part.location?i=new s.W5().appendText((0,p.NC)("hint.def","Go to Definition ({0})",n)):r.part.command&&(i=new s.W5(`[${(0,p.NC)("hint.cmd","Execute Command")}](${(0,v._I)(r.part.command)} "${r.part.command.title}") (${n})`,{isTrusted:!0})),i&&t.emitOne(new c.hU(this,e.range,[i],1e4))}let l=yield this._resolveInlayHintLabelPartHover(r,i);try{for(var a,d,h,u=E(l);!(h=yield u.next()).done;){let e=h.value;t.emitOne(e)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(d=u.return)&&(yield d.call(u))}finally{if(a)throw a.error}}})):n.Aq.EMPTY}_resolveInlayHintLabelPartHover(e,t){return w(this,void 0,void 0,function*(){if(!e.part.location)return n.Aq.EMPTY;let{uri:i,range:r}=e.part.location,l=yield this._resolverService.createModelReference(i);try{let i=l.object.textEditorModel;if(!this._languageFeaturesService.hoverProvider.has(i))return n.Aq.EMPTY;return(0,h.R8)(this._languageFeaturesService.hoverProvider,i,new o.L(r.startLineNumber,r.startColumn),t).filter(e=>!(0,s.CP)(e.hover.contents)).map(t=>new c.hU(this,e.item.anchor.range,t.hover.contents,2+t.ordinal))}finally{l.dispose()}})}};b=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([S(1,a.O),S(2,f.v4),S(3,g.Ui),S(4,d.S),S(5,m.p)],b)},7206:function(e,t,i){"use strict";i.d(t,{FM:function(){return L},_X:function(){return A},k:function(){return y},km:function(){return D}});var n=i("67518"),s=i("862"),o=i("61111"),r=i("16904"),l=i("19527"),a=i("95253"),d=i("88398"),h=i("61045"),c=i("74854"),u=i("77531"),g=i("21095"),f=i("37623"),m=i("11962"),p=i("62785"),_=i("7242"),v=i("78540"),C=i("144"),S=i("59842"),w=i("8626"),E=i("44138"),T=i("75024"),b=i("22871"),I=i("53861"),x=function(e,t){return function(i,n){t(i,n,e)}},N=function(e,t,i,n){return new(i||(i=Promise))(function(s,o){function r(e){try{a(n.next(e))}catch(e){o(e)}}function l(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,l)}a((n=n.apply(e,t||[])).next())})};let y=class extends l.JT{constructor(e,t,i,n,s,o,d){super(),this.editor=e,this.cache=t,this.commandService=i,this.languageConfigurationService=n,this.languageFeaturesService=s,this.debounceService=o,this.onDidChangeEmitter=new r.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new l.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(i.onDidExecuteCommand(t=>{new Set([a.wk.Tab.id,a.wk.DeleteLeft.id,a.wk.DeleteRight.id,f.O,"acceptSelectedSuggestion"]).has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(e=>{(3===e.reason||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,l.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{!d.getValue("editor.inlineSuggest.hideOnBlur")&&this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{!this.disposed&&this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){if(!!this.editor.getOption(57).enabled)(!this.session||!this.session.isValid)&&this.trigger(c.bw.Automatic)}trigger(e){if(this.completionSession.value){e===c.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new R(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return N(this,void 0,void 0,function*(){let t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t})}};y=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([x(2,g.Hy),x(3,p.c_),x(4,v.p),x(5,C.A),x(6,I.Ui)],y);class R extends u.TX{constructor(e,t,i,s,o,r,a,d,h){let u;super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=s,this.cache=o,this.initialTriggerKind=r,this.languageConfigurationService=a,this.registry=d,this.debounce=h,this.minReservedLineCount=0,this.updateOperation=this._register(new l.XK),this.updateSoon=this._register(new n.pY(()=>{let e=this.initialTriggerKind;return this.initialTriggerKind=c.bw.Automatic,this.update(e)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;this._register(this.onDidChange(()=>{var e;let t=this.currentCompletion;if(t&&t.sourceInlineCompletion!==u){u=t.sourceInlineCompletion;let i=t.sourceProvider;null===(e=i.handleItemDidShow)||void 0===e||e.call(i,t.sourceInlineCompletions,u)}})),this._register((0,l.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(e=>{var t;3!==e.reason&&(null===(t=this.cache.value)||void 0===t||t.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(e=>{var t;null===(t=this.cache.value)||void 0===t||t.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}let e=this.editor.getModel(),t=e.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(i=>{let n=e.getValueInRange(i.synchronizedRange).toLowerCase(),s=i.inlineCompletion.filterText.toLowerCase(),o=e.getLineIndentColumn(i.synchronizedRange.startLineNumber),r=Math.max(0,t.column-i.synchronizedRange.startColumn),l=s.substring(0,r),a=s.substring(r),d=n.substring(0,r),h=n.substring(r);return i.synchronizedRange.startColumn<=o&&(0===(d=d.trimStart()).length&&(h=h.trimStart()),0===(l=l.trimStart()).length&&(a=a.trimStart())),l.startsWith(d)&&(0,T.Sy)(h,a)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;let e=this.filteredCompletions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return -1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return N(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();let e=this.filteredCompletions||[];if(e.length>0){let t=(this.fixAndGetIndexOfCurrentSelection()+1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return N(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();let e=this.filteredCompletions||[];if(e.length>0){let t=(this.fixAndGetIndexOfCurrentSelection()+e.length-1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return N(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===c.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(c.bw.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==c.bw.Explicit&&(yield this.update(c.bw.Explicit))})}hasMultipleInlineCompletions(){var e;return N(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1})}get ghostText(){let e=this.currentCompletion;if(!e)return;let t=this.editor.getPosition();if(e.range.getEndPosition().isBefore(t))return;let i=this.editor.getOptions().get(57).mode,n=(0,m.mr)(e,this.editor.getModel(),i,t);if(n){if(n.isEmpty())return;return n}return new u.s1(e.range.startLineNumber,e.range.startColumn,e.range.endColumn-e.range.startColumn,e.insertText.split("\n"),0)}get currentCompletion(){let e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(e){return N(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;let t=this.editor.getPosition(),i=new Date,s=(0,n.PG)(n=>N(this,void 0,void 0,function*(){let s;try{s=yield D(this.registry,t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},n,this.languageConfigurationService);let o=new Date;this.debounce.update(this.editor.getModel(),o.getTime()-i.getTime())}catch(e){(0,o.dL)(e);return}!n.isCancellationRequested&&(this.cache.setValue(this.editor,s,e),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),r=new A(s,e);this.updateOperation.value=r,yield s,this.updateOperation.value===r&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;let e=this.currentCompletion;e&&this.commit(e)}commit(e){var t;let i=this.cache.clearAndLeak();e.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[d.h.replaceMove(e.range,""),...e.additionalTextEdits]),this.editor.setPosition(e.snippetInfo.range.getStartPosition()),null===(t=w.f.get(this.editor))||void 0===t||t.insert(e.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[d.h.replaceMove(e.range,e.insertText),...e.additionalTextEdits]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null==i||i.dispose()}).then(void 0,o.Cp):null==i||i.dispose(),this.onDidChangeEmitter.fire()}get commands(){var e;return[...new Set((null===(e=this.cache.value)||void 0===e?void 0:e.completions.map(e=>e.inlineCompletion.sourceInlineCompletions))||[])].flatMap(e=>e.commands||[])}}class A{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class L extends l.JT{constructor(e,t,i,n){super(),this.editor=t,this.onChange=i,this.triggerKind=n,this.isDisposing=!1;let s=t.changeDecorations(t=>t.deltaDecorations([],e.items.map(e=>({range:e.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,l.OF)(()=>{this.isDisposing=!0,t.removeDecorations(s)})),this.completions=e.items.map((e,t)=>new O(e,s[t])),this._register(t.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(e)}updateRanges(){if(this.isDisposing)return;let e=!1,t=this.editor.getModel();for(let i of this.completions){let n=t.getDecorationRange(i.decorationId);if(!n){(0,o.dL)(Error("Decoration has no range"));continue}!i.synchronizedRange.equalsRange(n)&&(e=!0,i.synchronizedRange=n)}e&&this.onChange()}}class O{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function D(e,t,i,n,r=s.T.None,l){return N(this,void 0,void 0,function*(){let s=function(e,t){let i=t.getWordAtPosition(e),n=t.getLineMaxColumn(e.lineNumber);return i?new h.e(e.lineNumber,i.startColumn,e.lineNumber,n):h.e.fromPositions(e,e.with(void 0,n))}(t,i),a=e.all(i),d=yield Promise.all(a.map(e=>N(this,void 0,void 0,function*(){let s=yield Promise.resolve(e.provideInlineCompletions(i,t,n,r)).catch(o.Cp);return{completions:s,provider:e,dispose:()=>{s&&e.freeInlineCompletions(s)}}}))),c=new Map;for(let e of d){let t=e.completions;if(t)for(let n of t.items){let o,r,a=n.range?h.e.lift(n.range):s;if(a.startLineNumber!==a.endLineNumber)continue;if("string"==typeof n.insertText){if(o=n.insertText,l&&n.completeBracketPairs){let e=(o=function(e,t,i,n){let s=i.getLineContent(t.lineNumber).substring(0,t.column-1)+e,o=i.tokenization.tokenizeLineWithEdit(t,s.length-(t.column-1),e),r=null==o?void 0:o.sliceAndInflate(t.column-1,s.length,0);return r?(0,_.r)(r,n):e}(o,a.getStartPosition(),i,l)).length-n.insertText.length;0!==e&&(a=new h.e(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+e))}r=void 0}else"snippet"in n.insertText?(o=new S.Yj().parse(n.insertText.snippet).toString(),r={snippet:n.insertText.snippet,range:a}):(0,E.vE)(n.insertText);let d={insertText:o,snippetInfo:r,range:a,command:n.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:n,filterText:n.filterText||o,additionalTextEdits:n.additionalTextEdits||(0,b.He)()};c.set(JSON.stringify({insertText:o,range:n.range}),d)}}return{items:[...c.values()],dispose:()=>{for(let e of d)e.dispose()}}})}},32682:function(e,t,i){"use strict";i.d(t,{q:function(){return l}});var n=i("19527"),s=i("92568"),o=i("51308"),r=i("8339");class l extends o.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){let t=(0,r.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,n.JT.None}provideWithTextEditor(e,t,i){let o=e.editor,r=new n.SL;r.add(t.onDidAccept(i=>{let[n]=t.selectedItems;if(n){if(!this.isValidLineNumber(o,n.lineNumber))return;this.gotoLocation(e,{range:this.toRange(n.lineNumber,n.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),!i.inBackground&&t.hide()}}));let a=()=>{let e=this.parsePosition(o,t.value.trim().substr(l.PREFIX.length)),i=this.getPickLabel(o,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(o,e.lineNumber)){this.clearDecorations(o);return}let n=this.toRange(e.lineNumber,e.column);o.revealRangeInCenter(n,0),this.addDecorations(o,n)};a(),r.add(t.onDidChangeValue(()=>a()));let d=(0,s.Pi)(o);return d&&2===d.getOptions().get(62).renderType&&(d.updateOptions({lineNumbers:"on"}),r.add((0,n.OF)(()=>d.updateOptions({lineNumbers:"relative"})))),r}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){let i=t.split(/,|:|#/).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?(0,r.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):(0,r.NC)("gotoLineLabel","Go to line {0}.",t);let n=e.getPosition()||{lineNumber:1,column:1},s=this.lineCount(e);return s>1?(0,r.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",n.lineNumber,n.column,s):(0,r.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",n.lineNumber,n.column)}isValidLineNumber(e,t){return!!t&&"number"==typeof t&&t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||"number"!=typeof i)return!1;let n=this.getModel(e);if(!n)return!1;let s={lineNumber:t,column:i};return n.validatePosition(s).equals(s)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}l.PREFIX=":"},42614:function(e,t,i){"use strict";i.d(t,{_:function(){return l},t:function(){return r}});var n=i("3868"),s=i("75024"),o=i("66763");class r{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}}class l{constructor(e,t,i,n,o,r,a=s.mX.default,d){this.clipboardText=d,this._snippetCompareFn=l._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=a,"top"===r?this._snippetCompareFn=l._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=l._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();let e=new Set;for(let[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;let e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext,r="",l="",a=1===this._refilterKind?this._items:this._filteredItems,d=[],h=!this._options.filterGraceful||a.length>2e3?s.EW:s.l7;for(let n=0;n<a.length;n++){let c=a[n];if(c.isInvalid)continue;this._providerInfo.set(c.provider,!!c.container.incomplete);let u=c.position.column-c.editStart.column,g=u+i-(c.position.column-this._column);if(r.length!==g&&(l=(r=0===g?"":t.slice(-g)).toLowerCase()),c.word=r,0===g)c.score=s.CL.Default;else{let e=0;for(;e<u;){let t=r.charCodeAt(e);if(32===t||9===t)e+=1;else break}if(e>=g)c.score=s.CL.Default;else if("string"==typeof c.completion.filterText){let t=h(r,l,e,c.completion.filterText,c.filterTextLow,0,this._fuzzyScoreOptions);if(!t)continue;0===(0,o.zY)(c.completion.filterText,c.textLabel)?c.score=t:(c.score=(0,s.jB)(r,l,e,c.textLabel,c.labelLow,0),c.score[0]=t[0])}else{let t=h(r,l,e,c.textLabel,c.labelLow,0,this._fuzzyScoreOptions);if(!t)continue;c.score=t}}c.idx=n,c.distance=this._wordDistance.distance(c.position,c.completion),d.push(c),e.push(c.textLabel.length)}this._filteredItems=d.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,n.HW)(e.length-.85,e,(e,t)=>e-t):0}}static _compareCompletionItems(e,t){if(e.score[0]>t.score[0])return -1;if(e.score[0]<t.score[0])return 1;if(e.distance<t.distance)return -1;else if(e.distance>t.distance)return 1;else if(e.idx<t.idx)return -1;else if(e.idx>t.idx)return 1;else return 0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return -1}return l._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return -1;if(27===t.completion.kind)return 1}return l._compareCompletionItems(e,t)}}},57597:function(e,t,i){"use strict";i.d(t,{aY:function(){return b}});var n,s,o=i("16904"),r=i("80189"),l=i("19527"),a=i("34289"),d=i("777"),h=i("38505"),c=i("8339"),u=i("21095"),g=i("53861"),f=i("49436");let m="data-keybinding-context";class p{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){let t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class _ extends p{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}_.INSTANCE=new _;class v extends p{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=a.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(e=>{if(7===e.source){let e=Array.from(r.$.map(this._values,([e])=>e));this._values.clear(),i.fire(new w(e))}else{let t=[];for(let i of e.affectedKeys){let e=`config.${i}`,n=this._values.findSuperstr(e);void 0!==n&&(t.push(...r.$.map(n,([e])=>e)),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new w(t))}})}dispose(){this._listener.dispose()}getValue(e){let t;if(0!==e.indexOf(v._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);let i=e.substr(v._keyPrefix.length),n=this._configurationService.getValue(i);switch(typeof n){case"number":case"boolean":case"string":t=n;break;default:t=Array.isArray(n)?JSON.stringify(n):n}return this._values.set(e,t),t}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}v._keyPrefix="config.";class C{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class S{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class w{constructor(e){this.keys=e}affectsSome(e){for(let t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class E{constructor(e){this.events=e}affectsSome(e){for(let t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}class T{constructor(e){this._onDidChangeContext=new o.K3({merge:e=>new E(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw Error("AbstractContextKeyService has been disposed");return new C(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw Error("AbstractContextKeyService has been disposed");return new I(this,e)}contextMatchesRules(e){if(this._isDisposed)throw Error("AbstractContextKeyService has been disposed");let t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;let i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new S(e))}removeContext(e){!this._isDisposed&&this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new S(e))}getContext(e){return this._isDisposed?_.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(m)){let t=e.getAttribute(m);if(t)return parseInt(t,10);return NaN}e=e.parentElement}return 0}(e))}}let b=class extends T{constructor(e){super(0),this._contexts=new Map,this._toDispose=new l.SL,this._lastContextId=0;let t=new v(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?_.INSTANCE:this._contexts.get(e)||_.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new p(t,this.getContextValuesContainer(e))),t}disposeContext(e){!this._isDisposed&&this._contexts.delete(e)}};b=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([(n=0,s=g.Ui,function(e,t){s(e,t,0)})],b);class I extends T{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new l.XK,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(m)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${e?": "+e:""}`)}this._domNode.setAttribute(m,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{var t,i;let n=this._parent.getContextValuesContainer(this._myContextId).value;if(t=e,i=n,!t.allKeysContainedIn(new Set(Object.keys(i))))this._onDidChangeContext.fire(e)})}dispose(){!this._isDisposed&&(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(m),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?_.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){!this._isDisposed&&this._parent.disposeContext(e)}}u.P0.registerCommand(f.Eq,function(e,t,i){e.get(f.i6).createKey(String(t),function(e){return(0,d.rs)(e,e=>"object"==typeof e&&1===e.$mid?h.o.revive(e).toString():e instanceof h.o?e.toString():void 0)}(i))}),u.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...f.uy.all()].sort((e,t)=>e.key.localeCompare(t.key)),description:{description:(0,c.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),u.P0.registerCommand("_generateContextKeyInfo",function(){let e=[],t=new Set;for(let i of f.uy.all())!t.has(i.key)&&(t.add(i.key),e.push(i));e.sort((e,t)=>e.key.localeCompare(t.key)),console.log(JSON.stringify(e,void 0,2))})},72243:function(e,t,i){"use strict";i.d(t,{d:function(){return r},z:function(){return o}});var n=i("23298");let s=[];function o(e,t,i){!(t instanceof n.M)&&(t=new n.M(t,[],i)),s.push([e,t])}function r(){return s}},80655:function(e,t,i){"use strict";i.d(t,{F:function(){return n}});let n=(0,i("6301").yh)("layoutService")},60414:function(e,t,i){"use strict";i.d(t,{C:function(){return u}});var n=i("67518"),s=i("862"),o=i("13313"),r=i("19527"),l=i("6301"),a=i("7194"),d=i("79895"),h=i("18475"),c=function(e,t){return function(i,n){t(i,n,e)}};let u=class extends r.JT{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=h.B.as(a.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var l;let h;let[c,u]=this.getOrInstantiateProvider(e),g=this.visibleQuickAccess,f=null==g?void 0:g.descriptor;if(g&&u&&f===u){e!==u.prefix&&!(null==i?void 0:i.preserveValue)&&(g.picker.value=e),this.adjustValueSelection(g.picker,u,i);return}if(u&&!(null==i?void 0:i.preserveValue)){let t;if(g&&f&&f!==u){let e=g.value.substr(f.prefix.length);e&&(t=`${u.prefix}${e}`)}if(!t){let e=null==c?void 0:c.defaultFilterValue;e===a.Ry.LAST?t=this.lastAcceptedPickerValues.get(u):"string"==typeof e&&(t=`${u.prefix}${e}`)}"string"==typeof t&&(e=t)}let m=new r.SL,p=m.add(this.quickInputService.createQuickPick());p.value=e,this.adjustValueSelection(p,u,i),p.placeholder=null==u?void 0:u.placeholder,p.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,p.hideInput=!!p.quickNavigate&&!g,("number"==typeof(null==i?void 0:i.itemActivation)||(null==i?void 0:i.quickNavigateConfiguration))&&(p.itemActivation=null!==(l=null==i?void 0:i.itemActivation)&&void 0!==l?l:d.jG.SECOND),p.contextKey=null==u?void 0:u.contextKey,p.filterValue=e=>e.substring(u?u.prefix.length:0),(null==u?void 0:u.placeholder)&&(p.ariaLabel=null==u?void 0:u.placeholder);t&&(h=new n.CR,m.add((0,o.I)(p.onWillAccept)(e=>{e.veto(),p.hide()}))),m.add(this.registerPickerListeners(p,c,u,e));let _=m.add(new s.A);if(c&&m.add(c.provide(p,_.token)),(0,o.I)(p.onDidHide)(()=>{0===p.selectedItems.length&&_.cancel(),m.dispose(),null==h||h.complete(p.selectedItems.slice(0))}),p.show(),t)return null==h?void 0:h.p}adjustValueSelection(e,t,i){var n;let s;s=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null==t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=s}registerPickerListeners(e,t,i,n){let s=new r.SL,o=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return s.add((0,r.OF)(()=>{o===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),s.add(e.onDidChangeValue(e=>{let[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):o.value=e})),i&&s.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),s}getOrInstantiateProvider(e){let t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return!i&&(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};u=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([c(0,d.eJ),c(1,l.TG)],u)},39703:function(e,t,i){"use strict";i.d(t,{EN:function(){return u},IP:function(){return f},Ic:function(){return p},XE:function(){return c},bB:function(){return _},kS:function(){return s},m6:function(){return g}});var n,s,o=i("71628"),r=i("16904"),l=i("19527"),a=i("6301"),d=i("18475"),h=i("74697");let c=(0,a.yh)("themeService");function u(e){return{id:e}}function g(e){switch(e){case h.eL.DARK:return"vs-dark";case h.eL.HIGH_CONTRAST_DARK:return"hc-black";case h.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}(n||(n={})).isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id},!function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||n.isThemeColor(e.color))};let t=RegExp(`^\\$\\((${o.dT.iconNameExpression}(?:${o.dT.iconModifierExpression})?)\\)$`);e.fromString=function(e){let i=t.exec(e);if(!i)return;let[,n]=i;return{id:n}};e.fromId=function(e){return{id:e}};e.modify=function(e,t){let i=e.id,n=i.lastIndexOf("~");return -1!==n&&(i=i.substring(0,n)),t&&(i=`${i}~${t}`),{id:i}};e.getModifier=function(e){let t=e.id.lastIndexOf("~");if(-1!==t)return e.id.substring(t+1)};e.isEqual=function(e,t){var i,n;return e.id===t.id&&(null===(i=e.color)||void 0===i?void 0:i.id)===(null===(n=t.color)||void 0===n?void 0:n.id)};e.asThemeIcon=function(e,t){return{id:e.id,color:t?{id:t}:void 0}},e.asClassNameArray=o.dT.asClassNameArray,e.asClassName=o.dT.asClassName,e.asCSSSelector=o.dT.asCSSSelector}(s||(s={}));let f={ThemingContribution:"base.contributions.theming"},m=new class e{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new r.Q5}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),(0,l.OF)(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}};function p(e){return m.onColorThemeChange(e)}d.B.add(f.ThemingContribution,m);class _ extends l.JT{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(e=>this.onThemeChange(e)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}}}]);