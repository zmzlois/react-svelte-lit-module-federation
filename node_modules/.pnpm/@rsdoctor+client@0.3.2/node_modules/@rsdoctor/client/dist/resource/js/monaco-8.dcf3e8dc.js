(self.webpackChunk_rsdoctor_client=self.webpackChunk_rsdoctor_client||[]).push([["790"],{53182:function(e,t,i){"use strict";i.d(t,{E:function(){return o}});let n=null;class o{static getSameOriginWindowChain(){if(!n){let e;n=[];let t=window;do(e=function(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&t.origin!==i.origin)return null}catch(e){return null}return e.parent}(t))?n.push({window:t,iframeElement:t.frameElement||null}):n.push({window:t,iframeElement:null}),t=e;while(t)}return n.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0;for(let e of this.getSameOriginWindowChain()){if(i+=e.window.scrollY,n+=e.window.scrollX,e.window===t||!e.iframeElement)break;let o=e.iframeElement.getBoundingClientRect();i+=o.top,n+=o.left}return{top:i,left:n}}}},52897:function(e,t,i){"use strict";i.d(t,{M:function(){return s},z:function(){return C}});var n,o,r,s,a=i("9737"),l=i("74664"),d=i("42401"),h=i("3868"),u=i("35271"),c=i("16904"),g=i("19527"),m=i("68308"),_=i("12868"),f=i("44138");i("21858");let p={separatorBorder:u.Il.transparent};class v{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){var i,n;e!==this.visible&&(e?(this.size=(0,m.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),null===(n=(i=this.view).setVisible)||void 0===n||n.call(i,e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class b extends v{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class w extends v{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}(n=r||(r={}))[n.Idle=0]="Idle",n[n.Busy=1]="Busy",(o=s||(s={})).Distribute={type:"distribute"},o.Split=function(e){return{type:"split",index:e}},o.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};class C extends g.JT{constructor(e,t={}){var i,n,o,s,l;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=r.Idle,this._onDidSashChange=this._register(new c.Q5),this._onDidSashReset=this._register(new c.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(i=t.orientation)&&void 0!==i?i:0,this.inverseAltBehavior=null!==(n=t.inverseAltBehavior)&&void 0!==n&&n,this.proportionalLayout=null===(o=t.proportionalLayout)||void 0===o||o,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=(0,a.R3)(this.el,(0,a.$)(".sash-container")),this.viewContainer=(0,a.$)(".split-view-container"),this.scrollable=new _.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:a.jL}),this.scrollableElement=this._register(new d.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(s=t.scrollbarVisibility)&&void 0!==s?s:1:2,horizontal:1===this.orientation?null!==(l=t.scrollbarVisibility)&&void 0!==l?l:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft})),(0,a.R3)(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||p),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((e,t)=>{let i=f.o8(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.doAddView(n,i,t,!0)}),this.contentSize=this.viewItems.reduce((e,t)=>e+t.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(let t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(let t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){let i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let t=0;t<this.viewItems.length;t++){let i=this.viewItems[t];i.size=(0,m.uZ)(Math.round(this.proportions[t]*e),i.minimumSize,i.maximumSize)}else{let t=(0,h.w6)(this.viewItems.length),n=t.filter(e=>1===this.viewItems[e].priority),o=t.filter(e=>2===this.viewItems[e].priority);this.resize(this.viewItems.length-1,e-i,void 0,n,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(let e of this.viewItems)e.enabled=!1;let n=this.sashItems.findIndex(t=>t.sash===e),o=(0,g.F8)((0,a.nm)(document.body,"keydown",e=>r(this.sashDragState.current,e.altKey)),(0,a.nm)(document.body,"keyup",()=>r(this.sashDragState.current,!1))),r=(e,t)=>{let i,r;let s=this.viewItems.map(e=>e.size),a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(n===this.sashItems.length-1){let e=this.viewItems[n];a=(e.minimumSize-e.size)/2,l=(e.maximumSize-e.size)/2}else{let e=this.viewItems[n+1];a=(e.size-e.maximumSize)/2,l=(e.size-e.minimumSize)/2}}if(!t){let e=(0,h.w6)(n,-1),t=(0,h.w6)(n+1,this.viewItems.length),o=e.reduce((e,t)=>e+(this.viewItems[t].minimumSize-s[t]),0),a=e.reduce((e,t)=>e+(this.viewItems[t].viewMaximumSize-s[t]),0),l=0===t.length?Number.POSITIVE_INFINITY:t.reduce((e,t)=>e+(s[t]-this.viewItems[t].minimumSize),0),d=Math.max(o,0===t.length?Number.NEGATIVE_INFINITY:t.reduce((e,t)=>e+(s[t]-this.viewItems[t].viewMaximumSize),0)),u=Math.min(l,a),c=this.findFirstSnapIndex(e),g=this.findFirstSnapIndex(t);if("number"==typeof c){let e=this.viewItems[c],t=Math.floor(e.viewMinimumSize/2);i={index:c,limitDelta:e.visible?d-t:d+t,size:e.size}}if("number"==typeof g){let e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);r={index:g,limitDelta:e.visible?u+t:u-t,size:e.size}}}this.sashDragState={start:e,current:e,index:n,sizes:s,minDelta:a,maxDelta:l,alt:t,snapBefore:i,snapAfter:r,disposable:o}};r(t,i)}onSashChange({current:e}){let{index:t,start:i,sizes:n,alt:o,minDelta:r,maxDelta:s,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;let d=this.resize(t,e-i,n,void 0,void 0,r,s,a,l);if(o){let e=t===this.sashItems.length-1,i=this.viewItems.map(e=>e.size),n=e?t:t+1,o=this.viewItems[n],r=o.size-o.maximumSize,s=o.size-o.minimumSize;this.resize(e?t-1:t+1,-d,i,void 0,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){for(let t of(this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions(),this.viewItems))t.enabled=!0}onViewChange(e,t){let i=this.viewItems.indexOf(e);!(i<0)&&!(i>=this.viewItems.length)&&(t="number"==typeof t?t:e.size,t=(0,m.uZ)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==r.Idle)throw Error("Cant modify splitview");if(this.state=r.Busy,e<0||e>=this.viewItems.length)return;let i=(0,h.w6)(this.viewItems.length).filter(t=>t!==e),n=[...i.filter(e=>1===this.viewItems[e].priority),e],o=i.filter(e=>2===this.viewItems[e].priority),s=this.viewItems[e];t=Math.round(t),t=(0,m.uZ)(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(n,o),this.state=r.Idle}distributeViewSizes(){let e=[],t=0;for(let i of this.viewItems)i.maximumSize-i.minimumSize>0&&(e.push(i),t+=i.size);let i=Math.floor(t/e.length);for(let t of e)t.size=(0,m.uZ)(i,t.minimumSize,t.maximumSize);let n=(0,h.w6)(this.viewItems.length),o=n.filter(e=>1===this.viewItems[e].priority),r=n.filter(e=>2===this.viewItems[e].priority);this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){let o,s;if(this.state!==r.Idle)throw Error("Cant modify splitview");this.state=r.Busy;let d=(0,a.$)(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(d):this.viewContainer.insertBefore(d,this.viewContainer.children.item(i));let u=e.onDidChange(e=>this.onViewChange(f,e)),m=(0,g.OF)(()=>this.viewContainer.removeChild(d)),_=(0,g.F8)(u,m);o="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;let f=0===this.orientation?new b(d,e,o,_):new w(d,e,o,_);if(this.viewItems.splice(i,0,f),this.viewItems.length>1){let e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},t=0===this.orientation?new l.g(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new l.g(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),n=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),o=c.ju.map(t.onDidStart,n)(this.onSashStart,this),r=c.ju.map(t.onDidChange,n)(this.onSashChange,this),s=c.ju.map(t.onDidEnd,()=>this.sashItems.findIndex(e=>e.sash===t))(this.onSashEnd,this),a=t.onDidReset(()=>{let e=this.sashItems.findIndex(e=>e.sash===t),i=(0,h.w6)(e,-1),n=(0,h.w6)(e+1,this.viewItems.length),o=this.findFirstSnapIndex(i),r=this.findFirstSnapIndex(n);if("number"!=typeof o||!!this.viewItems[o].visible)("number"!=typeof r||this.viewItems[r].visible)&&this._onDidSashReset.fire(e)}),d=(0,g.F8)(o,r,s,a,t);this.sashItems.splice(i-1,0,{sash:t,disposable:d})}d.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(s=[t.index]),!n&&this.relayout([i],s),this.state=r.Idle,!n&&"number"!=typeof t&&"distribute"===t.type&&this.distributeViewSizes()}relayout(e,t){let i=this.viewItems.reduce((e,t)=>e+t.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(e=>e.size),n,o,r=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a,l){if(e<0||e>=this.viewItems.length)return 0;let d=(0,h.w6)(e,-1),u=(0,h.w6)(e+1,this.viewItems.length);if(o)for(let e of o)(0,h.zI)(d,e),(0,h.zI)(u,e);if(n)for(let e of n)(0,h.al)(d,e),(0,h.al)(u,e);let c=d.map(e=>this.viewItems[e]),g=d.map(e=>i[e]),_=u.map(e=>this.viewItems[e]),f=u.map(e=>i[e]),p=d.reduce((e,t)=>e+(this.viewItems[t].minimumSize-i[t]),0),v=d.reduce((e,t)=>e+(this.viewItems[t].maximumSize-i[t]),0),b=0===u.length?Number.POSITIVE_INFINITY:u.reduce((e,t)=>e+(i[t]-this.viewItems[t].minimumSize),0),w=Math.max(p,0===u.length?Number.NEGATIVE_INFINITY:u.reduce((e,t)=>e+(i[t]-this.viewItems[t].maximumSize),0),r),C=Math.min(b,v,s),S=!1;if(a){let e=this.viewItems[a.index],i=t>=a.limitDelta;S=i!==e.visible,e.setVisible(i,a.size)}if(!S&&l){let e=this.viewItems[l.index],i=t<l.limitDelta;S=i!==e.visible,e.setVisible(i,l.size)}if(S)return this.resize(e,t,i,n,o,r,s);t=(0,m.uZ)(t,w,C);for(let e=0,i=t;e<c.length;e++){let t=c[e],n=(0,m.uZ)(g[e]+i,t.minimumSize,t.maximumSize);i-=n-g[e],t.size=n}for(let e=0,i=t;e<_.length;e++){let t=_[e],n=(0,m.uZ)(f[e]-i,t.minimumSize,t.maximumSize);i+=n-f[e],t.size=n}return t}distributeEmptySpace(e){let t=this.viewItems.reduce((e,t)=>e+t.size,0),i=this.size-t,n=(0,h.w6)(this.viewItems.length-1,-1),o=n.filter(e=>1===this.viewItems[e].priority);for(let e of n.filter(e=>2===this.viewItems[e].priority))(0,h.zI)(n,e);for(let e of o)(0,h.al)(n,e);"number"==typeof e&&(0,h.al)(n,e);for(let e=0;0!==i&&e<n.length;e++){let t=this.viewItems[n[e]],o=(0,m.uZ)(t.size+i,t.minimumSize,t.maximumSize);i-=o-t.size,t.size=o}}layoutViews(){this.contentSize=this.viewItems.reduce((e,t)=>e+t.size,0);let e=0;for(let t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(e=>e.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1,t=this.viewItems.map(t=>e=t.size-t.minimumSize>0||e);e=!1;let i=this.viewItems.map(t=>e=t.maximumSize-t.size>0||e),n=[...this.viewItems].reverse();e=!1;let o=n.map(t=>e=t.size-t.minimumSize>0||e).reverse();e=!1;let r=n.map(t=>e=t.maximumSize-t.size>0||e).reverse(),s=0;for(let e=0;e<this.sashItems.length;e++){let{sash:n}=this.sashItems[e];s+=this.viewItems[e].size;let a=!(t[e]&&r[e+1]),l=!(i[e]&&o[e+1]);if(a&&l){let i=(0,h.w6)(e,-1),r=(0,h.w6)(e+1,this.viewItems.length),a=this.findFirstSnapIndex(i),l=this.findFirstSnapIndex(r),d="number"==typeof a&&!this.viewItems[a].visible,u="number"==typeof l&&!this.viewItems[l].visible;d&&o[e]&&(s>0||this.startSnappingEnabled)?n.state=1:u&&t[e]&&(s<this.contentSize||this.endSnappingEnabled)?n.state=2:n.state=0}else a&&!l?n.state=1:!a&&l?n.state=2:n.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(let t of e){let e=this.viewItems[t];if(e.visible&&e.snap)return t}for(let t of e){let e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)break;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),(0,g.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}}},20467:function(e,t,i){"use strict";i.d(t,{R:function(){return n},a:function(){return o}});class n{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}let o=new n("id#")},56144:function(e,t,i){"use strict";(0,i("54606").H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"5693"))})},86003:function(e,t,i){"use strict";(0,i("54606").H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"73196"))})},75393:function(e,t,i){"use strict";i.r(t),i.d(t,{conf:function(){return n},language:function(){return o}});var n={wordPattern:/(#?-?\d*\.\d\w*%?)|([@#!.:]?[\w-?]+%?)|[@#!.]/g,comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},o={defaultToken:"",tokenPostfix:".less",identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",identifierPlus:"-?-?([a-zA-Z:.]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-:.]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@nestedJSBegin"},["[ \\t\\r\\n]+",""],{include:"@comments"},{include:"@keyword"},{include:"@strings"},{include:"@numbers"},["[*_]?[a-zA-Z\\-\\s]+(?=:.*(;|(\\\\$)))","attribute.name","@attribute"],["url(\\-prefix)?\\(",{token:"tag",next:"@urldeclaration"}],["[{}()\\[\\]]","@brackets"],["[,:;]","delimiter"],["#@identifierPlus","tag.id"],["&","tag"],["\\.@identifierPlus(?=\\()","tag.class","@attribute"],["\\.@identifierPlus","tag.class"],["@identifierPlus","tag"],{include:"@operators"},["@(@identifier(?=[:,\\)]))","variable","@attribute"],["@(@identifier)","variable"],["@","key","@atRules"]],nestedJSBegin:[["``","delimiter.backtick"],["`",{token:"delimiter.backtick",next:"@nestedJSEnd",nextEmbedded:"text/javascript"}]],nestedJSEnd:[["`",{token:"delimiter.backtick",next:"@pop",nextEmbedded:"@pop"}]],operators:[["[<>=\\+\\-\\*\\/\\^\\|\\~]","operator"]],keyword:[["(@[\\s]*import|![\\s]*important|true|false|when|iscolor|isnumber|isstring|iskeyword|isurl|ispixel|ispercentage|isem|hue|saturation|lightness|alpha|lighten|darken|saturate|desaturate|fadein|fadeout|fade|spin|mix|round|ceil|floor|percentage)\\b","keyword"]],urldeclaration:[{include:"@strings"},["[^)\r\n]+","string"],["\\)",{token:"tag",next:"@pop"}]],attribute:[{include:"@nestedJSBegin"},{include:"@comments"},{include:"@strings"},{include:"@numbers"},{include:"@keyword"},["[a-zA-Z\\-]+(?=\\()","attribute.value","@attribute"],[">","operator","@pop"],["@identifier","attribute.value"],{include:"@operators"},["@(@identifier)","variable"],["[)\\}]","@brackets","@pop"],["[{}()\\[\\]>]","@brackets"],["[;]","delimiter","@pop"],["[,=:]","delimiter"],["\\s",""],[".","attribute.value"]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],numbers:[["(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"attribute.value.number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","attribute.value.hex"]],units:[["(em|ex|ch|rem|fr|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","attribute.value.unit","@pop"]],strings:[['~?"',{token:"string.delimiter",next:"@stringsEndDoubleQuote"}],["~?'",{token:"string.delimiter",next:"@stringsEndQuote"}]],stringsEndDoubleQuote:[['\\\\"',"string"],['"',{token:"string.delimiter",next:"@popall"}],[".","string"]],stringsEndQuote:[["\\\\'","string"],["'",{token:"string.delimiter",next:"@popall"}],[".","string"]],atRules:[{include:"@comments"},{include:"@strings"},["[()]","delimiter"],["[\\{;]","delimiter","@pop"],[".","key"]]}}},61868:function(e,t,i){"use strict";(0,i("54606").H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"34354"))})},40487:function(e,t,i){"use strict";let n,o;i.r(t),i.d(t,{conf:function(){return g},language:function(){return m}});var r=i("99334"),s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,h=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of l(t))!d.call(e,o)&&o!==i&&s(e,o,{get:()=>t[o],enumerable:!(n=a(t,o))||n.enumerable});return e},u={};h(u,n=r,"default"),o&&h(o,n,"default");var c=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],g={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,brackets:[["\x3c!--","--\x3e"],["<",">"],["{{","}}"],["{%","%}"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"%",close:"%"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:RegExp(`<(?!(?:${c.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/(\w[\w\d]*)\s*>$/i,action:{indentAction:u.languages.IndentAction.IndentOutdent}},{beforeText:RegExp(`<(?!(?:${c.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:u.languages.IndentAction.Indent}}]},m={defaultToken:"",tokenPostfix:"",builtinTags:["if","else","elseif","endif","render","assign","capture","endcapture","case","endcase","comment","endcomment","cycle","decrement","for","endfor","include","increment","layout","raw","endraw","render","tablerow","endtablerow","unless","endunless"],builtinFilters:["abs","append","at_least","at_most","capitalize","ceil","compact","date","default","divided_by","downcase","escape","escape_once","first","floor","join","json","last","lstrip","map","minus","modulo","newline_to_br","plus","prepend","remove","remove_first","replace","replace_first","reverse","round","rstrip","size","slice","sort","sort_natural","split","strip","strip_html","strip_newlines","times","truncate","truncatewords","uniq","upcase","url_decode","url_encode","where"],constants:["true","false"],operators:["==","!=",">","<",">=","<="],symbol:/[=><!]+/,identifier:/[a-zA-Z_][\w]*/,tokenizer:{root:[[/\{\%\s*comment\s*\%\}/,"comment.start.liquid","@comment"],[/\{\{/,{token:"@rematch",switchTo:"@liquidState.root"}],[/\{\%/,{token:"@rematch",switchTo:"@liquidState.root"}],[/(<)([\w\-]+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)([:\w]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/(<\/)([\w\-]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/</,"delimiter.html"],[/\{/,"delimiter.html"],[/[^<{]+/]],comment:[[/\{\%\s*endcomment\s*\%\}/,"comment.end.liquid","@pop"],[/./,"comment.content.liquid"]],otherTag:[[/\{\{/,{token:"@rematch",switchTo:"@liquidState.otherTag"}],[/\{\%/,{token:"@rematch",switchTo:"@liquidState.otherTag"}],[/\/?>/,"delimiter.html","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],liquidState:[[/\{\{/,"delimiter.output.liquid"],[/\}\}/,{token:"delimiter.output.liquid",switchTo:"@$S2.$S3"}],[/\{\%/,"delimiter.tag.liquid"],[/raw\s*\%\}/,"delimiter.tag.liquid","@liquidRaw"],[/\%\}/,{token:"delimiter.tag.liquid",switchTo:"@$S2.$S3"}],{include:"liquidRoot"}],liquidRaw:[[/^(?!\{\%\s*endraw\s*\%\}).+/],[/\{\%/,"delimiter.tag.liquid"],[/@identifier/],[/\%\}/,{token:"delimiter.tag.liquid",next:"@root"}]],liquidRoot:[[/\d+(\.\d+)?/,"number.liquid"],[/"[^"]*"/,"string.liquid"],[/'[^']*'/,"string.liquid"],[/\s+/],[/@symbol/,{cases:{"@operators":"operator.liquid","@default":""}}],[/\./],[/@identifier/,{cases:{"@constants":"keyword.liquid","@builtinFilters":"predefined.liquid","@builtinTags":"predefined.liquid","@default":"variable.liquid"}}],[/[^}|%]/,"variable.liquid"]]}}},42855:function(e,t,i){"use strict";(0,i("54606").H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"77362"))})},98044:function(e,t,i){"use strict";(0,i("54606").H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"22396"))})},40092:function(e,t,i){"use strict";i.r(t),i.d(t,{conf:function(){return n},language:function(){return o}});var n={comments:{lineComment:"'"},brackets:[["(",")"],["[","]"],["If","EndIf"],["While","EndWhile"],["For","EndFor"],["Sub","EndSub"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]}]},o={defaultToken:"",tokenPostfix:".sb",ignoreCase:!0,brackets:[{token:"delimiter.array",open:"[",close:"]"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"keyword.tag-if",open:"If",close:"EndIf"},{token:"keyword.tag-while",open:"While",close:"EndWhile"},{token:"keyword.tag-for",open:"For",close:"EndFor"},{token:"keyword.tag-sub",open:"Sub",close:"EndSub"}],keywords:["Else","ElseIf","EndFor","EndIf","EndSub","EndWhile","For","Goto","If","Step","Sub","Then","To","While"],tagwords:["If","Sub","While","For"],operators:[">","<","<>","<=",">=","And","Or","+","-","*","/","="],identifier:/[a-zA-Z_][\w]*/,symbols:/[=><:+\-*\/%\.,]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[{include:"@whitespace"},[/(@identifier)(?=[.])/,"type"],[/@identifier/,{cases:{"@keywords":{token:"keyword.$0"},"@operators":"operator","@default":"variable.name"}}],[/([.])(@identifier)/,{cases:{$2:["delimiter","type.member"],"@default":""}}],[/\d*\.\d+/,"number.float"],[/\d+/,"number"],[/[()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":"delimiter"}}],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"]],whitespace:[[/[ \t\r\n]+/,""],[/(\').*$/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"C?/,"string","@pop"]]}}},20193:function(e,t,i){"use strict";(0,i("54606").H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"13367"))})},32337:function(e,t,i){"use strict";(0,i("54606").H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>Promise.all([i.e("670"),i.e("624"),i.e("889"),i.e("786"),i.e("531"),i.e("242"),i.e("159"),i.e("86"),i.e("790"),i.e("387"),i.e("488"),i.e("25"),i.e("297"),i.e("606"),i.e("310")]).then(i.bind(i,"1545"))})},12954:function(e,t,i){"use strict";i.r(t),i.d(t,{conf:function(){return n},language:function(){return o}});var n={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"'",close:"'",notIn:["string"]},{open:'"',close:'"',notIn:["string"]},{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"}]},o={defaultToken:"",tokenPostfix:".rq",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["add","as","asc","ask","base","by","clear","construct","copy","create","data","delete","desc","describe","distinct","drop","false","filter","from","graph","group","having","in","insert","limit","load","minus","move","named","not","offset","optional","order","prefix","reduced","select","service","silent","to","true","undef","union","using","values","where","with"],builtinFunctions:["a","abs","avg","bind","bnode","bound","ceil","coalesce","concat","contains","count","datatype","day","encode_for_uri","exists","floor","group_concat","hours","if","iri","isblank","isiri","isliteral","isnumeric","isuri","lang","langmatches","lcase","max","md5","min","minutes","month","now","rand","regex","replace","round","sameterm","sample","seconds","sha1","sha256","sha384","sha512","str","strafter","strbefore","strdt","strends","strlang","strlen","strstarts","struuid","substr","sum","timezone","tz","ucase","uri","uuid","year"],ignoreCase:!0,tokenizer:{root:[[/<[^\s\u00a0>]*>?/,"tag"],{include:"@strings"},[/#.*/,"comment"],[/[{}()\[\]]/,"@brackets"],[/[;,.]/,"delimiter"],[/[_\w\d]+:(\.(?=[\w_\-\\%])|[:\w_-]|\\[-\\_~.!$&'()*+,;=/?#@%]|%[a-f\d][a-f\d])*/,"tag"],[/:(\.(?=[\w_\-\\%])|[:\w_-]|\\[-\\_~.!$&'()*+,;=/?#@%]|%[a-f\d][a-f\d])+/,"tag"],[/[$?]?[_\w\d]+/,{cases:{"@keywords":{token:"keyword"},"@builtinFunctions":{token:"predefined.sql"},"@default":"identifier"}}],[/\^\^/,"operator.sql"],[/\^[*+\-<>=&|^\/!?]*/,"operator.sql"],[/[*+\-<>=&|\/!?]/,"operator.sql"],[/@[a-z\d\-]*/,"metatag.html"],[/\s+/,"white"]],strings:[[/'([^'\\]|\\.)*$/,"string.invalid"],[/'$/,"string.sql","@pop"],[/'/,"string.sql","@stringBody"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"$/,"string.sql","@pop"],[/"/,"string.sql","@dblStringBody"]],stringBody:[[/[^\\']+/,"string.sql"],[/\\./,"string.escape"],[/'/,"string.sql","@pop"]],dblStringBody:[[/[^\\"]+/,"string.sql"],[/\\./,"string.escape"],[/"/,"string.sql","@pop"]]}}},82711:function(e,t,i){"use strict";i.d(t,{Y:function(){return a}});var n=i("9737"),o=i("70758"),r=i("71956");class s{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class a extends r.E{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=(0,o.X)(document.createElement("div")),r.K.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,o.X)(document.createElement("div")),r.K.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){for(let t of Object.keys(this._widgets))this._widgets[t].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){for(let t of Object.keys(this._widgets))this._widgets[t].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){let t=new l(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,n){this._widgets[e.getId()].setPosition(t,i,n),this.setShouldRender()}removeWidget(e){let t=e.getId();if(this._widgets.hasOwnProperty(t)){let e=this._widgets[t];delete this._widgets[t];let i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){for(let t of Object.keys(this._widgets))this._widgets[t].onBeforeRender(e)}prepareRender(e){for(let t of Object.keys(this._widgets))this._widgets[t].prepareRender(e)}render(e){for(let t of Object.keys(this._widgets))this._widgets[t].render(e)}}class l{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=(0,o.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;let n=this._context.configuration.options,r=n.get(133);this._fixedOverflowWidgets=n.get(38),this._contentWidth=r.contentWidth,this._contentLeft=r.contentLeft,this._lineHeight=n.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){let t=this._context.configuration.options;if(this._lineHeight=t.get(61),e.hasChanged(133)){let e=t.get(133);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range,this._affinity)}_setPosition(e,t){var i;if(this._range=e,this._viewRange=null,this._affinity=t,this._range){let e=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(e,null!==(i=this._affinity)&&void 0!==i?i:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,t,i){this._setPosition(e,i),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,n,o){let r=e.top,s=t.top+this._lineHeight,a=o.viewportHeight-s,l=e.left,d=t.left;return l+i>o.scrollLeft+o.viewportWidth&&(l=o.scrollLeft+o.viewportWidth-i),d+i>o.scrollLeft+o.viewportWidth&&(d=o.scrollLeft+o.viewportWidth-i),l<o.scrollLeft&&(l=o.scrollLeft),d<o.scrollLeft&&(d=o.scrollLeft),{fitsAbove:r>=n,aboveTop:r-n,aboveLeft:l,fitsBelow:a>=n,belowTop:s,belowLeft:d}}_layoutHorizontalSegmentInPage(e,t,i,o){let r=Math.max(0,t.left-o),s=Math.min(t.left+t.width+o,e.width),a=t.left+i-n.DI.scrollX;if(a+o>s){let e=a-(s-o);a-=e,i-=e}if(a<r){let e=a-r;a-=e,i-=e}return[i,a]}_layoutBoxInPage(e,t,i,o,r){let s=e.top-o,a=t.top+this._lineHeight,l=n.i(this._viewDomNode.domNode),d=l.top+s-n.DI.scrollY,h=l.top+a-n.DI.scrollY,u=n.D6(document.body),[c,g]=this._layoutHorizontalSegmentInPage(u,l,e.left-r.scrollLeft+this._contentLeft,i),[m,_]=this._layoutHorizontalSegmentInPage(u,l,t.left-r.scrollLeft+this._contentLeft,i),f=d>=22,p=h+o<=u.height-22;return this._fixedOverflowWidgets?{fitsAbove:f,aboveTop:Math.max(d,22),aboveLeft:g,fitsBelow:p,belowTop:h,belowLeft:_}:{fitsAbove:f,aboveTop:s,aboveLeft:c,fitsBelow:p,belowTop:a,belowLeft:m}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new s(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];let t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(let e of t)e.lineNumber<i.lineNumber&&(i=e),e.lineNumber>n.lineNumber&&(n=e);let o=1073741824;for(let e of i.ranges)e.left<o&&(o=e.left);let r=1073741824;for(let e of n.ranges)e.left<r&&(r=e.left);let a=new s(e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,o);return[a,new s(e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,r)]}_prepareRenderWidget(e){let t;if(!this._preference||0===this._preference.length)return null;let[i,n]=this._getTopAndBottomLeft(e);if(!i||!n)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let e=null;if("function"==typeof this._actual.beforeRender&&(e=d(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeOffsetWidth=e.width,this._cachedDomNodeOffsetHeight=e.height;else{let e=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(e.width),this._cachedDomNodeOffsetHeight=Math.round(e.height)}}t=this.allowEditorOverflow?this._layoutBoxInPage(i,n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):this._layoutBoxInViewport(i,n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let e=1;e<=2;e++)for(let n of this._preference)if(1===n){if(!t)return null;if(2===e||t.fitsAbove)return{coordinate:new s(t.aboveTop,t.aboveLeft),position:1}}else if(2===n){if(!t)return null;if(2===e||t.fitsBelow)return{coordinate:new s(t.belowTop,t.belowLeft),position:2}}else{if(this.allowEditorOverflow)return{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(i),position:0};return{coordinate:i,position:0}}return null}onBeforeRender(e){if(!!this._viewRange&&!!this._preference)!(this._viewRange.endLineNumber<e.startLineNumber)&&!(this._viewRange.startLineNumber>e.endLineNumber)&&this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),"function"==typeof this._actual.afterRender&&d(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?this.domNode.setTop(this._renderData.coordinate.top):this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left),!this._isVisible&&(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&d(this._actual.afterRender,this._actual,this._renderData.position)}}function d(e,t,...i){try{return e.call(t,...i)}catch(e){return null}}},11699:function(e,t,i){"use strict";i.d(t,{R:function(){return u}}),i("80399");var n=i("7202"),o=i("26939"),r=i("39703"),s=i("57938"),a=i("3868"),l=i("44138"),d=i("2349"),h=i("27924");class u extends n.i{constructor(e){super(),this._context=e,this._primaryPosition=null;let t=this._context.configuration.options,i=t.get(134),n=t.get(46);this._lineHeight=t.get(61),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(134),n=t.get(46);return this._lineHeight=t.get(61),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;let i=e.selections[0].getPosition();return(null===(t=this._primaryPosition)||void 0===t?!void 0:!t.equals(i))&&(this._primaryPosition=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,o;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs){this._renderResult=null;return}let r=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,d=this._lineHeight,h=this._primaryPosition,u=this.getGuidesByLine(r,a,h),c=[];for(let h=r;h<=a;h++){let a=h-r,g=u[a],m="",_=null!==(i=null===(t=e.visibleRangeForPosition(new s.L(h,1)))||void 0===t?void 0:t.left)&&void 0!==i?i:0;for(let t of g){let i=-1===t.column?_+(t.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new s.L(h,t.column)).left;if(i>l||this._maxIndentLeft>0&&i>this._maxIndentLeft)break;let r=t.horizontalLine?t.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",a=t.horizontalLine?(null!==(o=null===(n=e.visibleRangeForPosition(new s.L(h,t.horizontalLine.endColumn)))||void 0===n?void 0:n.left)&&void 0!==o?o:i+this._spaceWidth)-i:this._spaceWidth;m+=`<div class="core-guide ${t.className} ${r}" style="left:${i}px;height:${d}px;width:${a}px"></div>`}c[a]=m}this._renderResult=c}getGuidesByLine(e,t,i){let n=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?h.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?h.s6.EnabledForActive:h.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null,r=0,s=0,l=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&i){let n=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);r=n.startLineNumber,s=n.endLineNumber,l=n.indent}let{indentSize:d}=this._context.viewModel.model.getOptions(),u=[];for(let i=e;i<=t;i++){let t=[];u.push(t);let c=n?n[i-e]:[],g=new a.H9(c),m=o?o[i-e]:[];for(let e=1;e<=m;e++){let n=(e-1)*d+1,o=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===c.length)&&r<=i&&i<=s&&e===l;t.push(...g.takeWhile(e=>e.visibleColumn<n)||[]);let a=g.peek();(!a||a.visibleColumn!==n||a.horizontalLine)&&t.push(new h.UO(n,-1,o?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}t.push(...g.takeWhile(e=>!0)||[])}return u}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function c(e){if(!(e&&e.isTransparent()))return e}(0,r.Ic)((e,t)=>{let i=e.getColor(o.tR);i&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${i} inset; }`);let n=e.getColor(o.Ym)||i;n&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${n} inset; }`);let r=[{bracketColor:o.zJ,guideColor:o.oV,guideColorActive:o.Qb},{bracketColor:o.Vs,guideColor:o.m$,guideColorActive:o.m3},{bracketColor:o.CE,guideColor:o.DS,guideColorActive:o.To},{bracketColor:o.UP,guideColor:o.lS,guideColorActive:o.L7},{bracketColor:o.r0,guideColor:o.Jn,guideColorActive:o.HV},{bracketColor:o.m1,guideColor:o.YF,guideColorActive:o.f9}],s=new d.W,a=r.map(t=>{var i,n;let o=e.getColor(t.bracketColor),r=e.getColor(t.guideColor),s=e.getColor(t.guideColorActive),a=c(null!==(i=c(r))&&void 0!==i?i:null==o?void 0:o.transparent(.3)),l=c(null!==(n=c(s))&&void 0!==n?n:o);if(a&&l)return{guideColor:a,guideColorActive:l}}).filter(l.$K);if(a.length>0){for(let e=0;e<30;e++){let i=a[e%a.length];t.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(e).replace(/ /g,".")} { --guide-color: ${i.guideColor}; --guide-color-active: ${i.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${s.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${s.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${s.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})},77386:function(e,t,i){"use strict";i.d(t,{Gm:function(){return Q}}),i("19812"),i("9725");var n=i("8339"),o=i("9737"),r=i("61111"),s=i("16904"),a=i("19527"),l=i("24342"),d=i("52567"),h=i("59923"),u=i("83368"),c=i("20730"),g=i("91140"),m=i("16637"),_=i("61209"),f=i("89626"),p=i("57938"),v=i("61045"),b=i("61065"),w=i("92118"),C=i("93478"),S=i("76617"),L=i("99599"),D=i("26939"),y=i("97085"),N=i("76620"),I=i("21095"),E=i("49436"),R=i("6301"),x=i("84193"),M=i("97669"),O=i("39703"),T=i("38204"),P=i("44138"),V=i("22559"),k=i("31882"),W=i("12315"),A=i("62785"),z=i("53120"),F=i("78540"),H=function(e,t){return function(i,n){t(i,n,e)}};let B=0;class U{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){(0,a.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Q=class e extends a.JT{constructor(e,t,i,n,a,l,d,u,c,g,m,_){let f;super(),this.languageConfigurationService=m,this._deliveryQueue=new s.F3,this._onDidDispose=this._register(new s.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new q({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new q({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new s.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();let p=Object.assign({},t);for(let t of(this._domElement=e,this._overflowWidgetsDomNode=p.overflowWidgetsDomNode,delete p.overflowWidgetsDomNode,this._id=++B,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,p,g)),this._register(this._configuration.onDidChange(e=>{this._onDidChangeConfiguration.fire(e);let t=this._configuration.options;if(e.hasChanged(133)){let e=t.get(133);this._onDidLayoutChange.fire(e)}})),this._contextKeyService=this._register(d.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=a,this._commandService=l,this._themeService=u,this._register(new $(this,this._contextKeyService)),this._register(new j(this,this._contextKeyService,_)),this._instantiationService=n.createChild(new x.y([E.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Z(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},f=Array.isArray(i.contributions)?i.contributions:h.Uc.getEditorContributions())){if(this._contributions[t.id]){(0,r.dL)(Error(`Cannot have two contributions with the same id ${t.id}`));continue}try{let e=this._instantiationService.createInstance(t.ctor,this);this._contributions[t.id]=e}catch(e){(0,r.dL)(e)}}h.Uc.getEditorActions().forEach(e=>{if(this._actions[e.id]){(0,r.dL)(Error(`Cannot have two actions with the same id ${e.id}`));return}let t=new w.p(e.id,e.label,e.alias,(0,P.f6)(e.precondition),()=>this._instantiationService.invokeFunction(t=>Promise.resolve(e.runEditorCommand(t,this,null))),this._contextKeyService);this._actions[t.id]=t});let v=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new o.eg(this._domElement,{onDragEnter:()=>void 0,onDragOver:e=>{if(!v())return;let t=this.getTargetAtClientPoint(e.clientX,e.clientY);(null==t?void 0:t.position)&&this.showDropIndicatorAt(t.position)},onDrop:e=>{var t,i,n,o;return t=this,i=void 0,n=void 0,o=function*(){if(!v())return;if(this.removeDropIndicator(),!e.dataTransfer)return;let t=this.getTargetAtClientPoint(e.clientX,e.clientY);(null==t?void 0:t.position)&&this._onDropIntoEditor.fire({position:t.position,event:e})},new(n||(n=Promise))(function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof n?i:new n(function(e){e(i)})).then(s,a)}l((o=o.apply(t,i||[])).next())})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,t,i){return new d.z(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return C.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();let e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){let i=e[t];this._contributions[i].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?W.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),e):null}getValue(e=null){if(!this._modelData)return"";let t=!!e&&!!e.preserveBOM,i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){if(null===this._modelData&&null===e||this._modelData&&this._modelData.model===e)return;let t=this.hasTextFocus(),i=this._detachModel();this._attachModel(e),t&&this.hasModel()&&this.focus();let n={oldModelUrl:i?i.uri:null,newModelUrl:e?e.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(n),this._postDetachModelCleanup(i)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){let t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,n){let o=e.model.validatePosition({lineNumber:t,column:i}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(r.lineNumber,n)}getTopForLineNumber(t,i=!1){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1,i):-1}getTopForPosition(t,i){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,i,!1):-1}static _getVerticalOffsetForPosition(e,t,i,n=!1){let o=e.model.validatePosition({lineNumber:t,column:i}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber,n)}getBottomForLineNumber(t,i=!1){return this._modelData?e._getVerticalOffsetAfterPosition(this._modelData,t,1,i):-1}setHiddenAreas(e){var t;null===(t=this._modelData)||void 0===t||t.viewModel.setHiddenAreas(e.map(e=>v.e.lift(e)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;let t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return f.i.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!p.L.isIPosition(e))throw Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!v.e.isIRange(e))throw Error("Invalid arguments");let o=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,r,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw Error("Invalid arguments");this._sendRevealRange(new v.e(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!p.L.isIPosition(e))throw Error("Invalid arguments");this._sendRevealRange(new v.e(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){let i=b.Y.isISelection(e),n=v.e.isIRange(e);if(!i&&!n)throw Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(n){let i={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(i,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;let i=new b.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw Error("Invalid arguments");this._sendRevealRange(new v.e(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!v.e.isIRange(e))throw Error("Invalid arguments");this._sendRevealRange(v.e.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||0===e.length)throw Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!b.Y.isISelection(e[t]))throw Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;let e={};for(let t of Object.keys(this._contributions)){let i=this._contributions[t];"function"==typeof i.saveViewState&&(e[t]=i.saveViewState())}let t=this._modelData.viewModel.saveCursorState();return{cursorState:t,viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!!this._modelData&&!!this._modelData.hasRealView){if(e&&e.cursorState&&e.viewState){let t=e.cursorState;Array.isArray(t)?t.length>0&&this._modelData.viewModel.restoreCursorState(t):this._modelData.viewModel.restoreCursorState([t]);let i=e.contributionsState||{},n=Object.keys(this._contributions);for(let e=0,t=n.length;e<t;e++){let t=n[e],o=this._contributions[t];"function"==typeof o.restoreViewState&&o.restoreViewState(i[t])}let o=this._modelData.viewModel.reduceRestoreState(e.viewState);this._modelData.view.restoreState(o)}}}getContribution(e){return this._contributions[e]||null}getActions(){let e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){let n=t[i];e.push(this._actions[n])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(e=>e.isSupported())}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{let t=i;this._type(e,t.text||"");return}case"replacePreviousChar":{let t=i;this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0);return}case"compositionType":{let t=i;this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0);return}case"paste":{let t=i;this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null);return}case"cut":this._cut(e);return}let n=this.getAction(t);if(n){Promise.resolve(n.run()).then(void 0,r.dL);return}if(!!this._modelData)!this._triggerEditorCommand(e,t,i)&&this._triggerCommand(t,i)}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||0===t.length)return;let r=this._modelData.viewModel,s=r.getSelection().getStartPosition();r.paste(t,i,n,e);let a=r.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new v.e(s.lineNumber,s.column,a.lineNumber,a.column),languageId:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){let n=h.Uc.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction(e=>{Promise.resolve(n.runEditorCommand(e,this,i)).then(void 0,r.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(83))&&(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!(!this._modelData||this._configuration.options.get(83))&&(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){let n;return!(!this._modelData||this._configuration.options.get(83))&&(n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0)}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new K(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,m.$J)(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,(0,m.$J)(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){this._modelData&&0!==e.length&&this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){let t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarPointerDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!!this._modelData&&!!this._modelData.hasRealView&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){let t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){let t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){let i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){let t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){let e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){let t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){let t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){let i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){let t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){let e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;let i=this._modelData.model.validatePosition(t),n=this._configuration.options,o=n.get(133),r=e._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop();return{top:r,left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:n.get(61)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){(0,z.N)(e,this._configuration.options.get(46))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}let t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();let i=new N.j(this._id,this._configuration,e,k.C.create(),V.p.create(this._configuration.options),e=>o.jL(e),this.languageConfigurationService,this._themeService);t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(t=>{switch(t.kind){case 0:this._onDidContentSizeChange.fire(t);break;case 1:this._editorTextFocus.setValue(t.hasFocus);break;case 2:this._onDidScrollChange.fire(t);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{t.reachedMaxCursorCount&&this._notificationService.warn(n.NC("cursors.maximum","The number of cursors has been limited to {0}.",_.U.MAX_CURSOR_COUNT));let e=[];for(let i=0,n=t.selections.length;i<n;i++)e[i]=t.selections[i].getPosition();let i={position:e[0],secondaryPositions:e.slice(1),reason:t.reason,source:t.source};this._onDidChangeCursorPosition.fire(i);let o={selection:t.selections[0],secondarySelections:t.selections.slice(1),modelVersionId:t.modelVersionId,oldSelections:t.oldSelections,oldModelVersionId:t.oldModelVersionId,source:t.source,reason:t.reason};this._onDidChangeCursorSelection.fire(o);break}case 7:this._onDidChangeModelDecorations.fire(t.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(t.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(t.event);break;case 10:this._onDidChangeModelContent.fire(t.event);break;case 11:this._onDidChangeModelOptions.fire(t.event);break;case 12:this._onDidChangeModelTokens.fire(t.event)}}));let[r,s]=this._createView(i);if(s){this._domElement.appendChild(r.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,i=t.length;e<i;e++){let i=t[e];r.addContentWidget(this._contentWidgets[i])}t=Object.keys(this._overlayWidgets);for(let e=0,i=t.length;e<i;e++){let i=t[e];r.addOverlayWidget(this._overlayWidgets[i])}r.render(!1,!0),r.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new U(e,i,r,s,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,i,n)=>{this._compositionType("keyboard",e,t,i,n)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{this._commandService.executeCommand("paste",{text:e,pasteOnNewLine:t,multicursorText:i,mode:n})},type:e=>{this._commandService.executeCommand("type",{text:e})},compositionType:(e,t,i,n)=>{i||n?this._commandService.executeCommand("compositionType",{text:e,replacePrevCharCnt:t,replaceNextCharCnt:i,positionDelta:n}):this._commandService.executeCommand("replacePreviousChar",{text:e,replaceCharCnt:t})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};let i=new g.q(e.coordinatesConverter);return i.onKeyDown=e=>this._onKeyDown.fire(e),i.onKeyUp=e=>this._onKeyUp.fire(e),i.onContextMenu=e=>this._onContextMenu.fire(e),i.onMouseMove=e=>this._onMouseMove.fire(e),i.onMouseLeave=e=>this._onMouseLeave.fire(e),i.onMouseDown=e=>this._onMouseDown.fire(e),i.onMouseUp=e=>this._onMouseUp.fire(e),i.onMouseDrag=e=>this._onMouseDrag.fire(e),i.onMouseDrop=e=>this._onMouseDrop.fire(e),i.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),i.onMouseWheel=e=>this._onMouseWheel.fire(e),[new c.G(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){null==e||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;let e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}showDropIndicatorAt(t){let i=[{range:new v.e(t.lineNumber,t.column,t.lineNumber,t.column),options:e.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(i),this.revealPosition(t,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Q.dropIntoEditorDecorationOptions=L.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Q=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([H(3,R.TG),H(4,u.$),H(5,I.Hy),H(6,E.i6),H(7,O.XE),H(8,M.lT),H(9,T.F),H(10,A.c_),H(11,F.p)],Q);class q extends a.JT{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new s.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new s.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){let t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class $ extends a.JT{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=S.u.editorSimpleInput.bindTo(t),this._editorFocus=S.u.focus.bindTo(t),this._textInputFocus=S.u.textInputFocus.bindTo(t),this._editorTextFocus=S.u.editorTextFocus.bindTo(t),this._editorTabMovesFocus=S.u.tabMovesFocus.bindTo(t),this._editorReadonly=S.u.readOnly.bindTo(t),this._inDiffEditor=S.u.inDiffEditor.bindTo(t),this._editorColumnSelection=S.u.columnSelection.bindTo(t),this._hasMultipleSelections=S.u.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=S.u.hasNonEmptySelection.bindTo(t),this._canUndo=S.u.canUndo.bindTo(t),this._canRedo=S.u.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){let e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(132)),this._editorReadonly.set(e.get(83)),this._inDiffEditor.set(e.get(56)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){let e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(e=>!e.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){let e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class j extends a.JT{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=S.u.languageId.bindTo(t),this._hasCompletionItemProvider=S.u.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=S.u.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=S.u.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=S.u.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=S.u.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=S.u.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=S.u.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=S.u.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=S.u.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=S.u.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=S.u.hasReferenceProvider.bindTo(t),this._hasRenameProvider=S.u.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=S.u.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=S.u.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=S.u.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=S.u.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=S.u.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=S.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=S.u.isInWalkThroughSnippet.bindTo(t);let n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(i.completionProvider.onDidChange(n)),this._register(i.codeActionProvider.onDidChange(n)),this._register(i.codeLensProvider.onDidChange(n)),this._register(i.definitionProvider.onDidChange(n)),this._register(i.declarationProvider.onDidChange(n)),this._register(i.implementationProvider.onDidChange(n)),this._register(i.typeDefinitionProvider.onDidChange(n)),this._register(i.hoverProvider.onDidChange(n)),this._register(i.documentHighlightProvider.onDidChange(n)),this._register(i.documentSymbolProvider.onDidChange(n)),this._register(i.referenceProvider.onDidChange(n)),this._register(i.renameProvider.onDidChange(n)),this._register(i.documentFormattingEditProvider.onDidChange(n)),this._register(i.documentRangeFormattingEditProvider.onDidChange(n)),this._register(i.signatureHelpProvider.onDidChange(n)),this._register(i.inlayHintsProvider.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){let e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===l.lg.walkThroughSnippet)})}}class Z extends a.JT{constructor(e){super(),this._onChange=this._register(new s.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(o.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class K{constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}get length(){return this._decorationIds.length}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(i=>{!this._isChangingDecorations&&e.call(t,i)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];let e=this._editor.getModel(),t=[];for(let i of this._decorationIds){let n=e.getDecorationRange(i);n&&t.push(n)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}}}let Y=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),J=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function G(e){return Y+encodeURIComponent(e.toString())+J}let X=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ee=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,O.Ic)((e,t)=>{let i=e.getColor(y.b6y);i&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${i}; }`);let n=e.getColor(y.lXJ);n&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${G(n)}") repeat-x bottom left; }`);let o=e.getColor(y.L_H);o&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${o}; }`);let r=e.getColor(y.pW3);r&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${r}; }`);let s=e.getColor(y.uoC);s&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${G(s)}") repeat-x bottom left; }`);let a=e.getColor(y.gpD);a&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);let l=e.getColor(y.T83);l&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);let d=e.getColor(y.c63);d&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${G(d)}") repeat-x bottom left; }`);let h=e.getColor(y.few);h&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${h}; }`);let u=e.getColor(y.fEB);u&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${u}; }`);let c=e.getColor(y.Dut);if(c)t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${X+encodeURIComponent(c.toString())+ee}") no-repeat bottom left; }`);let g=e.getColor(D.zu);g&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${g.rgba.a}; }`);let m=e.getColor(D.kp);m&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${m}; }`);let _=e.getColor(y.NOs)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${_}}`)})},16272:function(e,t,i){"use strict";i.d(t,{p:function(){return J}}),i("31454");var n,o=i("8339"),r=i("9737"),s=i("33665"),a=i("70758"),l=i("74664"),d=i("67518"),h=i("16904"),u=i("19527"),c=i("53120"),g=i("60550"),m=i("83368"),_=i("77386"),f=i("98649"),p=i("16637"),v=i("57938"),b=i("61045"),w=i("34630"),C=i("93478"),S=i("99599"),L=i("73835"),D=i("80801"),y=i("30751"),N=i("81161"),I=i("38643"),E=i("49436"),R=i("6301"),x=i("84193"),M=i("97669"),O=i("97085"),T=i("39703"),P=i("58935"),V=i("64965"),k=i("4264"),W=i("59923"),A=i("61111"),z=i("54967"),F=i("18022"),H=i("71628"),B=i("30813"),U=i("38842"),Q=i("74697"),q=function(e,t){return function(i,n){t(i,n,e)}};class ${constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(e=>!this._zonesMap[String(e.id)])}clean(e){this._zones.length>0&&e.changeViewZones(e=>{for(let t of this._zones)e.removeZone(t)}),this._zones=[],this._zonesMap={},e.changeDecorations(e=>{this._decorations=e.deltaDecorations(this._decorations,[])})}apply(e,t,i,n){let o=n?g.Z.capture(e):null;e.changeViewZones(t=>{var n;for(let e of this._zones)t.removeZone(e);for(let e of this._inlineDiffMargins)e.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let o=0,r=i.zones.length;o<r;o++){let r=i.zones[o];r.suppressMouseDown=!0;let s=t.addZone(r);this._zones.push(s),this._zonesMap[String(s)]=!0,i.zones[o].diff&&r.marginDomNode&&(r.suppressMouseDown=!1,(null===(n=i.zones[o].diff)||void 0===n?void 0:n.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new V.t(s,r.marginDomNode,e,i.zones[o].diff,this._contextMenuService,this._clipboardService)))}}),null==o||o.restore(e),e.changeDecorations(e=>{this._decorations=e.deltaDecorations(this._decorations,i.decorations)}),null==t||t.setZones(i.overviewZones)}}let j=0,Z=(0,U.q5)("diff-insert",H.lA.add,o.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),K=(0,U.q5)("diff-remove",H.lA.remove,o.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),Y=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("diffEditorWidget",{createHTML:e=>e}),J=class e extends u.JT{constructor(t,i,n,o,s,l,u,c,g,m,_,p){for(let v of(super(),this._editorProgressService=p,this._onDidDispose=this._register(new h.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new h.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new h.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=s,this._codeEditorService=c,this._contextKeyService=this._register(l.createScoped(t)),this._instantiationService=u.createChild(new x.y([E.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=g,this._notificationService=m,this._id=++j,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._options=eg(i,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),void 0!==i.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new d.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,a.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(r.mu(this._overviewDomElement,r.tw.POINTER_DOWN,e=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(e)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new $(_,o),this._modifiedEditorState=new $(_,o),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new F.I(this._containerDomElement,i.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,n.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,n.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=u.createInstance(f.j,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new en(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new er(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(g.onDidColorThemeChange(t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)})),W.Uc.getDiffEditorContributions()))try{this._register(u.createInstance(v.ctor,this))}catch(e){(0,A.dL)(e)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=(0,T.m6)(e.type)}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(s.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){let n=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(n.onDidScrollChange(e=>{if(!this._isHandlingScrollEvent)(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(n.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(n.onDidChangeConfiguration(e=>{n.getModel()&&(e.hasChanged(46)&&this._updateDecorationsRunner.schedule(),e.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(n.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(n.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));let o=this._contextKeyService.createKey("isInDiffLeftEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget(()=>o.set(!0))),this._register(n.onDidBlurEditorWidget(()=>o.set(!1))),this._register(n.onDidContentSizeChange(t=>{let i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})})),n}_createRightHandSideEditor(t,i){let n=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(n.onDidScrollChange(e=>{if(!this._isHandlingScrollEvent)(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(n.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(n.onDidChangeConfiguration(e=>{n.getModel()&&(e.hasChanged(46)&&this._updateDecorationsRunner.schedule(),e.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(n.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(n.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(n.onDidChangeModelOptions(e=>{e.tabSize&&this._updateDecorationsRunner.schedule()}));let o=this._contextKeyService.createKey("isInDiffRightEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget(()=>o.set(!0))),this._register(n.onDidBlurEditorWidget(()=>o.set(!1))),this._register(n.onDidContentSizeChange(t=>{let i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})})),this._register(n.onMouseDown(e=>{var t,i;if(!e.event.rightButton&&e.target.position&&(null===(t=e.target.element)||void 0===t?void 0:t.className.includes("arrow-revert-change"))){let t=e.target.position.lineNumber,n=null===(i=this._diffComputationResult)||void 0===i?void 0:i.changes.find(e=>e.modifiedStartLineNumber===t-1||e.modifiedStartLineNumber===t);n&&this.revertChange(n),e.event.stopPropagation(),this._updateDecorations();return}})),n}revertChange(e){let t=this._modifiedEditor,i=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(!i||!n||!t)return;let o=e.originalEndLineNumber>0?new b.e(e.originalStartLineNumber,1,e.originalEndLineNumber,i.getLineMaxColumn(e.originalEndLineNumber)):null,r=o?i.getValueInRange(o):null,s=e.modifiedEndLineNumber>0?new b.e(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,n.getLineMaxColumn(e.modifiedEndLineNumber)):null,a=n.getEOL();if(0===e.originalEndLineNumber&&s){let i=s;e.modifiedStartLineNumber>1?i=s.setStartPosition(e.modifiedStartLineNumber-1,n.getLineMaxColumn(e.modifiedStartLineNumber-1)):e.modifiedEndLineNumber<n.getLineCount()&&(i=s.setEndPosition(e.modifiedEndLineNumber+1,1)),t.executeEdits("diffEditor",[{range:i,text:""}])}else if(0===e.modifiedEndLineNumber&&null!==r){let i=e.modifiedStartLineNumber<n.getLineCount()?new v.L(e.modifiedStartLineNumber+1,1):new v.L(e.modifiedStartLineNumber,n.getLineMaxColumn(e.modifiedStartLineNumber));t.executeEdits("diffEditor",[{range:b.e.fromPositions(i,i),text:e.modifiedStartLineNumber<n.getLineCount()?r+a:a+r}])}else s&&null!==r&&t.executeEdits("diffEditor",[{range:s,text:r}])}_createInnerEditor(e,t,i,n){return e.createInstance(_.Gm,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return C.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){let i=eg(t,this._options),n=function(e,t){return{enableSplitViewResizing:e.enableSplitViewResizing!==t.enableSplitViewResizing,renderSideBySide:e.renderSideBySide!==t.renderSideBySide,renderMarginRevertIcon:e.renderMarginRevertIcon!==t.renderMarginRevertIcon,maxComputationTime:e.maxComputationTime!==t.maxComputationTime,maxFileSize:e.maxFileSize!==t.maxFileSize,ignoreTrimWhitespace:e.ignoreTrimWhitespace!==t.ignoreTrimWhitespace,renderIndicators:e.renderIndicators!==t.renderIndicators,originalEditable:e.originalEditable!==t.originalEditable,diffCodeLens:e.diffCodeLens!==t.diffCodeLens,renderOverviewRuler:e.renderOverviewRuler!==t.renderOverviewRuler,diffWordWrap:e.diffWordWrap!==t.diffWordWrap}}(this._options,i);this._options=i;let o=n.ignoreTrimWhitespace||n.renderIndicators||n.renderMarginRevertIcon,r=this._isVisible&&(n.maxComputationTime||n.maxFileSize);o?this._beginUpdateDecorations():r&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),n.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new en(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new er(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),n.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e,t="api"){this._modifiedEditor.setPosition(e,t)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e,t="api"){this._modifiedEditor.setSelection(e,t)}setSelections(e,t="api"){this._modifiedEditor.setSelections(e,t)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){let e=this._originalEditor.saveViewState();return{original:e,modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){e&&e.original&&e.modified&&(this._originalEditor.restoreViewState(e.original),this._modifiedEditor.restoreViewState(e.modified))}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._modifiedEditor.createDecorationsCollection(e)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;let t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:n+e.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){!this._currentlyChangingViewZones&&this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!!e&&!!t&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;let t=this._originalEditor.getModel(),i=this._modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;let n=this._diffComputationToken,r=1048576*this._options.maxFileSize,s=e=>{let t=e.getValueLength();return 0===r||t<=r};if(!s(t)||!s(i)){(!e._equals(t.uri,this._lastOriginalWarning)||!e._equals(i.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(o.NC("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(t.uri,i.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(e=>{n===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},e=>{n===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;let e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){let t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){let t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:(t.wordWrapOverride1="off",t.wordWrapOverride2="off"),e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.dropIntoEditor={enabled:!t.readOnly},t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){let i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=p.BH.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){let t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:o,height:i-n}),this._modifiedEditor.layout({width:t-o-(this._options.renderOverviewRuler?e.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,t,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){let e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){let e=this._modifiedEditor.getLayoutInfo();if(!e)return null;let t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=i>0?Math.max(0,n-0)/i:0,r=Math.max(0,Math.floor(e.height*o));return{height:r,top:Math.floor(t*o)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){let i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){let r=Math.floor((n+o)/2),s=t(i[r]),a=r+1<=o?t(i[r+1]):1073741824;e<s?o=r-1:e>=a?n=r+1:(n=r,o=r)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,e=>e.originalStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=o?n+Math.min(s,r):n+r-o+s}_getEquivalentLineForModifiedLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,e=>e.modifiedStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=r?i+Math.min(s,o):i+o-r+s}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};J.ONE_OVERVIEW_WIDTH=15,J.ENTIRE_DIFF_OVERVIEW_WIDTH=30,J.UPDATE_DIFF_DECORATIONS_DELAY=200,J=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([q(3,k.p),q(4,L.p),q(5,E.i6),q(6,R.TG),q(7,m.$),q(8,T.XE),q(9,M.lT),q(10,P.i),q(11,z.ek)],J);class G extends u.JT{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){let t=e.getColor(O.P6Y)||(e.getColor(O.ypS)||O.CzK).transparent(2),i=e.getColor(O.F9q)||(e.getColor(O.P4M)||O.keg).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,o,r){r=r.sort((e,t)=>e.afterLineNumber-t.afterLineNumber),o=o.sort((e,t)=>e.afterLineNumber-t.afterLineNumber);let s=this._getViewZones(e,o,r,i),a=this._getOriginalEditorDecorations(s,e,t,i),l=this._getModifiedEditorDecorations(s,e,t,i,n);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:s.modified}}}}class X{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class ee{constructor(e,t,i,n,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=o}static _getViewLineCount(e,t,i){let n=e.getModel(),o=e._getViewModel();if(n&&o){let e=ec(n,o,t,i);return e.endLineNumber-e.startLineNumber+1}return i-t+1}getViewZones(){let e=this._originalEditor.getOption(61),t=this._modifiedEditor.getOption(61),i=-1!==this._originalEditor.getOption(134).wrappingColumn,n=-1!==this._modifiedEditor.getOption(134).wrappingColumn,o=i||n,r=this._originalEditor.getModel(),s=this._originalEditor._getViewModel().coordinatesConverter,a=this._modifiedEditor._getViewModel().coordinatesConverter,l={original:[],modified:[]},d=0,h=0,u=0,c=0,g=0,m=0,_=(e,t)=>e.afterLineNumber-t.afterLineNumber,f=(e,t)=>{if(null===t.domNode&&e.length>0){let i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode){i.heightInLines+=t.heightInLines;return}}e.push(t)},p=new X(this._modifiedForeignVZ),v=new X(this._originalForeignVZ),b=1,w=1;for(let i=0,n=this._lineChanges.length;i<=n;i++){let C=i<n?this._lineChanges[i]:null;null!==C?(u=C.originalStartLineNumber+(C.originalEndLineNumber>0?-1:0),c=C.modifiedStartLineNumber+(C.modifiedEndLineNumber>0?-1:0),h=C.originalEndLineNumber>0?ee._getViewLineCount(this._originalEditor,C.originalStartLineNumber,C.originalEndLineNumber):0,d=C.modifiedEndLineNumber>0?ee._getViewLineCount(this._modifiedEditor,C.modifiedStartLineNumber,C.modifiedEndLineNumber):0,g=Math.max(C.originalStartLineNumber,C.originalEndLineNumber),m=Math.max(C.modifiedStartLineNumber,C.modifiedEndLineNumber)):(u+=1e7+h,c+=1e7+d,g=u,m=c);let S=[],L=[];if(o){let e;e=C?C.originalEndLineNumber>0?C.originalStartLineNumber-b:C.modifiedStartLineNumber-w:r.getLineCount()-b+1;for(let t=0;t<e;t++){let e=b+t,i=w+t,n=s.getModelLineViewLineCount(e),o=a.getModelLineViewLineCount(i);n<o?S.push({afterLineNumber:e,heightInLines:o-n,domNode:null,marginDomNode:null}):n>o&&L.push({afterLineNumber:i,heightInLines:n-o,domNode:null,marginDomNode:null})}C&&(b=(C.originalEndLineNumber>0?C.originalEndLineNumber:C.originalStartLineNumber)+1,w=(C.modifiedEndLineNumber>0?C.modifiedEndLineNumber:C.modifiedStartLineNumber)+1)}for(;p.current&&p.current.afterLineNumber<=m;){let e;e=p.current.afterLineNumber<=c?u-c+p.current.afterLineNumber:g;let i=null;C&&C.modifiedStartLineNumber<=p.current.afterLineNumber&&p.current.afterLineNumber<=C.modifiedEndLineNumber&&(i=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),S.push({afterLineNumber:e,heightInLines:p.current.height/t,domNode:null,marginDomNode:i}),p.advance()}for(;v.current&&v.current.afterLineNumber<=g;){let t;t=v.current.afterLineNumber<=u?c-u+v.current.afterLineNumber:m,L.push({afterLineNumber:t,heightInLines:v.current.height/e,domNode:null}),v.advance()}if(null!==C&&ea(C)){let e=this._produceOriginalFromDiff(C,h,d);e&&S.push(e)}if(null!==C&&el(C)){let e=this._produceModifiedFromDiff(C,h,d);e&&L.push(e)}let D=0,y=0;for(S=S.sort(_),L=L.sort(_);D<S.length&&y<L.length;){let e=S[D],t=L[y],i=e.afterLineNumber-u,n=t.afterLineNumber-c;i<n?(f(l.original,e),D++):n<i?(f(l.modified,t),y++):e.shouldNotShrink?(f(l.original,e),D++):t.shouldNotShrink?(f(l.modified,t),y++):e.heightInLines>=t.heightInLines?(e.heightInLines-=t.heightInLines,y++):(t.heightInLines-=e.heightInLines,D++)}for(;D<S.length;)f(l.original,S[D]),D++;for(;y<L.length;)f(l.modified,L[y]),y++}return{original:ee._ensureDomNodes(l.original),modified:ee._ensureDomNodes(l.modified)}}static _ensureDomNodes(e){return e.map(e=>(!e.domNode&&(e.domNode=eu()),e))}}function et(e,t,i,n,o){return{range:new b.e(e,t,i,n),options:o}}let ei={arrowRevertChange:S.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+T.kS.asClassName(H.lA.arrowRight)}),charDelete:S.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:S.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:S.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:S.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:S.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:S.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+T.kS.asClassName(Z),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:S.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:S.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+T.kS.asClassName(K),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:S.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class en extends G{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new l.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(e=>this._onSashDrag(e)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){let t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){let t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?J.ENTIRE_DIFF_OVERVIEW_WIDTH:0),i=Math.floor((e||.5)*t),n=Math.floor(.5*t);return i=this._disableSash?n:i||n,t>2*en.MINIMUM_EDITOR_WIDTH?(i<en.MINIMUM_EDITOR_WIDTH&&(i=en.MINIMUM_EDITOR_WIDTH),i>t-en.MINIMUM_EDITOR_WIDTH&&(i=t-en.MINIMUM_EDITOR_WIDTH)):i=n,this._sashPosition!==i&&(this._sashPosition=i),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){let t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?J.ENTIRE_DIFF_OVERVIEW_WIDTH:0),i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){let n=this._dataSource.getOriginalEditor();return new eo(e,t,i,n,this._dataSource.getModifiedEditor()).getViewZones()}_getOriginalEditorDecorations(e,t,i,n){let o=this._dataSource.getOriginalEditor(),r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=o.getModel(),l=o._getViewModel();for(let e of t)if(el(e)){s.decorations.push({range:new b.e(e.originalStartLineNumber,1,e.originalEndLineNumber,1073741824),options:n?ei.lineDeleteWithSign:ei.lineDelete}),(!ea(e)||!e.charChanges)&&s.decorations.push(et(e.originalStartLineNumber,1,e.originalEndLineNumber,1073741824,ei.charDeleteWholeLine));let t=ec(a,l,e.originalStartLineNumber,e.originalEndLineNumber);if(s.overviewZones.push(new D.EY(t.startLineNumber,t.endLineNumber,0,r)),e.charChanges){for(let t of e.charChanges)if(eh(t)){if(i)for(let e=t.originalStartLineNumber;e<=t.originalEndLineNumber;e++){let i,n;i=e===t.originalStartLineNumber?t.originalStartColumn:a.getLineFirstNonWhitespaceColumn(e),n=e===t.originalEndLineNumber?t.originalEndColumn:a.getLineLastNonWhitespaceColumn(e),s.decorations.push(et(e,i,e,n,ei.charDelete))}else s.decorations.push(et(t.originalStartLineNumber,t.originalStartColumn,t.originalEndLineNumber,t.originalEndColumn,ei.charDelete))}}}return s}_getModifiedEditorDecorations(e,t,i,n,o){let s=this._dataSource.getModifiedEditor(),a=String(this._insertColor),l={decorations:[],overviewZones:[]},d=s.getModel(),h=s._getViewModel();for(let s of t){if(o){if(s.modifiedEndLineNumber>0)l.decorations.push({range:new b.e(s.modifiedStartLineNumber,1,s.modifiedStartLineNumber,1),options:ei.arrowRevertChange});else{let t=e.modified.find(e=>e.afterLineNumber===s.modifiedStartLineNumber);t&&(t.marginDomNode=function(){let e=document.createElement("div");return e.className="arrow-revert-change "+T.kS.asClassName(H.lA.arrowRight),r.$("div",{},e)}())}}if(ea(s)){l.decorations.push({range:new b.e(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,1073741824),options:n?ei.lineInsertWithSign:ei.lineInsert}),(!el(s)||!s.charChanges)&&l.decorations.push(et(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,1073741824,ei.charInsertWholeLine));let e=ec(d,h,s.modifiedStartLineNumber,s.modifiedEndLineNumber);if(l.overviewZones.push(new D.EY(e.startLineNumber,e.endLineNumber,0,a)),s.charChanges){for(let e of s.charChanges)if(ed(e)){if(i)for(let t=e.modifiedStartLineNumber;t<=e.modifiedEndLineNumber;t++){let i,n;i=t===e.modifiedStartLineNumber?e.modifiedStartColumn:d.getLineFirstNonWhitespaceColumn(t),n=t===e.modifiedEndLineNumber?e.modifiedEndColumn:d.getLineLastNonWhitespaceColumn(t),l.decorations.push(et(t,i,t,n,ei.charInsert))}else l.decorations.push(et(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn,ei.charInsert))}}}}return l}}en.MINIMUM_EDITOR_WIDTH=100;class eo extends ee{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class er extends G{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(t=>{this._decorationsLeft!==t.decorationsLeft&&(this._decorationsLeft=t.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){let o=this._dataSource.getOriginalEditor();return new es(e,t,i,o,this._dataSource.getModifiedEditor(),n).getViewZones()}_getOriginalEditorDecorations(e,t,i,n){let o=String(this._removeColor),r={decorations:[],overviewZones:[]},s=this._dataSource.getOriginalEditor(),a=s.getModel(),l=s._getViewModel(),d=0;for(let i of t)if(el(i)){for(r.decorations.push({range:new b.e(i.originalStartLineNumber,1,i.originalEndLineNumber,1073741824),options:ei.lineDeleteMargin});d<e.modified.length;){let t=e.modified[d];if(t.diff&&t.diff.originalStartLineNumber>=i.originalStartLineNumber)break;d++}let t=0;if(d<e.modified.length){let n=e.modified[d];n.diff&&n.diff.originalStartLineNumber===i.originalStartLineNumber&&n.diff.originalEndLineNumber===i.originalEndLineNumber&&n.diff.modifiedStartLineNumber===i.modifiedStartLineNumber&&n.diff.modifiedEndLineNumber===i.modifiedEndLineNumber&&(t=n.heightInLines)}let n=ec(a,l,i.originalStartLineNumber,i.originalEndLineNumber);r.overviewZones.push(new D.EY(n.startLineNumber,n.endLineNumber,t,o))}return r}_getModifiedEditorDecorations(e,t,i,n,o){let r=this._dataSource.getModifiedEditor(),s=String(this._insertColor),a={decorations:[],overviewZones:[]},l=r.getModel(),d=r._getViewModel();for(let e of t)if(ea(e)){a.decorations.push({range:new b.e(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,1073741824),options:n?ei.lineInsertWithSign:ei.lineInsert});let t=ec(l,d,e.modifiedStartLineNumber,e.modifiedEndLineNumber);if(a.overviewZones.push(new D.EY(t.startLineNumber,t.endLineNumber,0,s)),e.charChanges){for(let t of e.charChanges)if(ed(t)){if(i)for(let e=t.modifiedStartLineNumber;e<=t.modifiedEndLineNumber;e++){let i,n;i=e===t.modifiedStartLineNumber?t.modifiedStartColumn:l.getLineFirstNonWhitespaceColumn(e),n=e===t.modifiedEndLineNumber?t.modifiedEndColumn:l.getLineLastNonWhitespaceColumn(e),a.decorations.push(et(e,i,e,n,ei.charInsert))}else a.decorations.push(et(t.modifiedStartLineNumber,t.modifiedStartColumn,t.modifiedEndLineNumber,t.modifiedEndColumn,ei.charInsert))}}else a.decorations.push(et(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,1073741824,ei.charInsertWholeLine))}return a}layout(){return Math.max(5,this._decorationsLeft)}}class es extends ee{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._originalModel=n.getModel(),this._renderIndicators=r,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){let e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){let e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){let n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){let n=document.createElement("div");n.className=`view-lines line-delete ${B.S}`;let o=document.createElement("div");o.className="inline-deleted-margin-view-zone";let r={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let t=e.originalStartLineNumber;t<=e.originalEndLineNumber;t++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(t),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(r),r}_finalize(e){let t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(46),o=t.get(29),r=n.typicalHalfwidthCharacterWidth,s=t.get(95),a=this._originalModel.mightContainNonBasicASCII(),l=this._originalModel.mightContainRTL(),d=t.get(61),h=t.get(133).decorationsWidth,u=t.get(107),g=t.get(90),m=t.get(85),_=t.get(47),f=this._lineBreaksComputer.finalize(),p=0;for(let t=0;t<this._pendingLineChange.length;t++){let v=this._pendingLineChange[t],C=this._pendingViewZones[t],S=C.domNode;(0,c.N)(S,n);let L=C.marginDomNode;(0,c.N)(L,n);let D=[];if(v.charChanges)for(let e of v.charChanges)eh(e)&&D.push(new I.$t(new b.e(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),"char-delete",0));let N=D.length>0,E=(0,w.l$)(1e4),R=0,x=0,M=null;for(let t=v.originalStartLineNumber;t<=v.originalEndLineNumber;t++){let r=t-v.originalStartLineNumber,s=this._originalModel.tokenization.getLineTokens(t),c=s.getLineContent(),b=f[p++],w=y.Kp.filter(D,t,1,c.length+1);if(b){let f=0;for(let e of b.breakOffsets){let t=s.sliceAndInflate(f,e,0),r=c.substring(f,e);R=Math.max(R,this._renderOriginalLine(x++,r,t,y.Kp.extractWrapped(w,f,e),N,a,l,n,o,d,h,u,g,m,_,i,E,L)),f=e}for(!M&&(M=[]);M.length<r;)M[M.length]=1;M[r]=b.breakOffsets.length,C.heightInLines+=b.breakOffsets.length-1;let p=document.createElement("div");p.className="gutter-delete",e.original.push({afterLineNumber:t,afterColumn:0,heightInLines:b.breakOffsets.length-1,domNode:eu(),marginDomNode:p})}else R=Math.max(R,this._renderOriginalLine(x++,c,s,w,N,a,l,n,o,d,h,u,g,m,_,i,E,L))}R+=s;let O=E.build(),T=Y?Y.createHTML(O):O;if(S.innerHTML=T,C.minWidthInPx=R*r,M){let e=v.originalEndLineNumber-v.originalStartLineNumber;for(;M.length<=e;)M[M.length]=1}C.diff.viewLineCounts=M}e.original.sort((e,t)=>e.afterLineNumber-t.afterLineNumber)}_renderOriginalLine(e,t,i,n,o,r,s,a,l,d,h,u,c,g,m,_,f,v){f.appendASCIIString('<div class="view-line'),!o&&f.appendASCIIString(" char-delete"),f.appendASCIIString('" style="top:'),f.appendASCIIString(String(e*d)),f.appendASCIIString('px;width:1000000px;">');let b=I.wA.isBasicASCII(t,r),w=I.wA.containsRTL(t,b,s),C=(0,N.d1)(new N.IJ(a.isMonospace&&!l,a.canUseHalfwidthRightwardsArrow,t,!1,b,w,0,i,n,_,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,u,c,g,m!==p.n0.OFF,null),f);if(f.appendASCIIString("</div>"),this._renderIndicators){let t=document.createElement("div");t.className=`delete-sign ${T.kS.asClassName(K)}`,t.setAttribute("style",`position:absolute;top:${e*d}px;width:${h}px;height:${d}px;right:0;`),v.appendChild(t)}return C.characterMapping.getHorizontalOffset(C.characterMapping.length)}}function ea(e){return e.modifiedEndLineNumber>0}function el(e){return e.originalEndLineNumber>0}function ed(e){return e.modifiedStartLineNumber===e.modifiedEndLineNumber?e.modifiedEndColumn-e.modifiedStartColumn>0:e.modifiedEndLineNumber-e.modifiedStartLineNumber>0}function eh(e){return e.originalStartLineNumber===e.originalEndLineNumber?e.originalEndColumn-e.originalStartColumn>0:e.originalEndLineNumber-e.originalStartLineNumber>0}function eu(){let e=document.createElement("div");return e.className="diagonal-fill",e}function ec(e,t,i,n){let o=e.getLineCount();return i=Math.min(o,Math.max(1,i)),n=Math.min(o,Math.max(1,n)),t.coordinatesConverter.convertModelRangeToViewRange(new b.e(i,e.getLineMinColumn(i),n,e.getLineMaxColumn(n)))}function eg(e,t){var i,n;return{enableSplitViewResizing:(0,p.O7)(e.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:(0,p.O7)(e.renderSideBySide,t.renderSideBySide),renderMarginRevertIcon:(0,p.O7)(e.renderMarginRevertIcon,t.renderMarginRevertIcon),maxComputationTime:(0,p.Zc)(e.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:(0,p.Zc)(e.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,p.O7)(e.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:(0,p.O7)(e.renderIndicators,t.renderIndicators),originalEditable:(0,p.O7)(e.originalEditable,t.originalEditable),diffCodeLens:(0,p.O7)(e.diffCodeLens,t.diffCodeLens),renderOverviewRuler:(0,p.O7)(e.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:(i=e.diffWordWrap,n=t.diffWordWrap,(0,p.NY)(i,n,["off","on","inherit"]))}}(0,T.Ic)((e,t)=>{let i=e.getColor(O.ypS);i&&t.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`);let n=e.getColor(O.hzo)||i;n&&t.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${n}; }`);let o=e.getColor(O.j51)||n;o&&(t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${o}; }`),t.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${o}; }`));let r=e.getColor(O.P4M);r&&t.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${r}; }`);let s=e.getColor(O.xi6)||r;s&&t.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${s}; }`);let a=e.getColor(O.zOm)||s;a&&(t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${a}; }`),t.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${a}; }`));let l=e.getColor(O.XL$);l&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,Q.c3)(e.type)?"dashed":"solid"} ${l}; }`);let d=e.getColor(O.mHy);d&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,Q.c3)(e.type)?"dashed":"solid"} ${d}; }`);let h=e.getColor(O._wn);h&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${h}; }`);let u=e.getColor(O.LLc);u&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${u}; }`);let c=e.getColor(O.etL);c&&t.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${c};
			}
		`);let g=e.getColor(O.ABB);g&&t.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${g};
			}
		`);let m=e.getColor(O.ynu);m&&t.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${m};
			}
		`);let _=e.getColor(O.L_t);t.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${_} 12.5%,
			#0000 12.5%, #0000 50%,
			${_} 50%, ${_} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})},53891:function(e,t,i){"use strict";i.d(t,{Pe:function(){return m},ei:function(){return g},wk:function(){return d}});var n,o=i("16637"),r=i("55062"),s=i("8339"),a=i("91125"),l=i("18475");let d=Object.freeze({id:"editor",order:5,type:"object",title:s.NC("editorConfigurationTitle","Editor"),scope:5}),h=Object.assign(Object.assign({},d),{properties:{"editor.tabSize":{type:"number",default:r.D.tabSize,minimum:1,markdownDescription:s.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:r.D.insertSpaces,markdownDescription:s.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:r.D.detectIndentation,markdownDescription:s.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:r.D.trimAutoWhitespace,description:s.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:r.D.largeFileOptimizations,description:s.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:s.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[s.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),s.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),s.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:s.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[s.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),s.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),s.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:s.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:s.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:s.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:s.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:s.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:s.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:s.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:s.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:s.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:s.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:s.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:s.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:s.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:s.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:s.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:s.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[s.NC("wordWrap.off","Lines will never wrap."),s.NC("wordWrap.on","Lines will wrap at the viewport width."),s.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});for(let e of o.Bc){let t=e.schema;if(void 0!==t){;if(void 0!==(n=t).type||void 0!==n.anyOf)h.properties[`editor.${e.name}`]=t;else for(let e in t)Object.hasOwnProperty.call(t,e)&&(h.properties[e]=t[e])}}let u=null;function c(){return null===u&&(u=Object.create(null),Object.keys(h.properties).forEach(e=>{u[e]=!0})),u}function g(e){return c()[`editor.${e}`]||!1}function m(e){return c()[`diffEditor.${e}`]||!1}l.B.as(a.IP.Configuration).registerConfiguration(h)},89626:function(e,t,i){"use strict";i.d(t,{i:function(){return o}});var n=i("66763");class o{static _nextVisibleColumn(e,t,i){return 9===e?o.nextRenderTabStop(t,i):n.K7(e)||n.C8(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){let o=Math.min(t-1,e.length),r=e.substring(0,o),s=new n.W1(r),a=0;for(;!s.eol();){let e=n.ZH(r,o,s.offset);s.nextGraphemeLength(),a=this._nextVisibleColumn(e,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;let o=e.length,r=new n.W1(e),s=0,a=1;for(;!r.eol();){let l=n.ZH(e,o,r.offset);r.nextGraphemeLength();let d=this._nextVisibleColumn(l,s,i),h=r.offset+1;if(d>=t){let e=t-s;if(d-t<e)return h;return a}s=d,a=h}return o+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}},4309:function(e,t,i){"use strict";i.d(t,{N:function(){return o},P:function(){return u}});var n,o,r=i("44138"),s=i("7910"),a=i("77287"),l=i("12315"),d=i("57938"),h=i("61045");class u{static addCursorDown(e,t,i){let n=[],o=0;for(let r=0,l=t.length;r<l;r++){let l=t[r];n[o++]=new s.Vi(l.modelState,l.viewState),i?n[o++]=s.Vi.fromModelState(a.o.translateDown(e.cursorConfig,e.model,l.modelState)):n[o++]=s.Vi.fromViewState(a.o.translateDown(e.cursorConfig,e,l.viewState))}return n}static addCursorUp(e,t,i){let n=[],o=0;for(let r=0,l=t.length;r<l;r++){let l=t[r];n[o++]=new s.Vi(l.modelState,l.viewState),i?n[o++]=s.Vi.fromModelState(a.o.translateUp(e.cursorConfig,e.model,l.modelState)):n[o++]=s.Vi.fromViewState(a.o.translateUp(e.cursorConfig,e,l.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o];n[o]=this._moveToLineStart(e,r,i)}return n}static _moveToLineStart(e,t,i){let n=t.viewState.position.column,o=t.modelState.position.column,r=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(r);return n!==o&&n!==s?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return s.Vi.fromViewState(a.o.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return s.Vi.fromModelState(a.o.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let o=[];for(let r=0,s=t.length;r<s;r++){let s=t[r];o[r]=this._moveToLineEnd(e,s,i,n)}return o}static _moveToLineEnd(e,t,i,n){let o=t.viewState.position,r=e.getLineMaxColumn(o.lineNumber),s=o.column===r,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),d=r-o.column==l-a.column;return s||d?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return s.Vi.fromViewState(a.o.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return s.Vi.fromModelState(a.o.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){let o;let r=t[n],a=r.modelState.selection.startLineNumber,l=e.model.getLineCount(),u=r.modelState.selection.endLineNumber;u===l?o=e.model.getLineMaxColumn(l):(u++,o=1),i[n]=s.Vi.fromModelState(new s.rS(new h.e(a,1,a,1),0,new d.L(u,o),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o];n[o]=s.Vi.fromModelState(a.o.moveToBeginningOfBuffer(e.cursorConfig,e.model,r.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o];n[o]=s.Vi.fromModelState(a.o.moveToEndOfBuffer(e.cursorConfig,e.model,r.modelState,i))}return n}static selectAll(e,t){let i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return s.Vi.fromModelState(new s.rS(new h.e(1,1,1,1),0,new d.L(i,n),0))}static line(e,t,i,n,o){let r=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new d.L(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);if(!i||!t.modelState.hasSelection()){let t=e.model.getLineCount(),i=r.lineNumber+1,n=1;return i>t&&(i=t,n=e.model.getLineMaxColumn(i)),s.Vi.fromModelState(new s.rS(new h.e(r.lineNumber,1,i,n),0,new d.L(i,n),0))}let l=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<l)return s.Vi.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(r.lineNumber>l){let i=e.getLineCount(),n=a.lineNumber+1,o=1;return n>i&&(n=i,o=e.getLineMaxColumn(n)),s.Vi.fromViewState(t.viewState.move(t.modelState.hasSelection(),n,o,0))}{let e=t.modelState.selectionStart.getEndPosition();return s.Vi.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,i,n){let o=e.model.validatePosition(n);return s.Vi.fromModelState(l.w.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new s.Vi(t.modelState,t.viewState);let i=t.viewState.position.lineNumber,n=t.viewState.position.column;return s.Vi.fromViewState(new s.rS(new h.e(i,n,i,n),0,new d.L(i,n),0))}static moveTo(e,t,i,n,o){let r=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new d.L(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);return s.Vi.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,n,o,r){switch(i){case 0:if(4===r)return this._moveHalfLineLeft(e,t,n);return this._moveLeft(e,t,n,o);case 1:if(4===r)return this._moveHalfLineRight(e,t,n);return this._moveRight(e,t,n,o);case 2:if(2===r)return this._moveUpByViewLines(e,t,n,o);return this._moveUpByModelLines(e,t,n,o);case 3:if(2===r)return this._moveDownByViewLines(e,t,n,o);return this._moveDownByModelLines(e,t,n,o);case 4:if(2===r)return t.map(t=>s.Vi.fromViewState(a.o.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,n)));return t.map(t=>s.Vi.fromModelState(a.o.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,n)));case 5:if(2===r)return t.map(t=>s.Vi.fromViewState(a.o.moveToNextBlankLine(e.cursorConfig,e,t.viewState,n)));return t.map(t=>s.Vi.fromModelState(a.o.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,n)));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){let r=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(i){case 11:{let i=this._firstLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,r)]}case 13:{let i=this._lastLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,r)]}case 12:{let i=Math.round((s.startLineNumber+s.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 14:{let i=[];for(let o=0,s=t.length;o<s;o++){let s=t[o];i[o]=this.findPositionInViewportIfOutside(e,s,r,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new s.Vi(t.modelState,t.viewState);{let r;r=o>i.endLineNumber-1?i.endLineNumber-1:o<i.startLineNumber?i.startLineNumber:o;let l=a.o.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,r,!1);return s.Vi.fromViewState(t.viewState.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map(t=>s.Vi.fromViewState(a.o.moveLeft(e.cursorConfig,e,t.viewState,i,n)))}static _moveHalfLineLeft(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o],l=r.viewState.position.lineNumber,d=Math.round(e.getLineContent(l).length/2);n[o]=s.Vi.fromViewState(a.o.moveLeft(e.cursorConfig,e,r.viewState,i,d))}return n}static _moveRight(e,t,i,n){return t.map(t=>s.Vi.fromViewState(a.o.moveRight(e.cursorConfig,e,t.viewState,i,n)))}static _moveHalfLineRight(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o],l=r.viewState.position.lineNumber,d=Math.round(e.getLineContent(l).length/2);n[o]=s.Vi.fromViewState(a.o.moveRight(e.cursorConfig,e,r.viewState,i,d))}return n}static _moveDownByViewLines(e,t,i,n){let o=[];for(let r=0,l=t.length;r<l;r++){let l=t[r];o[r]=s.Vi.fromViewState(a.o.moveDown(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){let o=[];for(let r=0,l=t.length;r<l;r++){let l=t[r];o[r]=s.Vi.fromModelState(a.o.moveDown(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){let o=[];for(let r=0,l=t.length;r<l;r++){let l=t[r];o[r]=s.Vi.fromViewState(a.o.moveUp(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){let o=[];for(let r=0,l=t.length;r<l;r++){let l=t[r];o[r]=s.Vi.fromModelState(a.o.moveUp(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return s.Vi.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return s.Vi.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o],s=r.viewState.position.lineNumber,a=e.getLineMinColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o],s=r.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o],s=r.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o],s=r.viewState.position.lineNumber,a=e.getLineMaxColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){let r=t[o],s=r.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}}(n=o||(o={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:function(e){return!!r.Kn(e)&&(!!(r.HD(e.to)&&(r.o8(e.select)||r.jn(e.select))&&(r.o8(e.by)||r.HD(e.by))&&(r.o8(e.value)||r.hj(e.value)))||!1)},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},n.parse=function(e){let t;if(!e.to)return null;switch(e.to){case n.RawDirection.Left:t=0;break;case n.RawDirection.Right:t=1;break;case n.RawDirection.Up:t=2;break;case n.RawDirection.Down:t=3;break;case n.RawDirection.PrevBlankLine:t=4;break;case n.RawDirection.NextBlankLine:t=5;break;case n.RawDirection.WrappedLineStart:t=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case n.RawDirection.WrappedLineColumnCenter:t=8;break;case n.RawDirection.WrappedLineEnd:t=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case n.RawDirection.ViewPortTop:t=11;break;case n.RawDirection.ViewPortBottom:t=13;break;case n.RawDirection.ViewPortCenter:t=12;break;case n.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let i=0;switch(e.by){case n.RawUnit.Line:i=1;break;case n.RawUnit.WrappedLine:i=2;break;case n.RawUnit.Character:i=3;break;case n.RawUnit.HalfLine:i=4}return{direction:t,unit:i,select:!!e.select,value:e.value||1}}},49286:function(e,t,i){"use strict";var n,o;i.d(t,{V6:function(){return r},c$:function(){return s},wU:function(){return n}}),(o=n||(n={}))[o.None=0]="None",o[o.Indent=1]="Indent",o[o.IndentOutdent=2]="IndentOutdent",o[o.Outdent=3]="Outdent";class r{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;let i=e.findTokenIndexAtOffset(t-2),n=e.getStandardTokenType(i);return this.isOK(n)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){let e=String.fromCharCode(i);if(!this.open.includes(e)&&!this.close.includes(e))return e}return null}findNeutralCharacter(){return!this._neutralCharacterSearched&&(this._neutralCharacterSearched=!0,!this._neutralCharacter&&(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),!this._neutralCharacter&&(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),!this._neutralCharacter&&(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class s{constructor(e){for(let t of(this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map,e))a(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),a(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),a(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),a(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&a(this.autoClosingPairsCloseSingleChar,t.close,t)}}function a(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}},43972:function(e,t,i){"use strict";i.d(t,{Dy:function(){return s},Ri:function(){return r},TJ:function(){return o}});var n=i("74854");let o=new class{clone(){return this}equals(e){return this===e}};function r(e,t){return new n.hG([new n.WU(0,"",e)],t)}function s(e,t){let i=new Uint32Array(2);return i[0]=0,i[1]=(e<<0|33587200)>>>0,new n.DI(i,null===t?o:t)}},68530:function(e,t,i){"use strict";i.d(t,{ky:function(){return b}});var n=i("60012"),o=i("7875"),r=i("38505"),s=i("57938"),a=i("61045"),l=i("43349"),d=i("80859"),h=i("80553"),u=i("15984"),c=i("72942"),g=i("21401"),m=i("44138"),_=i("30039"),f=i("32288"),p=function(e,t,i,n){return new(i||(i=Promise))(function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};class v extends d.v{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=(0,h.t2)(e.column,(0,h.eq)(t),this._lines[e.lineNumber-1],0);return i?new a.e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){let t=this._lines,i=this._wordenize.bind(this),n=0,o="",r=0,s=[];return{*[Symbol.iterator](){for(;;)if(r<s.length){let e=o.substring(s[r].start,s[r].end);r+=1,yield e}else if(n<t.length)s=i(o=t[n],e),r=0,n+=1;else break}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(let e of n)o.push({word:i.substring(e.start,e.end),startColumn:e.start+1,endColumn:e.end+1});return o}_wordenize(e,t){let i;let n=[];for(t.lastIndex=0;(i=t.exec(e))&&0!==i[0].length;){;n.push({start:i.index,end:i.index+i[0].length})}return n}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let e=i+1;e<n;e++)o.push(this._lines[e]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.max(0,e=Math.floor(e)),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){let t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!s.L.isIPosition(e))throw Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class b{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new v(r.o.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!!this._models[e])this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeUnicodeHighlights(e,t,i){return p(this,void 0,void 0,function*(){let n=this._getModel(e);return n?f.a.computeUnicodeHighlights(n,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(e,t,i,n){return p(this,void 0,void 0,function*(){let o=this._getModel(e),r=this._getModel(t);return o&&r?b.computeDiff(o,r,i,n):null})}static computeDiff(e,t,i,n){let o=e.getLinesContent(),r=t.getLinesContent(),s=new l.g(o,r,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),a=!(s.changes.length>0)&&this._modelsAreIdentical(e,t);return{quitEarly:s.quitEarly,identical:a,changes:s.changes}}static _modelsAreIdentical(e,t){let i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++){let i=e.getLineContent(n);if(i!==t.getLineContent(n))return!1}return!0}computeMoreMinimalEdits(e,t){return p(this,void 0,void 0,function*(){let i,o=this._getModel(e);if(!o)return t;let r=[];for(let{range:e,text:s,eol:l}of t=t.slice(0).sort((e,t)=>{if(e.range&&t.range)return a.e.compareRangesUsingStarts(e.range,t.range);let i=e.range?0:1;return i-(t.range?0:1)})){if("number"==typeof l&&(i=l),a.e.isEmpty(e)&&!s)continue;let t=o.getValueInRange(e);if(t===(s=s.replace(/\r\n|\n|\r/g,o.eol)))continue;if(Math.max(s.length,t.length)>b._diffLimit){r.push({range:e,text:s});continue}let d=(0,n.a$)(t,s,!1),h=o.offsetAt(a.e.lift(e).getStartPosition());for(let e of d){let t=o.positionAt(h+e.originalStart),i=o.positionAt(h+e.originalStart+e.originalLength),n={text:s.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}};o.getValueInRange(n.range)!==n.text&&r.push(n)}}return"number"==typeof i&&r.push({eol:i,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),r})}computeLinks(e){return p(this,void 0,void 0,function*(){let t=this._getModel(e);return t?(0,u.E)(t):null})}textualSuggest(e,t,i,n){return p(this,void 0,void 0,function*(){let o=new _.G(!0),r=new RegExp(i,n),s=new Set;e:for(let i of e){let e=this._getModel(i);if(e){for(let i of e.words(r))if(i!==t&&isNaN(Number(i))&&(s.add(i),s.size>b._suggestionsLimit))break e}}return{words:Array.from(s),duration:o.elapsed()}})}computeWordRanges(e,t,i,n){return p(this,void 0,void 0,function*(){let o=this._getModel(e);if(!o)return Object.create(null);let r=new RegExp(i,n),s=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++)for(let t of o.getLineWords(e,r)){if(!isNaN(Number(t.word)))continue;let i=s[t.word];!i&&(i=[],s[t.word]=i),i.push({startLineNumber:e,startColumn:t.startColumn,endLineNumber:e,endColumn:t.endColumn})}return s})}navigateValueSet(e,t,i,n,o){return p(this,void 0,void 0,function*(){let r=this._getModel(e);if(!r)return null;let s=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=r.getValueInRange(t),l=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);if(!l)return null;let d=r.getValueInRange(l);return c.J.INSTANCE.navigateValueSet(t,a,l,d,i)})}loadForeignModule(e,t,i){let n=m.IU(i,(e,t)=>this._host.fhr(e,t));return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory({host:n,getMirrorModels:()=>this._getModels()},t),Promise.resolve(m.$E(this._foreignModule))):Promise.reject(Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return Promise.reject(e)}}}b._diffLimit=1e5,b._suggestionsLimit=1e4,"function"==typeof importScripts&&(o.li.monaco=(0,g.O)())},16959:function(e,t,i){"use strict";i.d(t,{t:function(){return m}});var n=i("61111"),o=i("16904"),r=i("19527"),s=i("66763"),a=i("20767"),l=i("95394"),d=i("91125"),h=i("18475");let u=Object.prototype.hasOwnProperty,c="vs.editor.nullLanguage";class g{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(c,0),this._register(l.bd,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;let t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||c}}class m extends r.JT{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new o.Q5),this.onDidChange=this._onDidChange.event,m.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new g,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(l.dQ.onDidChangeLanguages(e=>{this._initializeFromRegistry()})))}dispose(){m.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,a.UU)();let e=[].concat(l.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(let t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),h.B.as(d.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){let t;let i=e.id;u.call(this._languages,i)?t=this._languages[i]:(this.languageIdCodec.register(i),t={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[i]=t),this._mergeLanguage(t,e)}_mergeLanguage(e,t){let i=t.id,o=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),o=t.mimetypes[0]),!o&&(o=`text/x-${i}`,e.mimetypes.push(o)),Array.isArray(t.extensions))for(let n of(t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions),t.extensions))(0,a.Jw)({id:i,mime:o,extension:n},this._warnOnOverwrite);if(Array.isArray(t.filenames))for(let n of t.filenames)(0,a.Jw)({id:i,mime:o,filename:n},this._warnOnOverwrite),e.filenames.push(n);if(Array.isArray(t.filenamePatterns))for(let e of t.filenamePatterns)(0,a.Jw)({id:i,mime:o,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);!(0,s.IO)(t)&&(0,a.Jw)({id:i,mime:o,firstline:t},this._warnOnOverwrite)}catch(e){(0,n.dL)(e)}}e.aliases.push(i);let r=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(let t of r)t&&0!==t.length&&e.aliases.push(t);let l=null!==r&&r.length>0;if(l&&null===r[0]);else{let t=(l?r[0]:null)||i;(l||!e.name)&&(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&u.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){let t=e.toLowerCase();return u.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e?u.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?(0,a.ST)(e,t):[]}}m.instanceCount=0},42454:function(e,t,i){"use strict";i.d(t,{L:function(){return u}});var n=i("16904"),o=i("19527"),r=i("12868"),s=i("32432"),a=i("38643"),l=i("14322");class d{constructor(e,t,i,n){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class h extends o.JT{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new n.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new d(0,0,0,0),this._scrollable=this._register(new r.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;let t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);let i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new l.zf(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class u extends o.JT{constructor(e,t,i){super(),this._configuration=e;let n=this._configuration.options,o=n.get(133),r=n.get(77);this._linesLayout=new s.z(t,n.get(61),r.top,r.bottom),this._scrollable=this._register(new h(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new d(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?125:0)}onConfigurationChanged(e){let t=this._configuration.options;if(e.hasChanged(61)&&this._linesLayout.setLineHeight(t.get(61)),e.hasChanged(77)){let e=t.get(77);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(133)){let e=t.get(133),i=e.contentWidth,n=e.height,o=this._scrollable.getScrollDimensions(),r=o.contentWidth;this._scrollable.setScrollDimensions(new d(i,o.contentWidth,n,this._getContentHeight(i,n,r)))}else this._updateHeight();e.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){let i=this._configuration.options.get(94);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){let n=this._configuration.options,o=this._linesLayout.getLinesTotalHeight();return n.get(96)?o+=Math.max(0,t-n.get(61)-n.get(77).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){let e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new d(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){let e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new a.l_(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){let e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new a.l_(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){let t=this._configuration.options,i=t.get(134),n=t.get(46),o=t.get(133);if(i.isViewportWrapping){let i=t.get(67);return e>o.contentWidth+n.typicalHalfwidthCharacterWidth&&i.enabled&&"right"===i.side?e+o.verticalScrollbarWidth:e}{let i=t.get(95)*n.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i+o.verticalScrollbarWidth,r)}}setMaxLineWidth(e){let t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new d(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){let e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){let t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){let e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){let t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){let e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){let i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}},74819:function(e,t,i){"use strict";i.d(t,{K:function(){return a}});var n=i("88398"),o=i("57938"),r=i("61045"),s=i("61065");class a{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;let n=t.length;if(i+n>e.length)return!1;for(let o=0;o<n;o++){let n=e.charCodeAt(i+o),r=t.charCodeAt(o);if(n!==r&&(!(n>=65)||!(n<=90)||n+32!==r)){if(!(r>=65)||!(r<=90)||r+32!==n)return!1}}return!0}_createOperationsForBlockComment(e,t,i,n,o,s){let l;let d=e.startLineNumber,h=e.startColumn,u=e.endLineNumber,c=e.endColumn,g=o.getLineContent(d),m=o.getLineContent(u),_=g.lastIndexOf(t,h-1+t.length),f=m.indexOf(i,c-1-i.length);if(-1!==_&&-1!==f){if(d===u)g.substring(_+t.length,f).indexOf(i)>=0&&(_=-1,f=-1);else{let e=g.substring(_+t.length),n=m.substring(0,f);(e.indexOf(i)>=0||n.indexOf(i)>=0)&&(_=-1,f=-1)}}for(let o of(-1!==_&&-1!==f?(n&&_+t.length<g.length&&32===g.charCodeAt(_+t.length)&&(t+=" "),n&&f>0&&32===m.charCodeAt(f-1)&&(i=" "+i,f-=1),l=a._createRemoveBlockCommentOperations(new r.e(d,_+t.length+1,u,f+1),t,i)):(l=a._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===l.length?i:null),l))s.addTrackedEditOperation(o.range,o.text)}static _createRemoveBlockCommentOperations(e,t,i){let o=[];return r.e.isEmpty(e)?o.push(n.h.delete(new r.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(o.push(n.h.delete(new r.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),o.push(n.h.delete(new r.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),o}static _createAddBlockCommentOperations(e,t,i,s){let a=[];return r.e.isEmpty(e)?a.push(n.h.replace(new r.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(a.push(n.h.insert(new o.L(e.startLineNumber,e.startColumn),t+(s?" ":""))),a.push(n.h.insert(new o.L(e.endLineNumber,e.endColumn),(s?" ":"")+i))),a}getEditOperations(e,t){let i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);let o=e.getLanguageIdAtPosition(i,n),r=this.languageConfigurationService.getLanguageConfiguration(o).comments;r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){let i=t.getInverseEditOperations();if(2===i.length){let e=i[0],t=i[1];return new s.Y(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{let e=i[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new s.Y(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}},29114:function(e,t,i){"use strict";i.d(t,{o:function(){return d}});var n=i("66763"),o=i("88398"),r=i("57938"),s=i("61045"),a=i("61065"),l=i("74819");class d{constructor(e,t,i,n,o,r,s){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=n,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(e,t,i,n){e.tokenization.tokenizeIfCheap(t);let o=e.getLanguageIdAtPosition(t,1),r=n.getLanguageConfiguration(o).comments,s=r?r.lineCommentToken:null;if(!s)return null;let a=[];for(let e=0,n=i-t+1;e<n;e++)a[e]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return a}static _analyzeLines(e,t,i,o,r,s,a,d){let h,u=!0;h=0===e||1!==e&&!0;for(let d=0,c=o.length;d<c;d++){let c=o[d],g=r+d;if(g===r&&a){c.ignore=!0;continue}let m=i.getLineContent(g),_=n.LC(m);if(-1===_){c.ignore=s,c.commentStrOffset=m.length;continue}if(u=!1,c.ignore=!1,c.commentStrOffset=_,h&&!l.K._haystackHasNeedleAtOffset(m,c.commentStr,_)&&(0===e?h=!1:1===e||(c.ignore=!0)),h&&t){let e=_+c.commentStrLength;e<m.length&&32===m.charCodeAt(e)&&(c.commentStrLength+=1)}}if(0===e&&u){h=!1;for(let e=0,t=o.length;e<t;e++)o[e].ignore=!1}return{supported:!0,shouldRemoveComments:h,lines:o}}static _gatherPreflightData(e,t,i,n,o,r,s,a){let l=d._gatherPreflightCommentStrings(i,n,o,a);return null===l?{supported:!1}:d._analyzeLines(e,t,i,l,n,r,s,a)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=d._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(d._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));let a=new r.L(n.positionLineNumber,n.positionColumn);for(let i=0,n=o.length;i<n;i++)t.addEditOperation(o[i].range,o[i].text),s.e.isEmpty(o[i].range)&&s.e.getStartPosition(o[i].range).equals(a)&&e.getLineContent(a.lineNumber).length+1===a.column&&(this._deltaColumn=(o[i].text||"").length);this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,r=t.endLineNumber,a=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),d=e.getLineContent(o).lastIndexOf(i,a-1),h=e.getLineContent(r).indexOf(n,t.endColumn-1-i.length);return(-1!==d&&-1===h&&(h=e.getLineContent(o).indexOf(n,d+i.length),r=o),-1===d&&-1!==h&&(d=e.getLineContent(r).lastIndexOf(i,h),o=r),t.isEmpty()&&(-1===d||-1===h)&&-1!==(d=e.getLineContent(o).indexOf(i))&&(h=e.getLineContent(o).indexOf(n,d+i.length)),-1!==d&&32===e.getLineContent(o).charCodeAt(d+i.length)&&(i+=" "),-1!==h&&32===e.getLineContent(r).charCodeAt(h-1)&&(n=" "+n,h-=1),-1!==d&&-1!==h)?l.K._createRemoveBlockCommentOperations(new s.e(o,d+i.length+1,r,h+1),i,n):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);let o=e.getLanguageIdAtPosition(i.startLineNumber,1),r=this.languageConfigurationService.getLanguageConfiguration(o).comments;if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;let a=r.blockCommentStartToken,d=r.blockCommentEndToken,h=this._attemptRemoveBlockComment(e,i,a,d);if(!h){if(i.isEmpty()){let t=e.getLineContent(i.startLineNumber),o=n.LC(t);-1===o&&(o=t.length),h=l.K._createAddBlockCommentOperations(new s.e(i.startLineNumber,o+1,i.startLineNumber,t.length+1),a,d,this._insertSpace)}else h=l.K._createAddBlockCommentOperations(new s.e(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),a,d,this._insertSpace);1===h.length&&(this._deltaColumn=a.length+1)}for(let e of(this._selectionId=t.trackSelection(i),h))t.addEditOperation(e.range,e.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new s.e(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":"\n"),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=d._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new a.Y(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];!r.ignore&&i.push(o.h.delete(new s.e(t+n,r.commentStrOffset+1,t+n,r.commentStrOffset+r.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[],n=this._insertSpace?" ":"";for(let s=0,a=e.length;s<a;s++){let a=e[s];!a.ignore&&i.push(o.h.insert(new r.L(t+s,a.commentStrOffset+1),a.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o,r,s=1073741824;for(let o=0,r=t.length;o<r;o++){if(t[o].ignore)continue;let r=e.getLineContent(i+o),a=0;for(let e=0,i=t[o].commentStrOffset;a<s&&e<i;e++)a=d.nextVisibleColumn(a,n,9===r.charCodeAt(e),1);a<s&&(s=a)}s=Math.floor(s/n)*n;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;let l=e.getLineContent(i+a),h=0;for(o=0,r=t[a].commentStrOffset;h<s&&o<r;o++)h=d.nextVisibleColumn(h,n,9===l.charCodeAt(o),1);h>s?t[a].commentStrOffset=o-1:t[a].commentStrOffset=o}}}},65761:function(e,t,i){"use strict";i.d(t,{MN:function(){return r},Xl:function(){return n}});let n=16777215;class o{constructor(e){this._states=new Uint32Array(Math.ceil(e/32))}get(e){return(this._states[e/32|0]&1<<e%32)!=0}set(e,t){let i=e/32|0,n=e%32,o=this._states[i];t?this._states[i]=o|1<<n:this._states[i]=o&~(1<<n)}}class r{constructor(e,t,i){if(this.sourceAbbr={0:" ",1:"u",2:"r"},e.length!==t.length||e.length>65535)throw Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new o(e.length),this._userDefinedStates=new o(e.length),this._recoveredStates=new o(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(t,i)=>{let n=e[e.length-1];return this.getStartLineNumber(n)<=t&&this.getEndLineNumber(n)>=i};for(let i=0,o=this._startIndexes.length;i<o;i++){let o=this._startIndexes[i],r=this._endIndexes[i];if(o>n||r>n)throw Error("startLineNumber or endLineNumber must not exceed "+n);for(;e.length>0&&!t(o,r);)e.pop();let s=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((255&s)<<24),this._endIndexes[i]=r+((65280&s)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&n}getEndLineNumber(e){return this._endIndexes[e]&n}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){1===t?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):2===t?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new s(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((4278190080&this._startIndexes[e])>>>24)+((4278190080&this._endIndexes[e])>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return -1;for(;t<i;){let n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return -1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.sourceAbbr[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&n,endLineNumber:this._endIndexes[e]&n,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){let t=e.length,i=new Uint32Array(t),n=new Uint32Array(t),o=[],s=!1;for(let r=0;r<t;r++){let t=e[r];i[r]=t.startLineNumber,n[r]=t.endLineNumber,o.push(t.type),t.type&&(s=!0)}!s&&(o=void 0);let a=new r(i,n,o);for(let i=0;i<t;i++)e[i].isCollapsed&&a.setCollapsed(i,!0),a.setSource(i,e[i].source);return a}static sanitizeAndMerge(e,t,i){let n;i=null!=i?i:Number.MAX_VALUE;let o=(e,t)=>Array.isArray(e)?i=>i<t?e[i]:void 0:i=>i<t?e.toFoldRange(i):void 0,r=o(e,e.length),s=o(t,t.length),a=0,l=0,d=r(0),h=s(0),u=[],c=0,g=[];for(;d||h;){let e;if(h&&(!d||d.startLineNumber>=h.startLineNumber))d&&d.startLineNumber===h.startLineNumber?(1===h.source?e=h:((e=d).isCollapsed=h.isCollapsed&&d.endLineNumber===h.endLineNumber,e.source=0),d=r(++a)):(e=h,h.isCollapsed&&0===h.source&&(e.source=2)),h=s(++l);else{let t=l,i=h;for(;;){if(!i||i.startLineNumber>d.endLineNumber){e=d;break}if(1===i.source&&i.endLineNumber>d.endLineNumber)break;i=s(++t)}d=r(++a)}if(e){for(;n&&n.endLineNumber<e.startLineNumber;)n=u.pop();e.endLineNumber>e.startLineNumber&&e.startLineNumber>c&&e.endLineNumber<=i&&(!n||n.endLineNumber>=e.endLineNumber)&&(g.push(e),c=e.startLineNumber,n&&u.push(n),n=e)}}return g}}class s{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}},21247:function(e,t,i){"use strict";i.d(t,{H:function(){return d}});var n=i("67518"),o=i("61111"),r=i("16904"),s=i("19527"),a=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,o){(function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)})(n,o,(t=e[i](t)).done,t.value)})}}};class l{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}}class d extends s.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new r.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new n.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new n.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new n.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,n.zS)(e=>this._computer.computeAsync(e)),(()=>{var e,t,i,n;return e=this,t=void 0,i=void 0,n=function*(){var e,t;try{try{for(var i,n=a(this._asyncIterable);!(i=yield n.next()).done;){let e=i.value;e&&(this._result.push(e),this._fireResult())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(e){(0,o.dL)(e)}},new(i||(i=Promise))(function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;let e=0===this._state,t=4===this._state;this._onResult.fire(new l(this._result.slice(0),e,t))}start(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}},84498:function(e,t,i){"use strict";var n,o,r=i("67518"),s=i("61111"),a=i("20084"),l=i("59923"),d=i("61045"),h=i("61065"),u=i("76617"),c=i("99599"),g=i("73835"),m=i("26939"),_=i("8339"),f=i("39703"),p=i("15822");let v=class e{constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();let n=this.editor.getSelection(),o=this.editor.getModel();if(!o||!n)return;let l=n;if(l.startLineNumber!==l.endLineNumber)return;let u=new a.yy(this.editor,5),c=o.uri;return this.editorWorkerService.canNavigateValueSet(c)?(this.currentRequest=(0,r.PG)(e=>this.editorWorkerService.navigateValueSet(c,l,i)),this.currentRequest.then(i=>{if(!i||!i.range||!i.value||!u.validate(this.editor))return;let n=d.e.lift(i.range),o=i.range,a=i.value.length-(l.endColumn-l.startColumn);o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.startColumn+i.value.length},a>1&&(l=new h.Y(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+a-1));let c=new p.I(n,l,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,c),this.editor.pushUndoStop(),this.decorations.set([{range:o,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,r.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(s.dL)}).catch(s.dL)):Promise.resolve(void 0)}};v.ID="editor.contrib.inPlaceReplaceController",v.DECORATION=c.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),v=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([(n=1,o=g.p,function(e,t){o(e,t,1)})],v);class b extends l.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:_.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:3154,weight:100}})}run(e,t){let i=v.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class w extends l.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:_.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:3156,weight:100}})}run(e,t){let i=v.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}(0,l._K)(v.ID,v),(0,l.Qr)(b),(0,l.Qr)(w),(0,f.Ic)((e,t)=>{let i=e.getColor(m.Dl);i&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${i}; }`)})},79906:function(e,t,i){"use strict";i.d(t,{S:function(){return m}});var n,o,r=i("66763"),s=i("39379"),a=i("61045"),l=i("61065"),d=i("49286"),h=i("62785"),u=i("78261"),c=i("45477"),g=i("79125");let m=class{constructor(e,t,i,n){this._languageConfigurationService=n,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i||!this._isMovingDown&&1===this._selection.startLineNumber){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let{tabSize:o,indentSize:s,insertSpaces:d}=e.getOptions(),h=this.buildIndentConverter(o,s,d),g={tokenization:{getLineTokens:t=>e.tokenization.getLineTokens(t),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i)},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){let i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new a.e(1,1,1,1),null):(t.addEditOperation(new a.e(i,1,i,1),e.getLineContent(o)),t.addEditOperation(new a.e(o,1,o,e.getLineMaxColumn(o)),null)),n=new l.Y(o,1,o,1)}else{let i,s;if(this._isMovingDown){i=n.endLineNumber+1,s=e.getLineContent(i),t.addEditOperation(new a.e(i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let l=s;if(this.shouldAutoIndent(e,n)){let m=this.matchEnterRule(e,h,o,i,n.startLineNumber-1);if(null!==m){let t=r.V8(e.getLineContent(i)),n=m+u.Y(t,o);l=u.J(n,o,d)+this.trimLeft(s)}else{g.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);let t=(0,c.n8)(this._autoIndent,g,e.getLanguageIdAtPosition(i,1),n.startLineNumber,h,this._languageConfigurationService);if(null!==t){let n=r.V8(e.getLineContent(i)),a=u.Y(t,o);a!==u.Y(n,o)&&(l=u.J(a,o,d)+this.trimLeft(s))}}t.addEditOperation(new a.e(n.startLineNumber,1,n.startLineNumber,1),l+"\n");let _=this.matchEnterRuleMovingDown(e,h,o,n.startLineNumber,i,l);if(null!==_)0!==_&&this.getIndentEditsOfMovingBlock(e,t,n,o,d,_);else{g.getLineContent=t=>t===n.startLineNumber?l:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let s=(0,c.n8)(this._autoIndent,g,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,h,this._languageConfigurationService);if(null!==s){let i=r.V8(e.getLineContent(n.startLineNumber)),a=u.Y(s,o),l=u.Y(i,o);a!==l&&this.getIndentEditsOfMovingBlock(e,t,n,o,d,a-l)}}}else t.addEditOperation(new a.e(n.startLineNumber,1,n.startLineNumber,1),l+"\n")}else if(i=n.startLineNumber-1,s=e.getLineContent(i),t.addEditOperation(new a.e(i,1,i+1,1),null),t.addEditOperation(new a.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this.shouldAutoIndent(e,n)){g.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);let s=this.matchEnterRule(e,h,o,n.startLineNumber,n.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,n,o,d,s);else{let s=(0,c.n8)(this._autoIndent,g,e.getLanguageIdAtPosition(n.startLineNumber,1),i,h,this._languageConfigurationService);if(null!==s){let i=r.V8(e.getLineContent(n.startLineNumber)),a=u.Y(s,o),l=u.Y(i,o);a!==l&&this.getIndentEditsOfMovingBlock(e,t,n,o,d,a-l)}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>s.U.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>s.U.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let s=o.indentation;o.indentAction===d.wU.None?s=o.indentation+o.appendText:o.indentAction===d.wU.Indent?s=o.indentation+o.appendText:o.indentAction===d.wU.IndentOutdent?s=o.indentation:o.indentAction===d.wU.Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);let a=e.getLineContent(n);if(this.trimLeft(a).indexOf(this.trimLeft(s))>=0){let o=r.V8(e.getLineContent(n)),a=r.V8(s),l=(0,c.tI)(e,n,this._languageConfigurationService);null!==l&&2&l&&(a=t.unshiftIndent(a));let d=u.Y(a,i);return d-u.Y(o,i)}}return null}matchEnterRuleMovingDown(e,t,i,n,o,s){if(r.ow(s)>=0){let r=e.getLineMaxColumn(o),s=(0,g.A)(this._autoIndent,e,new a.e(o,r,o,r),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,s)}{let o=n-1;for(;o>=1;){let t=e.getLineContent(o);if(r.ow(t)>=0)break;o--}if(o<1||n>e.getLineCount())return null;let s=e.getLineMaxColumn(o),l=(0,g.A)(this._autoIndent,e,new a.e(o,s,o,s),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,l)}}matchEnterRule(e,t,i,n,o,s){let l=o;for(;l>=1;){let t;if(t=l===o&&void 0!==s?s:e.getLineContent(l),r.ow(t)>=0)break;l--}if(l<1||n>e.getLineCount())return null;let d=e.getLineMaxColumn(l),h=(0,g.A)(this._autoIndent,e,new a.e(l,d,l,d),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,h)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1);return i===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport&&!0}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let l=i.startLineNumber;l<=i.endLineNumber;l++){let d=e.getLineContent(l),h=r.V8(d),c=u.Y(h,n)+s,g=u.J(c,n,o);g!==h&&(t.addEditOperation(new a.e(l,1,l,h.length+1),g),l===i.endLineNumber&&i.endColumn<=h.length+1&&""===g&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};m=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([(n=3,o=h.c_,function(e,t){o(e,t,3)})],m)},23638:function(e,t,i){"use strict";var n=i("67518"),o=i("71628"),r=i("70691"),s=i("19527"),a=i("7875"),l=i("66763");i("53156");var d=i("59923"),h=i("16637"),u=i("99599"),c=i("32288"),g=i("73835"),m=i("10870"),_=i("63636"),f=i("88936"),p=i("43048"),v=i("53142"),b=i("8339"),w=i("53861"),C=i("6301"),S=i("80204"),L=i("79895"),D=i("38842"),y=i("62153"),N=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},I=function(e,t){return function(i,n){t(i,n,e)}},E=function(e,t,i,n){return new(i||(i=Promise))(function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let R=(0,D.q5)("extensions-warning-message",o.lA.warning,b.NC("warningIcon","Icon shown with a warning message in the extensions editor.")),x=class extends s.JT{constructor(e,t,i,n){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=e=>{if(e&&e.hasMore){let t;if(this._bannerClosed)return;let i=Math.max(e.ambiguousCharacterCount,e.nonBasicAsciiCharacterCount,e.invisibleCharacterCount);if(e.nonBasicAsciiCharacterCount>=i)t={message:b.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new B};else if(e.ambiguousCharacterCount>=i)t={message:b.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new F};else if(e.invisibleCharacterCount>=i)t={message:b.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new H};else throw Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:t.message,icon:R,actions:[{label:t.command.shortLabel,href:`command:${t.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(n.createInstance(v.Q,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(115),this._register(i.onDidChangeTrust(e=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(115)&&(this._options=e.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;let e=function(e,t){return{nonBasicASCII:t.nonBasicASCII===h.Av?!e:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===h.Av?!e:t.includeComments,includeStrings:t.includeStrings===h.Av?!e:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(e=>!1===e))return;let t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(e=>e.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(e=>"_os"===e?new Intl.NumberFormat().resolvedOptions().locale:"_vscode"===e?a.dK:e)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new M(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new O(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};x.ID="editor.contrib.unicodeHighlighter",x=N([I(1,g.p),I(2,y.Y),I(3,C.TG)],x);let M=class extends s.JT{constructor(e,t,i,o){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new n.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}let e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);let i=[];if(!t.hasMore)for(let e of t.ranges)i.push({range:e,options:W.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;let t=this._editor.getModel();return(0,_.Fd)(t,e)?{reason:k(t.getValueInRange(e.range),this._options),inComment:(0,_.$t)(t,e),inString:(0,_.zg)(t,e)}:null}};M=N([I(3,g.p)],M);class O extends s.JT{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new n.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}let e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let t of e){let e=c.a.computeUnicodeHighlights(this._model,this._options,t);for(let t of e.ranges)i.ranges.push(t);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||e.hasMore}if(!i.hasMore)for(let e of i.ranges)t.push({range:e,options:W.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;let t=this._editor.getModel(),i=t.getValueInRange(e.range);return(0,_.Fd)(t,e)?{reason:k(i,this._options),inComment:(0,_.$t)(t,e),inString:(0,_.zg)(t,e)}:null}}let T=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=4}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];let i=this._editor.getModel(),n=this._editor.getContribution(x.ID);if(!n)return[];let o=[],s=300;for(let e of t){let t;let a=n.getDecorationInfo(e);if(!a)continue;let l=i.getValueInRange(e.range).codePointAt(0),d=V(l);switch(a.reason.kind){case 0:t=b.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",d,V(a.reason.confusableWith.codePointAt(0)));break;case 1:t=b.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",d);break;case 2:t=b.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",d)}let h={codePoint:l,reason:a.reason,inComment:a.inComment,inString:a.inString},u=b.NC("unicodeHighlight.adjustSettings","Adjust settings"),c=`command:${U.ID}?${encodeURIComponent(JSON.stringify(h))}`,g=new r.W5("",!0).appendMarkdown(t).appendText(" ").appendLink(c,u);o.push(new p.hU(this,e.range,[g],s++))}return o}renderHoverParts(e,t){return(0,p.c)(e,t,this._editor,this._languageService,this._openerService)}};function P(e){return`U+${e.toString(16).padStart(4,"0")}`}function V(e){let t=`\`${P(e)}\``;return!l.vU.isInvisibleCharacter(e)&&(t+=` "${function(e){return 96===e?"`` ` ``":"`"+String.fromCodePoint(e)+"`"}(e)}"`),t}T=N([I(1,m.O),I(2,S.v4)],T);function k(e,t){return c.a.computeUnicodeHighlightReason(e,t)}class W{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){let i=`${e}${t}`,n=this.map.get(i);return!n&&(n=u.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,n)),n}}W.instance=new W;class A extends d.R6{constructor(){super({id:F.ID,label:b.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=b.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,i){return E(this,void 0,void 0,function*(){let t=null==e?void 0:e.get(w.Ui);t&&this.runAction(t)})}runAction(e){return E(this,void 0,void 0,function*(){yield e.updateValue(h.qt.includeComments,!1,2)})}}class z extends d.R6{constructor(){super({id:F.ID,label:b.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=b.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,i){return E(this,void 0,void 0,function*(){let t=null==e?void 0:e.get(w.Ui);t&&this.runAction(t)})}runAction(e){return E(this,void 0,void 0,function*(){yield e.updateValue(h.qt.includeStrings,!1,2)})}}class F extends d.R6{constructor(){super({id:F.ID,label:b.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=b.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return E(this,void 0,void 0,function*(){let t=null==e?void 0:e.get(w.Ui);t&&this.runAction(t)})}runAction(e){return E(this,void 0,void 0,function*(){yield e.updateValue(h.qt.ambiguousCharacters,!1,2)})}}F.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class H extends d.R6{constructor(){super({id:H.ID,label:b.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=b.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return E(this,void 0,void 0,function*(){let t=null==e?void 0:e.get(w.Ui);t&&this.runAction(t)})}runAction(e){return E(this,void 0,void 0,function*(){yield e.updateValue(h.qt.invisibleCharacters,!1,2)})}}H.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class B extends d.R6{constructor(){super({id:B.ID,label:b.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=b.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return E(this,void 0,void 0,function*(){let t=null==e?void 0:e.get(w.Ui);t&&this.runAction(t)})}runAction(e){return E(this,void 0,void 0,function*(){yield e.updateValue(h.qt.nonBasicASCII,!1,2)})}}B.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class U extends d.R6{constructor(){super({id:U.ID,label:b.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return E(this,void 0,void 0,function*(){var t;let{codePoint:n,reason:o,inString:r,inComment:s}=i,a=String.fromCodePoint(n),d=e.get(L.eJ),u=e.get(w.Ui),c=[];if(0===o.kind)for(let e of o.notAmbiguousInLocales)c.push({label:b.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',e),run:()=>E(this,void 0,void 0,function*(){(function(e,t){var i;E(this,void 0,void 0,function*(){let n;let o=null===(i=e.inspect(h.qt.allowedLocales).user)||void 0===i?void 0:i.value;for(let e of(n="object"==typeof o&&o?Object.assign({},o):{},t))n[e]=!0;yield e.updateValue(h.qt.allowedLocales,n,2)})})(u,[e])})});if(c.push({label:(t=n,l.vU.isInvisibleCharacter(t)?b.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",P(t)):b.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${P(t)} "${a}"`)),run:()=>(function(e,t){return E(this,void 0,void 0,function*(){let i;let n=e.getValue(h.qt.allowedCharacters);for(let e of(i="object"==typeof n&&n?n:{},t))i[String.fromCodePoint(e)]=!0;yield e.updateValue(h.qt.allowedCharacters,i,2)})})(u,[n])}),s){let e=new A;c.push({label:e.label,run:()=>E(this,void 0,void 0,function*(){return e.runAction(u)})})}else if(r){let e=new z;c.push({label:e.label,run:()=>E(this,void 0,void 0,function*(){return e.runAction(u)})})}if(0===o.kind){let e=new F;c.push({label:e.label,run:()=>E(this,void 0,void 0,function*(){return e.runAction(u)})})}else if(1===o.kind){let e=new H;c.push({label:e.label,run:()=>E(this,void 0,void 0,function*(){return e.runAction(u)})})}else if(2===o.kind){let e=new B;c.push({label:e.label,run:()=>E(this,void 0,void 0,function*(){return e.runAction(u)})})}else(function(e){throw Error(`Unexpected value: ${e}`)})(o);let g=yield d.pick(c,{title:b.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});g&&(yield g.run())})}}U.ID="editor.action.unicodeHighlight.showExcludeOptions";(0,d.Qr)(F),(0,d.Qr)(H),(0,d.Qr)(B),(0,d.Qr)(U),(0,d._K)(x.ID,x),f.Ae.register(T)},5117:function(e,t,i){"use strict";var n=i("67518"),o=i("19527"),r=i("59923"),s=i("79169"),a=i("57233"),l=i("14098"),d=i("41666"),h=i("53861"),u=i("39703"),c=i("144"),g=i("30039"),m=i("78540"),_=function(e,t){return function(i,n){t(i,n,e)}};let f=class extends o.JT{constructor(e,t,i,o,r,s){super(),this._modelService=t,this._themeService=i,this._configurationService=o,this._editor=e,this._provider=s.documentRangeSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new n.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];let a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(e=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(l.e3)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()}))}_cancelAll(){for(let e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!(0,l.tw)(e,this._themeService,this._configurationService)||!(0,s.KO)(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}let t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(t=>this._requestRange(e,t)))}_requestRange(e,t){let i=e.getVersionId(),o=(0,n.PG)(i=>Promise.resolve((0,s.OG)(this._provider,e,t,i))),r=new g.G(!1);return o.then(n=>{if(this._debounceInformation.update(e,r.elapsed()),!n||!n.tokens||e.isDisposed()||e.getVersionId()!==i)return;let{provider:o,tokens:s}=n,a=this._modelService.getSemanticTokensProviderStyling(o);e.tokenization.setPartialSemanticTokens(t,(0,d.h)(s,a,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};f.ID="editor.contrib.viewportSemanticTokens",f=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([_(1,a.q),_(2,u.XE),_(3,h.Ui),_(4,c.A),_(5,m.p)],f),(0,r._K)(f.ID,f)},92512:function(e,t,i){"use strict";i.d(t,{J:function(){return h}});var n=i("9737"),o=i("19219"),r=i("92924"),s=i("31453"),a=i("61111"),l=i("19527"),d=i("17882");class h{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){let t;let i=e.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let a=(0,n.Re)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:a=>{let h=e.getMenuClassName?e.getMenuClassName():"";h&&(a.className+=" "+h),this.options.blockMouse&&(this.block=a.appendChild((0,n.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,n.nm)(this.block,n.tw.MOUSE_DOWN,e=>e.stopPropagation()));let u=new l.SL,c=e.actionRunner||new s.Wi;return c.onBeforeRun(this.onActionRun,this,u),c.onDidRun(this.onDidActionRun,this,u),t=new r.v2(a,i,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:c,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),u.add((0,d.tj)(t,this.themeService)),t.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,u),t.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,u),u.add((0,n.nm)(window,n.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),u.add((0,n.nm)(window,n.tw.MOUSE_DOWN,e=>{if(e.defaultPrevented)return;let t=new o.n(e),i=t.target;if(!t.rightButton){for(;i;){if(i===a)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}})),(0,l.F8)(u,t)},focus:()=>{null==t||t.focus(!!e.autoSelectFirstItem)},onHide:t=>{var i;null===(i=e.onHide)||void 0===i||i.call(e,!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},a,!!a)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!(0,a.n2)(e.error)&&this.notificationService.error(e.error)}}}}]);