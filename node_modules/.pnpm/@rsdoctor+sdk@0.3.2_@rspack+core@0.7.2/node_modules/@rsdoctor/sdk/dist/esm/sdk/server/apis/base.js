import { Data } from "@rsdoctor/utils/common";
class BaseAPI {
  constructor(sdk, server) {
    this.ctx = { sdk, server };
    this.dataLoader = new Data.APIDataLoader(this);
  }
  async loadManifest() {
    return this.ctx.sdk.getManifestData();
  }
  async loadData(key) {
    const data = this.ctx.sdk.getStoreData();
    const sep = ".";
    let res = data[key];
    if (key.includes(sep)) {
      res = key.split(sep).reduce((t, k) => t[k], data);
    }
    return res;
  }
}
export {
  BaseAPI
};
